[{"_path":"/conventions/dependency-injection","_dir":"conventions","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Dependency Injection","description":"Gazel uses Castle.Windsor for Dependency Injection. Using Convention over\r\nConfiguration capabilities of Castle.Windsor, you don't have to register your\r\nclasses one by one. Every public class in module projects are automatically\r\nregistered to the kernel. In this document you will find ways on how to make\r\nuse of this feature.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"dependency-injection"},"children":[{"type":"text","value":"Dependency Injection"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel uses "},{"type":"element","tag":"a","props":{"href":"http://www.castleproject.org/projects/windsor","rel":["nofollow"]},"children":[{"type":"text","value":"Castle.Windsor"}]},{"type":"text","value":" for Dependency Injection. Using Convention over\r\nConfiguration capabilities of Castle.Windsor, you don't have to register your\r\nclasses one by one. Every public class in module projects are automatically\r\nregistered to the kernel. In this document you will find ways on how to make\r\nuse of this feature."}]},{"type":"element","tag":"h2","props":{"id":"scopes"},"children":[{"type":"text","value":"Scopes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are 3 types of scope;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Transient: For every resolution, Windsor creates a new instance."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Request: For every request there is only one instance. After the request\r\nends, object is disposed."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Singleton: There is only one instance until application is shut down."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query"}]},{"type":"text","value":" classes are singleton by convention and the rest are\r\ntransient."}]},{"type":"element","tag":"h2","props":{"id":"manager-classes"},"children":[{"type":"text","value":"Manager classes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For a class to be a manager class, it should have "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" suffix."}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class ProductManager\r\n{\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Manager classes are singleton by convention. You can make use of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":"\r\nclasses to provide general domain logic of a module, batch operations or\r\ncomplex query services."}]},{"type":"element","tag":"h2","props":{"id":"injecting-a-dependency"},"children":[{"type":"text","value":"Injecting a Dependency"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every public class is registered to Castle.Windsor by their own type so that\r\nthey can be injected to other classes."}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    private readonly UserManager _userManager;\r\n\r\n    public ProductManager(UserManager userManager)\r\n    {\r\n        _userManager = userManager;\r\n    }\r\n    ...\r\n}\r\n\r\npublic class UserManager { ... }\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class ProductManager\r\n{\r\n    private readonly UserManager _userManager;\r\n\r\n    public ProductManager(UserManager userManager)\r\n    {\r\n        _userManager = userManager;\r\n    }\r\n    ...\r\n}\r\n\r\npublic class UserManager { ... }\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"public-constructors"},"children":[{"type":"text","value":"Public Constructors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every public class should contain a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" constructor, in order for\r\nCastle.Windsor to register and configure them."}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    ...\r\n    public ProductManager()\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class ProductManager\r\n{\r\n    ...\r\n    public ProductManager()\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"circular-dependencies"},"children":[{"type":"text","value":"Circular Dependencies"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Avoid creating circular dependencies as shown below;"}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    ...\r\n    public ProductManager(UserManager userManager)\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\r\n\r\npublic class UserManager\r\n{\r\n    ...\r\n    public UserManager(ProductManager userManager)\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class ProductManager\r\n{\r\n    ...\r\n    public ProductManager(UserManager userManager)\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\r\n\r\npublic class UserManager\r\n{\r\n    ...\r\n    public UserManager(ProductManager userManager)\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\r\n\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For such cases;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Consider refactoring your code. Two classes shouldn't depend on each other."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If you think you have no other choice, then you can refactor code as shown\r\nbelow;"}]}]},{"type":"element","tag":"code","props":{"code":"public class UserManager\r\n{\r\n    private readonly IModuleContext _context;\r\n\r\n    public UserManager(IModuleContext context)\r\n    {\r\n        _context = context;\r\n    }\r\n\r\n    private ProductManager ProductManager\r\n    {\r\n        get\r\n        {\r\n            return _context.Resolve(typeof(ProductManager), Scope.Any);\r\n        }\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class UserManager\r\n{\r\n    private readonly IModuleContext _context;\r\n\r\n    public UserManager(IModuleContext context)\r\n    {\r\n        _context = context;\r\n    }\r\n\r\n    private ProductManager ProductManager\r\n    {\r\n        get\r\n        {\r\n            return _context.Resolve(typeof(ProductManager), Scope.Any);\r\n        }\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"imodulecontext-interface"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"text","value":" interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"text","value":" is basically an abstraction for your domain objects to be\r\nisolated from the 3rd party libraries."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For singleton objects, mainly "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" objects, we encourage you to inject\r\nthem through constructor. On the other hand, if you want to create a transient\r\nobject, you can make use of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext.New<T>()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    private readonly IModuleContext _context;\r\n\r\n    public ProductManager(IModuleContext context)\r\n    {\r\n        _context = context;\r\n    }\r\n\r\n    public void DoSomethingHeavy()\r\n    {\r\n        _context.New<BatchUserOperation>().DoSomethingHeavy();\r\n    }\r\n    ...\r\n}\r\n\r\npublic class BatchUserOperation\r\n{\r\n    private readonly UserManager _userManager;\r\n\r\n    public BatchUserOperation(UserManager userManager)\r\n    {\r\n        _userManager = userManager;\r\n    }\r\n\r\n    internal void DoSomethingHeavy() { ... }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class ProductManager\r\n{\r\n    private readonly IModuleContext _context;\r\n\r\n    public ProductManager(IModuleContext context)\r\n    {\r\n        _context = context;\r\n    }\r\n\r\n    public void DoSomethingHeavy()\r\n    {\r\n        _context.New<BatchUserOperation>().DoSomethingHeavy();\r\n    }\r\n    ...\r\n}\r\n\r\npublic class BatchUserOperation\r\n{\r\n    private readonly UserManager _userManager;\r\n\r\n    public BatchUserOperation(UserManager userManager)\r\n    {\r\n        _userManager = userManager;\r\n    }\r\n\r\n    internal void DoSomethingHeavy() { ... }\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"injecting-interfaces"},"children":[{"type":"text","value":"Injecting Interfaces"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Public classes can also be injected using their interfaces"}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    private readonly IUserManager _userManager;\r\n\r\n    public ProductManager(IUserManager userManager)\r\n    {\r\n        _userManager = userManager;\r\n    }\r\n\r\n    ...\r\n}\r\n\r\npublic interface IUserManager { ... }\r\n\r\npublic class UserManager : IUserManager { ... }\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class ProductManager\r\n{\r\n    private readonly IUserManager _userManager;\r\n\r\n    public ProductManager(IUserManager userManager)\r\n    {\r\n        _userManager = userManager;\r\n    }\r\n\r\n    ...\r\n}\r\n\r\npublic interface IUserManager { ... }\r\n\r\npublic class UserManager : IUserManager { ... }\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"injecting-multiple-implementations"},"children":[{"type":"text","value":"Injecting Multiple Implementations"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If an interface has more than one implementations then you can inject all of\r\nthem at once by using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IList<T>"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    private IList<INotifier> _notifiers;\r\n\r\n    public ProductManager(IList<INotifier> notifiers)\r\n    {\r\n        _notifiers = notifiers;\r\n    }\r\n    ...\r\n}\r\n\r\npublic interface INotifier { ... }\r\n\r\npublic class SmsNotifier : INotifier { ... }\r\npublic class MailNotifier : INotifier { ... }\r\npublic class PushNotifier : INotifier { ... }\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class ProductManager\r\n{\r\n    private IList<INotifier> _notifiers;\r\n\r\n    public ProductManager(IList<INotifier> notifiers)\r\n    {\r\n        _notifiers = notifiers;\r\n    }\r\n    ...\r\n}\r\n\r\npublic interface INotifier { ... }\r\n\r\npublic class SmsNotifier : INotifier { ... }\r\npublic class MailNotifier : INotifier { ... }\r\npublic class PushNotifier : INotifier { ... }\n"}]}]}]}]},"position":1,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"dependency-injection"},"children":[{"type":"text","value":"Dependency Injection"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel uses "},{"type":"element","tag":"a","props":{"href":"http://www.castleproject.org/projects/windsor","rel":["nofollow"]},"children":[{"type":"text","value":"Castle.Windsor"}]},{"type":"text","value":" for Dependency Injection. Using Convention over\r\nConfiguration capabilities of Castle.Windsor, you don't have to register your\r\nclasses one by one. Every public class in module projects are automatically\r\nregistered to the kernel. In this document you will find ways on how to make\r\nuse of this feature."}]},{"type":"element","tag":"h2","props":{"id":"scopes"},"children":[{"type":"text","value":"Scopes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are 3 types of scope;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Transient: For every resolution, Windsor creates a new instance."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Request: For every request there is only one instance. After the request\r\nends, object is disposed."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Singleton: There is only one instance until application is shut down."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query"}]},{"type":"text","value":" classes are singleton by convention and the rest are\r\ntransient."}]},{"type":"element","tag":"h2","props":{"id":"manager-classes"},"children":[{"type":"text","value":"Manager classes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For a class to be a manager class, it should have "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" suffix."}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"ProductManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Manager classes are singleton by convention. You can make use of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":"\r\nclasses to provide general domain logic of a module, batch operations or\r\ncomplex query services."}]},{"type":"element","tag":"h2","props":{"id":"injecting-a-dependency"},"children":[{"type":"text","value":"Injecting a Dependency"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every public class is registered to Castle.Windsor by their own type so that\r\nthey can be injected to other classes."}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    private readonly UserManager _userManager;\r\n\r\n    public ProductManager(UserManager userManager)\r\n    {\r\n        _userManager = userManager;\r\n    }\r\n    ...\r\n}\r\n\r\npublic class UserManager { ... }\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"ProductManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"UserManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"ProductManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"UserManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"UserManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" { ... }"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"public-constructors"},"children":[{"type":"text","value":"Public Constructors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every public class should contain a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" constructor, in order for\r\nCastle.Windsor to register and configure them."}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    ...\r\n    public ProductManager()\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"ProductManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"ProductManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"        ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"circular-dependencies"},"children":[{"type":"text","value":"Circular Dependencies"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Avoid creating circular dependencies as shown below;"}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    ...\r\n    public ProductManager(UserManager userManager)\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\r\n\r\npublic class UserManager\r\n{\r\n    ...\r\n    public UserManager(ProductManager userManager)\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"ProductManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"ProductManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"UserManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"        ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"UserManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"UserManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"ProductManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"        ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For such cases;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Consider refactoring your code. Two classes shouldn't depend on each other."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If you think you have no other choice, then you can refactor code as shown\r\nbelow;"}]}]},{"type":"element","tag":"code","props":{"code":"public class UserManager\r\n{\r\n    private readonly IModuleContext _context;\r\n\r\n    public UserManager(IModuleContext context)\r\n    {\r\n        _context = context;\r\n    }\r\n\r\n    private ProductManager ProductManager\r\n    {\r\n        get\r\n        {\r\n            return _context.Resolve(typeof(ProductManager), Scope.Any);\r\n        }\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"UserManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"UserManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"ProductManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"ProductManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"get"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"        {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-4c5f6e"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"Resolve"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"typeof"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"ProductManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"), "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"Scope"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"Any"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"imodulecontext-interface"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"text","value":" interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"text","value":" is basically an abstraction for your domain objects to be\r\nisolated from the 3rd party libraries."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For singleton objects, mainly "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" objects, we encourage you to inject\r\nthem through constructor. On the other hand, if you want to create a transient\r\nobject, you can make use of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext.New<T>()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    private readonly IModuleContext _context;\r\n\r\n    public ProductManager(IModuleContext context)\r\n    {\r\n        _context = context;\r\n    }\r\n\r\n    public void DoSomethingHeavy()\r\n    {\r\n        _context.New<BatchUserOperation>().DoSomethingHeavy();\r\n    }\r\n    ...\r\n}\r\n\r\npublic class BatchUserOperation\r\n{\r\n    private readonly UserManager _userManager;\r\n\r\n    public BatchUserOperation(UserManager userManager)\r\n    {\r\n        _userManager = userManager;\r\n    }\r\n\r\n    internal void DoSomethingHeavy() { ... }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"ProductManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"ProductManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"DoSomethingHeavy"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"New"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"BatchUserOperation"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"DoSomethingHeavy"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"BatchUserOperation"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"UserManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"BatchUserOperation"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"UserManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"DoSomethingHeavy"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"() { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"injecting-interfaces"},"children":[{"type":"text","value":"Injecting Interfaces"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Public classes can also be injected using their interfaces"}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    private readonly IUserManager _userManager;\r\n\r\n    public ProductManager(IUserManager userManager)\r\n    {\r\n        _userManager = userManager;\r\n    }\r\n\r\n    ...\r\n}\r\n\r\npublic interface IUserManager { ... }\r\n\r\npublic class UserManager : IUserManager { ... }\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"ProductManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"IUserManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"ProductManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"IUserManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"userManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"IUserManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"UserManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"IUserManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" { ... }"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"injecting-multiple-implementations"},"children":[{"type":"text","value":"Injecting Multiple Implementations"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If an interface has more than one implementations then you can inject all of\r\nthem at once by using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IList<T>"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class ProductManager\r\n{\r\n    private IList<INotifier> _notifiers;\r\n\r\n    public ProductManager(IList<INotifier> notifiers)\r\n    {\r\n        _notifiers = notifiers;\r\n    }\r\n    ...\r\n}\r\n\r\npublic interface INotifier { ... }\r\n\r\npublic class SmsNotifier : INotifier { ... }\r\npublic class MailNotifier : INotifier { ... }\r\npublic class PushNotifier : INotifier { ... }\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"ProductManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"IList"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"INotifier"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_notifiers"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a0f18d"},"children":[{"type":"text","value":"ProductManager"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"IList"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"INotifier"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"notifiers"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"_notifiers"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-93bf11"},"children":[{"type":"text","value":"notifiers"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"INotifier"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"SmsNotifier"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"INotifier"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"MailNotifier"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"INotifier"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d81696"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"PushNotifier"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-bc3001"},"children":[{"type":"text","value":"INotifier"}]},{"type":"element","tag":"span","props":{"class":"ct-f3d96d"},"children":[{"type":"text","value":" { ... }"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-4c5f6e{color:#C586C0}\n.ct-a0f18d{color:#DCDCAA}\n.ct-93bf11{color:#9CDCFE}\n.ct-bc3001{color:#4EC9B0}\n.ct-f3d96d{color:#D4D4D4}\n.ct-d81696{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"scopes","depth":2,"text":"Scopes"},{"id":"manager-classes","depth":2,"text":"Manager classes"},{"id":"injecting-a-dependency","depth":2,"text":"Injecting a Dependency","children":[{"id":"public-constructors","depth":3,"text":"Public Constructors"},{"id":"circular-dependencies","depth":3,"text":"Circular Dependencies"}]},{"id":"imodulecontext-interface","depth":2,"text":"IModuleContext interface"},{"id":"injecting-interfaces","depth":2,"text":"Injecting Interfaces"},{"id":"injecting-multiple-implementations","depth":2,"text":"Injecting Multiple Implementations"}]}},"_type":"markdown","_id":"content:conventions:dependency-injection.md","_source":"content","_file":"conventions/dependency-injection.md","_extension":"md"},{"_path":"/conventions/business-services","_dir":"conventions","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Business Services","description":"Gazel configures Routine to expose every public method to be a business\r\nservice. A business service is a public method that you can call using HTTP.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"business-services"},"children":[{"type":"text","value":"Business Services"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel configures "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/routine","rel":["nofollow"]},"children":[{"type":"text","value":"Routine"}]},{"type":"text","value":" to expose every public method to be a business\r\nservice. A business service is a public method that you can call using HTTP."}]},{"type":"element","tag":"h2","props":{"id":"public-methods"},"children":[{"type":"text","value":"Public Methods"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" methods are directly exposed as business services."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual List<Branch> GetBranches()\r\n    {\r\n        return _context.Query<Branches>().ByCompany(this);\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual List<Branch> GetBranches()\r\n    {\r\n        return _context.Query<Branches>().ByCompany(this);\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"persistent-objects-as-parameters"},"children":[{"type":"text","value":"Persistent Objects as Parameters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use a persistent object directly in your business methods. Gazel will\r\nautomatically lookup for a record with given id. If record is not found, it\r\nwill automatically throw "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ObjectNotFoundException"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual Branch AddBranch(string name, District district)\r\n    {\r\n        return _context.New<Branch>().With(this, name, district);\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual Branch AddBranch(string name, District district)\r\n    {\r\n        return _context.New<Branch>().With(this, name, district);\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Therefore, with the above code, you ensured that district is either null or an\r\nexisting record in database."}]},{"type":"element","tag":"h2","props":{"id":"method-overloads"},"children":[{"type":"text","value":"Method Overloads"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Method overloads are considered as one business service in service layer. If\r\nyou create method overloads like below, then you will see only one business\r\nservice with all of parameters."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual Branch AddBranch(string name, District district) => AddBranch(name, district, null);\r\n    public virtual Branch AddBranch(string name, District district, Company ownerCompany)\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual Branch AddBranch(string name, District district) => AddBranch(name, district, null);\r\n    public virtual Branch AddBranch(string name, District district, Company ownerCompany)\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you don't send an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ownerCompany"}]},{"type":"text","value":" then the first overload will be called, if\r\nyou fulfill all parameters, then the second overload will be called."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Overload selection is automatic, and Gazel will try to pass as many\r\nparameters as it can. Assume that you send "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ownerCompany"}]},{"type":"text","value":" to above\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddBranch"}]},{"type":"text","value":" service. Then first overload matches only "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":" parameter, but\r\nsecond overload matches both of them. So invocation will be on the second one\r\nand "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"district"}]},{"type":"text","value":" parameter will be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If return type of overloads are not the same, the first overload will be a\r\nbusiness service, but the second one will be ignored."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    // First overload returns void\r\n    public virtual void AddBranch(string name, District district) { ... }\r\n\r\n    // Second overload returns Branch, this will not be a business service.\r\n    public virtual Branch AddBranch(string name, District district, Company ownerCompany) { ... }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    // First overload returns void\r\n    public virtual void AddBranch(string name, District district) { ... }\r\n\r\n    // Second overload returns Branch, this will not be a business service.\r\n    public virtual Branch AddBranch(string name, District district, Company ownerCompany) { ... }\r\n    ...\r\n}\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"optional-parameters"},"children":[{"type":"text","value":"Optional parameters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel supports optional parameters in business services. You can use\r\noptional parameters instead of overloads."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual Branch AddBranch(string name, District district,\r\n        Company ownerCompany = null\r\n    )\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual Branch AddBranch(string name, District district,\r\n        Company ownerCompany = null\r\n    )\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"list-and-array-parameters-and-return-types"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"List"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"array"}]},{"type":"text","value":" parameters and return types"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"List"}]},{"type":"text","value":" class for both parameters and return types as long as type\r\nparameter "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"T"}]},{"type":"text","value":" for lists is a supported type."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual List<Branch> GetBranches() { ... }\r\n    public virtual Employee[] GetEmployees() { ... }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual List<Branch> GetBranches() { ... }\r\n    public virtual Employee[] GetEmployees() { ... }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"no-dictionary-parameters-and-return-types"},"children":[{"type":"text","value":"No "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Dictionary"}]},{"type":"text","value":" parameters and return types"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel does not support "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Dictionary"}]},{"type":"text","value":" in business services by design. So any\r\nservice with Dictionary parameter or return type will not be exposed as a\r\nbusiness service. The reason behind this design decision is to favor\r\nstrongly-typed classes over generic dictionaries."}]},{"type":"element","tag":"h2","props":{"id":"data-transfer-objects-dtos"},"children":[{"type":"text","value":"Data Transfer Objects (DTOs)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you need a class that is not a persistent class for input or output, then\r\nyou can make use of DTO structs."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    // This will not be a business service\r\n    public virtual void AddBranch(string name, Dictionary<string, string> properties) { ... }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    // This will not be a business service\r\n    public virtual void AddBranch(string name, Dictionary<string, string> properties) { ... }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Data transfer objects are supported in two different usages in mind;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"DTOs for parameters: Input DTOs"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"DTOs for results: Output DTOs"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As their names imply,"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You create an input DTO only to use in parameters of your business services"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You create an output DTO only to return custom data as a result of a\r\nbusiness service"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And DTOs exist only to transfer data. Because of this reason, Gazel uses\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"struct"}]},{"type":"text","value":"s for DTOs."}]},{"type":"element","tag":"h3","props":{"id":"input-dtos"},"children":[{"type":"text","value":"Input DTOs"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To accept a complex data in service parameters you can make use of input DTOs."}]},{"type":"element","tag":"code","props":{"code":"public struct NewBranch\r\n{\r\n    internal string Name { get; private set; }\r\n    internal string Address { get; private set; }\r\n    internal City City { get; private set; }\r\n    internal Country Country { get; private set; }\r\n\r\n    public NewBranch(string name, string address, City city, Country country)\r\n        : this()\r\n    {\r\n        Name = name;\r\n        Address = address;\r\n        City = city;\r\n        Country = country;\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public struct NewBranch\r\n{\r\n    internal string Name { get; private set; }\r\n    internal string Address { get; private set; }\r\n    internal City City { get; private set; }\r\n    internal Country Country { get; private set; }\r\n\r\n    public NewBranch(string name, string address, City city, Country country)\r\n        : this()\r\n    {\r\n        Name = name;\r\n        Address = address;\r\n        City = city;\r\n        Country = country;\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Properties of input DTOs should be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"internal"}]},{"type":"text","value":" and constructor of input DTOs\r\nshould be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":". This convention implies that;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"This struct "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"should not"}]},{"type":"text","value":" be used for results because no-one from outside\r\nwill see its properties,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"This struct "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"should"}]},{"type":"text","value":" be used for parameters because constructor is public\r\nand everyone can create an instance of this struct."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Constructor parameters of input DTOs are just like parameters of business\r\nservices. You can use"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"primitives and other value types,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"persistent classes,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"other input DTOs"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"as parameters of constructor."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Example usage of an input DTO in a business service would be as follows;"}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddBranches(List<NewBranch> newBranches) { ... }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddBranches(List<NewBranch> newBranches) { ... }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you need to get a list of name/value pairs you can simply create an input\r\nDTO with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Value"}]},{"type":"text","value":" properties. And use list of this DTO in a\r\nbusiness service."}]}]},{"type":"element","tag":"h3","props":{"id":"output-dtos"},"children":[{"type":"text","value":"Output DTOs"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To return custom data from business services you can make use of output DTOs."}]},{"type":"element","tag":"code","props":{"code":"public struct BranchInfo\r\n{\r\n    public string Name { get; private set; }\r\n    public string Address { get; private set; }\r\n    public City City { get; private set; }\r\n    public Country Country { get; private set; }\r\n\r\n    internal BranchInfo(Branch branch)\r\n        : this()\r\n    {\r\n        Name = branch.Name;\r\n        Address = branch.Address;\r\n        City = branch.City;\r\n        Country = branch.City.Country;\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public struct BranchInfo\r\n{\r\n    public string Name { get; private set; }\r\n    public string Address { get; private set; }\r\n    public City City { get; private set; }\r\n    public Country Country { get; private set; }\r\n\r\n    internal BranchInfo(Branch branch)\r\n        : this()\r\n    {\r\n        Name = branch.Name;\r\n        Address = branch.Address;\r\n        City = branch.City;\r\n        Country = branch.City.Country;\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Properties of output DTOs should be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" and constructor of output DTOs\r\nshould be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"internal"}]},{"type":"text","value":". This convention implies that;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"This struct "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"should"}]},{"type":"text","value":" be used for results because its properties are public\r\nand everyone can see them,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"This struct "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"should not"}]},{"type":"text","value":" be used for parameters because its constructor is\r\ninternal and only internal classes create instances of this struct."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that above constructor gets an instance of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Branch"}]},{"type":"text","value":" class and assigns\r\nvalues by using this "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Branch"}]},{"type":"text","value":" instance. This will help you to create an\r\ninstance of this struct whenever you have an instance of a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Branch"}]},{"type":"text","value":" class."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Example usage of this output DTO in a business service would be as follows;"}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual List<BranchInfo> GetBranches()\r\n    {\r\n        return _context\r\n            .Query<Branches>()\r\n            .ByCompany(this)\r\n            .Select(b => new BranchInfo(b))\r\n            .ToList()\r\n        ;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual List<BranchInfo> GetBranches()\r\n    {\r\n        return _context\r\n            .Query<Branches>()\r\n            .ByCompany(this)\r\n            .Select(b => new BranchInfo(b))\r\n            .ToList()\r\n        ;\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"hiding-public-methods-and-properties"},"children":[{"type":"text","value":"Hiding Public Methods and Properties"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In some cases you might need to have a public method, but you might not want it\r\nto be exposed as a business service. In this kind of cases, you can mark a\r\nbusiness service by adding an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Internal"}]},{"type":"text","value":" attribute on top of a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"class"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"constructor"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"method"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"property"}]},{"type":"text","value":" like below;"}]},{"type":"element","tag":"code","props":{"code":"[Internal]\r\npublic class InternalManager\r\n{\r\n    public PublicData ShouldNotBeRegisteredAsAService()\r\n    {\r\n        return new PublicData(\"public internal\", \"public\");\r\n    }\r\n}\r\n\r\npublic class PublicManager\r\n{\r\n    private readonly InternalManager _internalManager;\r\n\r\n    public PublicManager(InternalManager internalManager)\r\n    {\r\n        _internalManager = internalManager;\r\n    }\r\n\r\n    public PublicData PublicService()\r\n    {\r\n        return _internalManager.ShouldNotBeRegisteredAsAService();\r\n    }\r\n\r\n    [Internal]\r\n    public void InternalService()\r\n    {\r\n    }\r\n}\r\n\r\npublic struct PublicData\r\n{\r\n    [Internal]\r\n    public string InternalProperty { get; private set; }\r\n\r\n    public string PublicProperty { get; private set; }\r\n\r\n    [Internal]\r\n    public PublicData(string internalProperty, string publicProperty)\r\n        : this()\r\n    {\r\n        InternalProperty = internalProperty;\r\n        PublicProperty = publicProperty;\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[Internal]\r\npublic class InternalManager\r\n{\r\n    public PublicData ShouldNotBeRegisteredAsAService()\r\n    {\r\n        return new PublicData(\"public internal\", \"public\");\r\n    }\r\n}\r\n\r\npublic class PublicManager\r\n{\r\n    private readonly InternalManager _internalManager;\r\n\r\n    public PublicManager(InternalManager internalManager)\r\n    {\r\n        _internalManager = internalManager;\r\n    }\r\n\r\n    public PublicData PublicService()\r\n    {\r\n        return _internalManager.ShouldNotBeRegisteredAsAService();\r\n    }\r\n\r\n    [Internal]\r\n    public void InternalService()\r\n    {\r\n    }\r\n}\r\n\r\npublic struct PublicData\r\n{\r\n    [Internal]\r\n    public string InternalProperty { get; private set; }\r\n\r\n    public string PublicProperty { get; private set; }\r\n\r\n    [Internal]\r\n    public PublicData(string internalProperty, string publicProperty)\r\n        : this()\r\n    {\r\n        InternalProperty = internalProperty;\r\n        PublicProperty = publicProperty;\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the above example;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"InternalManager"}]},{"type":"text","value":" class and all of its members will be hidden in service\r\nlayer."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PublicManager.InternalService"}]},{"type":"text","value":" method will be hidden in service layer."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"For "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PublicData"}]},{"type":"text","value":" class;"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The constructor will be hidden,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"InternalProperty"}]},{"type":"text","value":" will be hidden,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"But "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PublicProperty"}]},{"type":"text","value":" will be available in service layer"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can think of this attribute as an additional access modifier to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"private"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"internal"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected internal"}]},{"type":"text","value":" access modifier\r\nwhich we sometimes refer as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public internal"}]},{"type":"text","value":"."}]}]},"position":2,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"business-services"},"children":[{"type":"text","value":"Business Services"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel configures "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/routine","rel":["nofollow"]},"children":[{"type":"text","value":"Routine"}]},{"type":"text","value":" to expose every public method to be a business\r\nservice. A business service is a public method that you can call using HTTP."}]},{"type":"element","tag":"h2","props":{"id":"public-methods"},"children":[{"type":"text","value":"Public Methods"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" methods are directly exposed as business services."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual List<Branch> GetBranches()\r\n    {\r\n        return _context.Query<Branches>().ByCompany(this);\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"GetBranches"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-08ad7d"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Branches"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"ByCompany"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"persistent-objects-as-parameters"},"children":[{"type":"text","value":"Persistent Objects as Parameters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use a persistent object directly in your business methods. Gazel will\r\nautomatically lookup for a record with given id. If record is not found, it\r\nwill automatically throw "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ObjectNotFoundException"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual Branch AddBranch(string name, District district)\r\n    {\r\n        return _context.New<Branch>().With(this, name, district);\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"AddBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"District"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"district"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-08ad7d"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"New"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"district"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Therefore, with the above code, you ensured that district is either null or an\r\nexisting record in database."}]},{"type":"element","tag":"h2","props":{"id":"method-overloads"},"children":[{"type":"text","value":"Method Overloads"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Method overloads are considered as one business service in service layer. If\r\nyou create method overloads like below, then you will see only one business\r\nservice with all of parameters."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual Branch AddBranch(string name, District district) => AddBranch(name, district, null);\r\n    public virtual Branch AddBranch(string name, District district, Company ownerCompany)\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"AddBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"District"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"district"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"AddBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"district"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"AddBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"District"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"district"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"ownerCompany"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you don't send an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ownerCompany"}]},{"type":"text","value":" then the first overload will be called, if\r\nyou fulfill all parameters, then the second overload will be called."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Overload selection is automatic, and Gazel will try to pass as many\r\nparameters as it can. Assume that you send "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ownerCompany"}]},{"type":"text","value":" to above\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddBranch"}]},{"type":"text","value":" service. Then first overload matches only "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":" parameter, but\r\nsecond overload matches both of them. So invocation will be on the second one\r\nand "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"district"}]},{"type":"text","value":" parameter will be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If return type of overloads are not the same, the first overload will be a\r\nbusiness service, but the second one will be ignored."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    // First overload returns void\r\n    public virtual void AddBranch(string name, District district) { ... }\r\n\r\n    // Second overload returns Branch, this will not be a business service.\r\n    public virtual Branch AddBranch(string name, District district, Company ownerCompany) { ... }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3d3a95"},"children":[{"type":"text","value":"// First overload returns void"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"AddBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"District"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"district"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":") { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3d3a95"},"children":[{"type":"text","value":"// Second overload returns Branch, this will not be a business service."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"AddBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"District"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"district"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"ownerCompany"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":") { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"optional-parameters"},"children":[{"type":"text","value":"Optional parameters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel supports optional parameters in business services. You can use\r\noptional parameters instead of overloads."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual Branch AddBranch(string name, District district,\r\n        Company ownerCompany = null\r\n    )\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"AddBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"District"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"district"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"ownerCompany"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"null"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    )"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"list-and-array-parameters-and-return-types"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"List"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"array"}]},{"type":"text","value":" parameters and return types"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"List"}]},{"type":"text","value":" class for both parameters and return types as long as type\r\nparameter "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"T"}]},{"type":"text","value":" for lists is a supported type."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual List<Branch> GetBranches() { ... }\r\n    public virtual Employee[] GetEmployees() { ... }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"GetBranches"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"() { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Employee"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"[] "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"GetEmployees"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"() { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"no-dictionary-parameters-and-return-types"},"children":[{"type":"text","value":"No "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Dictionary"}]},{"type":"text","value":" parameters and return types"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel does not support "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Dictionary"}]},{"type":"text","value":" in business services by design. So any\r\nservice with Dictionary parameter or return type will not be exposed as a\r\nbusiness service. The reason behind this design decision is to favor\r\nstrongly-typed classes over generic dictionaries."}]},{"type":"element","tag":"h2","props":{"id":"data-transfer-objects-dtos"},"children":[{"type":"text","value":"Data Transfer Objects (DTOs)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you need a class that is not a persistent class for input or output, then\r\nyou can make use of DTO structs."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    // This will not be a business service\r\n    public virtual void AddBranch(string name, Dictionary<string, string> properties) { ... }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3d3a95"},"children":[{"type":"text","value":"// This will not be a business service"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"AddBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Dictionary"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"properties"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":") { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Data transfer objects are supported in two different usages in mind;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"DTOs for parameters: Input DTOs"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"DTOs for results: Output DTOs"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As their names imply,"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You create an input DTO only to use in parameters of your business services"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You create an output DTO only to return custom data as a result of a\r\nbusiness service"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And DTOs exist only to transfer data. Because of this reason, Gazel uses\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"struct"}]},{"type":"text","value":"s for DTOs."}]},{"type":"element","tag":"h3","props":{"id":"input-dtos"},"children":[{"type":"text","value":"Input DTOs"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To accept a complex data in service parameters you can make use of input DTOs."}]},{"type":"element","tag":"code","props":{"code":"public struct NewBranch\r\n{\r\n    internal string Name { get; private set; }\r\n    internal string Address { get; private set; }\r\n    internal City City { get; private set; }\r\n    internal Country Country { get; private set; }\r\n\r\n    public NewBranch(string name, string address, City city, Country country)\r\n        : this()\r\n    {\r\n        Name = name;\r\n        Address = address;\r\n        City = city;\r\n        Country = country;\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"struct"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"NewBranch"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Address"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Country"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Country"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"NewBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"address"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Country"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"country"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        : "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Address"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"address"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Country"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"country"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Properties of input DTOs should be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"internal"}]},{"type":"text","value":" and constructor of input DTOs\r\nshould be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":". This convention implies that;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"This struct "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"should not"}]},{"type":"text","value":" be used for results because no-one from outside\r\nwill see its properties,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"This struct "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"should"}]},{"type":"text","value":" be used for parameters because constructor is public\r\nand everyone can create an instance of this struct."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Constructor parameters of input DTOs are just like parameters of business\r\nservices. You can use"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"primitives and other value types,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"persistent classes,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"other input DTOs"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"as parameters of constructor."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Example usage of an input DTO in a business service would be as follows;"}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddBranches(List<NewBranch> newBranches) { ... }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"AddBranches"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"NewBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"newBranches"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":") { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you need to get a list of name/value pairs you can simply create an input\r\nDTO with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Value"}]},{"type":"text","value":" properties. And use list of this DTO in a\r\nbusiness service."}]}]},{"type":"element","tag":"h3","props":{"id":"output-dtos"},"children":[{"type":"text","value":"Output DTOs"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To return custom data from business services you can make use of output DTOs."}]},{"type":"element","tag":"code","props":{"code":"public struct BranchInfo\r\n{\r\n    public string Name { get; private set; }\r\n    public string Address { get; private set; }\r\n    public City City { get; private set; }\r\n    public Country Country { get; private set; }\r\n\r\n    internal BranchInfo(Branch branch)\r\n        : this()\r\n    {\r\n        Name = branch.Name;\r\n        Address = branch.Address;\r\n        City = branch.City;\r\n        Country = branch.City.Country;\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"struct"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"BranchInfo"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Address"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Country"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Country"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"BranchInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        : "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Address"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Address"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Country"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"branch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"Country"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Properties of output DTOs should be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" and constructor of output DTOs\r\nshould be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"internal"}]},{"type":"text","value":". This convention implies that;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"This struct "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"should"}]},{"type":"text","value":" be used for results because its properties are public\r\nand everyone can see them,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"This struct "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"should not"}]},{"type":"text","value":" be used for parameters because its constructor is\r\ninternal and only internal classes create instances of this struct."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that above constructor gets an instance of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Branch"}]},{"type":"text","value":" class and assigns\r\nvalues by using this "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Branch"}]},{"type":"text","value":" instance. This will help you to create an\r\ninstance of this struct whenever you have an instance of a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Branch"}]},{"type":"text","value":" class."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Example usage of this output DTO in a business service would be as follows;"}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual List<BranchInfo> GetBranches()\r\n    {\r\n        return _context\r\n            .Query<Branches>()\r\n            .ByCompany(this)\r\n            .Select(b => new BranchInfo(b))\r\n            .ToList()\r\n        ;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"BranchInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"GetBranches"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-08ad7d"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"_context"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Branches"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":">()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"ByCompany"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"Select"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"b"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"BranchInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"b"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"))"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"ToList"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        ;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"hiding-public-methods-and-properties"},"children":[{"type":"text","value":"Hiding Public Methods and Properties"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In some cases you might need to have a public method, but you might not want it\r\nto be exposed as a business service. In this kind of cases, you can mark a\r\nbusiness service by adding an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Internal"}]},{"type":"text","value":" attribute on top of a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"class"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"constructor"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"method"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"property"}]},{"type":"text","value":" like below;"}]},{"type":"element","tag":"code","props":{"code":"[Internal]\r\npublic class InternalManager\r\n{\r\n    public PublicData ShouldNotBeRegisteredAsAService()\r\n    {\r\n        return new PublicData(\"public internal\", \"public\");\r\n    }\r\n}\r\n\r\npublic class PublicManager\r\n{\r\n    private readonly InternalManager _internalManager;\r\n\r\n    public PublicManager(InternalManager internalManager)\r\n    {\r\n        _internalManager = internalManager;\r\n    }\r\n\r\n    public PublicData PublicService()\r\n    {\r\n        return _internalManager.ShouldNotBeRegisteredAsAService();\r\n    }\r\n\r\n    [Internal]\r\n    public void InternalService()\r\n    {\r\n    }\r\n}\r\n\r\npublic struct PublicData\r\n{\r\n    [Internal]\r\n    public string InternalProperty { get; private set; }\r\n\r\n    public string PublicProperty { get; private set; }\r\n\r\n    [Internal]\r\n    public PublicData(string internalProperty, string publicProperty)\r\n        : this()\r\n    {\r\n        InternalProperty = internalProperty;\r\n        PublicProperty = publicProperty;\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Internal"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"InternalManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"PublicData"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"ShouldNotBeRegisteredAsAService"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-08ad7d"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"PublicData"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-36c7bb"},"children":[{"type":"text","value":"\"public internal\""}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-36c7bb"},"children":[{"type":"text","value":"\"public\""}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"PublicManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"InternalManager"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"_internalManager"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"PublicManager"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"InternalManager"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"internalManager"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"_internalManager"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"internalManager"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"PublicData"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"PublicService"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-08ad7d"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"_internalManager"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"ShouldNotBeRegisteredAsAService"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ["}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Internal"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"InternalService"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"struct"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"PublicData"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ["}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Internal"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"InternalProperty"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"PublicProperty"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    ["}]},{"type":"element","tag":"span","props":{"class":"ct-2d7225"},"children":[{"type":"text","value":"Internal"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b09f2d"},"children":[{"type":"text","value":"PublicData"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"internalProperty"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"publicProperty"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        : "}]},{"type":"element","tag":"span","props":{"class":"ct-eecf8b"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"InternalProperty"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"internalProperty"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"PublicProperty"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-aa30a6"},"children":[{"type":"text","value":"publicProperty"}]},{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d22"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the above example;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"InternalManager"}]},{"type":"text","value":" class and all of its members will be hidden in service\r\nlayer."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PublicManager.InternalService"}]},{"type":"text","value":" method will be hidden in service layer."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"For "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PublicData"}]},{"type":"text","value":" class;"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The constructor will be hidden,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"InternalProperty"}]},{"type":"text","value":" will be hidden,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"But "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PublicProperty"}]},{"type":"text","value":" will be available in service layer"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can think of this attribute as an additional access modifier to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"private"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"internal"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected internal"}]},{"type":"text","value":" access modifier\r\nwhich we sometimes refer as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public internal"}]},{"type":"text","value":"."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-36c7bb{color:#CE9178}\n.ct-3d3a95{color:#6A9955}\n.ct-aa30a6{color:#9CDCFE}\n.ct-08ad7d{color:#C586C0}\n.ct-b09f2d{color:#DCDCAA}\n.ct-2d7225{color:#4EC9B0}\n.ct-206d22{color:#D4D4D4}\n.ct-eecf8b{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"public-methods","depth":2,"text":"Public Methods"},{"id":"persistent-objects-as-parameters","depth":2,"text":"Persistent Objects as Parameters"},{"id":"method-overloads","depth":2,"text":"Method Overloads"},{"id":"optional-parameters","depth":2,"text":"Optional parameters"},{"id":"list-and-array-parameters-and-return-types","depth":2,"text":"List and array parameters and return types","children":[{"id":"no-dictionary-parameters-and-return-types","depth":3,"text":"No Dictionary parameters and return types"}]},{"id":"data-transfer-objects-dtos","depth":2,"text":"Data Transfer Objects (DTOs)","children":[{"id":"input-dtos","depth":3,"text":"Input DTOs"},{"id":"output-dtos","depth":3,"text":"Output DTOs"}]},{"id":"hiding-public-methods-and-properties","depth":2,"text":"Hiding Public Methods and Properties"}]}},"_type":"markdown","_id":"content:conventions:business-services.md","_source":"content","_file":"conventions/business-services.md","_extension":"md"},{"_path":"/conventions/data-persistence","_dir":"conventions","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Data Persistence","description":"Gazel configures NHibernate with the help of Fluent NHibernate to\r\nprovide a data persistence layer.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"data-persistence"},"children":[{"type":"text","value":"Data Persistence"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel configures "},{"type":"element","tag":"a","props":{"href":"https://nhibernate.info","rel":["nofollow"]},"children":[{"type":"text","value":"NHibernate"}]},{"type":"text","value":" with the help of "},{"type":"element","tag":"a","props":{"href":"https://github.com/nhibernate/fluent-nhibernate","rel":["nofollow"]},"children":[{"type":"text","value":"Fluent NHibernate"}]},{"type":"text","value":" to\r\nprovide a data persistence layer."}]},{"type":"element","tag":"h2","props":{"id":"persistent-class-conventions"},"children":[{"type":"text","value":"Persistent Class Conventions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An object is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Persistent"}]},{"type":"text","value":" if its class injects its own repository. This\r\nconvention ensures that there is only one class to deal with one table in the\r\ndatabase."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    private readonly IRepository<Company> _repository;\r\n\r\n    protected Company() { }\r\n    public Company(IRepository<Company> repository)\r\n    {\r\n        _repository = repository;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    private readonly IRepository<Company> _repository;\r\n\r\n    protected Company() { }\r\n    public Company(IRepository<Company> repository)\r\n    {\r\n        _repository = repository;\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This injection tells Gazel to configure this class to be a persistent class\r\nwhich means that there will be an ORM configuration for this class."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected Task() { }"}]},{"type":"text","value":" constructor is there for NHibernate to be able to\r\ncreate proxies on persistent classes for lazy loading."}]}]},{"type":"element","tag":"h3","props":{"id":"query-classes"},"children":[{"type":"text","value":"Query classes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you have a persistent class, this means that you will need to read\r\npersistent objects from corresponding database table. That's why Gazel requires\r\nyou to create a query class for every persistent class."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n}\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n}\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It's better to put persistent and query classes of a table into one source\r\nfile."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this document we will explain persistent classes rather than query classes.\r\nYou can find detailed explanation for queries in "},{"type":"element","tag":"a","props":{"href":"/features#queries"},"children":[{"type":"text","value":"this\r\npage"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"id-property"},"children":[{"type":"text","value":"Id property"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every persistent class should have an identifier property of type "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"int"}]},{"type":"text","value":" and of\r\nname "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Id"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This property will be used by NHibernate to be the primary key and first level\r\ncaching."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Id properties are automatically configured to be an identity column which\r\nmeans that database is responsible for assigning Id values."}]}]},{"type":"element","tag":"h3","props":{"id":"virtual-keyword"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"virtual"}]},{"type":"text","value":" keyword"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every member in persistent classes (methods and properties) should be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"virtual"}]},{"type":"text","value":"\r\nin order NHibernate to be able to create proxies for lazy loading."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string Name { get; protected set; }\r\n    public virtual string Address { get; protected set; }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string Name { get; protected set; }\r\n    public virtual string Address { get; protected set; }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":x:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In persistent classes "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" access modifier causes null reference\r\nexceptions. Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected virtual"}]},{"type":"text","value":" instead of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" to workaround this\r\nproblem."}]}]},{"type":"element","tag":"h3","props":{"id":"protected-setters"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" setters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We encourage you to use protected setters so that you can make sure that no\r\nother class than the class itself is able to modify the values of its\r\nproperties."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It could be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" setters but NHibernate wouldn't be able to create\r\nproxies for lazy loading."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For a more detailed explanation please have a look at "},{"type":"element","tag":"a","props":{"href":"/tutorial#database-transactions"},"children":[{"type":"text","value":"this tutorial\r\npage"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"inserting-a-new-record"},"children":[{"type":"text","value":"Inserting a New Record"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There is an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Insert"}]},{"type":"text","value":" method in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRepository<T>"}]},{"type":"text","value":" which does what it says. The\r\nconvention for insert operations is as follows;"}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    protected internal virtual Company With(string name, string address)\r\n    {\r\n        Name = name;\r\n        Address = address;\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    protected internal virtual Company With(string name, string address)\r\n    {\r\n        Name = name;\r\n        Address = address;\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"With"}]},{"type":"text","value":" methods are part of the creation of a persistent object. We use builder\r\npattern for this operation. For a more detailed explanation about "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"With"}]},{"type":"text","value":"\r\nmethods please have a look at "},{"type":"element","tag":"a","props":{"href":"/tutorial#persistent-classes"},"children":[{"type":"text","value":"this tutorial\r\npage"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"With"}]},{"type":"text","value":" methods are;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"virtual"}]},{"type":"text","value":" because of NHibernate's lazy loading requirements,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"internal"}]},{"type":"text","value":" to be able to use from other classes in its module."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below you can see an example of an insert operation;"}]},{"type":"element","tag":"code","props":{"code":"public class CompanyManager\r\n{\r\n    ...\r\n    public void CreateCompany(string name, string address)\r\n    {\r\n        _context.New<Company>().With(name, address);\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class CompanyManager\r\n{\r\n    ...\r\n    public void CreateCompany(string name, string address)\r\n    {\r\n        _context.New<Company>().With(name, address);\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"updating-a-record"},"children":[{"type":"text","value":"Updating a Record"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When a persistent object is loaded, its state is managed by NHibernate. This\r\nfeature of NHibernate enables services to  automatically update a record upon\r\ncommit."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void Update(string name, string address)\r\n    {\r\n        Name = name;\r\n        Address = address;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual void Update(string name, string address)\r\n    {\r\n        Name = name;\r\n        Address = address;\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above method is enough for the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" object to update itself. At this point\r\nobject is marked as dirty by NHibernate. Whenever NHibernate session is\r\nflushed, an update statement will be executed in the database. There are 3\r\nreasons for NHibernate session to be flushed;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When current transaction is committed NHibernate flushes current session,\r\nhence record gets updated."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When a select query is sent to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" table, either directly or via table\r\njoins."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You make an explicit call to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRepository<T>.Flush()"}]},{"type":"text","value":" which calls\r\nNHibernate's session flush directly."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRepository<T>.Flush()"}]},{"type":"text","value":" causes all dirty objects to be flushed, not just the\r\npersistent object it is called, nor instances of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<T>"}]},{"type":"text","value":". This is how\r\nNHibernate implements session flush."}]}]},{"type":"element","tag":"h3","props":{"id":"batch-updates"},"children":[{"type":"text","value":"Batch Updates"}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual bool Active { get; protected set; }\r\n    ...\r\n    public virtual void Deactivate()\r\n    {\r\n        Active = false;\r\n    }\r\n}\r\n\r\npublic class CompanyManager\r\n{\r\n    ...\r\n    public virtual void DeactivateCompanies(string name)\r\n    {\r\n        foreach(var company in _context.Query<Companies>().ByName(name))\r\n        {\r\n            company.Deactivate();\r\n        }\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual bool Active { get; protected set; }\r\n    ...\r\n    public virtual void Deactivate()\r\n    {\r\n        Active = false;\r\n    }\r\n}\r\n\r\npublic class CompanyManager\r\n{\r\n    ...\r\n    public virtual void DeactivateCompanies(string name)\r\n    {\r\n        foreach(var company in _context.Query<Companies>().ByName(name))\r\n        {\r\n            company.Deactivate();\r\n        }\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"DeactivateCompanies"}]},{"type":"text","value":" method iterates through a list of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" objects.\r\nChanging a property value does not cause an immediate update. Upon NHibernate\r\nsession flush, above updates will be executed as batch."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you execute a query to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" table inside "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Deactivate"}]},{"type":"text","value":" method, this\r\nwill cause NHibernate to flush on every iteration and cause an update\r\nexecution one by one. This can create a performance flaw in your code. If you\r\nneed to check something before such an update (e.g. checking if new username\r\nexists before updating it), and if you want the operation to be a batch\r\nupdate, then you need to optimize your query accordingly. For \"unique\r\nusername\" example, you might consider checking uniqueness at once."}]}]},{"type":"element","tag":"code","props":{"code":"public class User\r\n{\r\n    ...\r\n    public virtual bool Username { get; protected set; }\r\n    ...\r\n    public virtual void ChangeUsername(string username) { ChangeUsername(username, false); }\r\n    protected internal virtual void ChangeUsername(string username, bool batch)\r\n    {\r\n        if(!batch)\r\n        {\r\n            if(_context.Query<Users>().CountByUsername(username) > 0)\r\n            {\r\n                throw new ArgumentException(\"username\");\r\n            }\r\n        }\r\n\r\n        Username = username;\r\n    }\r\n    ...\r\n}\r\n\r\npublic class UserManager\r\n{\r\n    ...\r\n    public virtual void ChangeUsernames(List<UsernameChange> changes)\r\n    {\r\n        if(_context.Query<Users>().CountByUsernames(changes.Select(c => c.To)) > 0)\r\n        {\r\n            throw new ArgumentException(\"changes\");\r\n        }\r\n\r\n        var users = _context.Query<Users>().ByUsernames(changes.Select(c => c.From));\r\n        foreach(var user in users)\r\n        {\r\n            users.ChangeUsername(change.To, true);\r\n        }\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class User\r\n{\r\n    ...\r\n    public virtual bool Username { get; protected set; }\r\n    ...\r\n    public virtual void ChangeUsername(string username) { ChangeUsername(username, false); }\r\n    protected internal virtual void ChangeUsername(string username, bool batch)\r\n    {\r\n        if(!batch)\r\n        {\r\n            if(_context.Query<Users>().CountByUsername(username) > 0)\r\n            {\r\n                throw new ArgumentException(\"username\");\r\n            }\r\n        }\r\n\r\n        Username = username;\r\n    }\r\n    ...\r\n}\r\n\r\npublic class UserManager\r\n{\r\n    ...\r\n    public virtual void ChangeUsernames(List<UsernameChange> changes)\r\n    {\r\n        if(_context.Query<Users>().CountByUsernames(changes.Select(c => c.To)) > 0)\r\n        {\r\n            throw new ArgumentException(\"changes\");\r\n        }\r\n\r\n        var users = _context.Query<Users>().ByUsernames(changes.Select(c => c.From));\r\n        foreach(var user in users)\r\n        {\r\n            users.ChangeUsername(change.To, true);\r\n        }\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"force-update"},"children":[{"type":"text","value":"Force Update"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If a persistent class implements "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditable"}]},{"type":"text","value":", this means that with every\r\nupdate to objects of that class, Gazel will automatically update values of\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AuditInfo"}]},{"type":"text","value":" properties. A force update is handy when you only want to update\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AuditInfo"}]},{"type":"text","value":" properties (e.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ModifyDate"}]},{"type":"text","value":"). You can force an object to be\r\nupdated using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ForceUpdate"}]},{"type":"text","value":" method of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRepository<T>"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class Company : IAuditable\r\n{\r\n    ...\r\n    public virtual AuditInfo AuditInfo { get; protected set; }\r\n    ...\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        _context.New<Employee>().With(this, name);\r\n\r\n        _repository.ForceUpdate(this);\r\n    }\r\n    ...\r\n}\r\n\r\npublic class Companies : Query<Company> { ... }\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company : IAuditable\r\n{\r\n    ...\r\n    public virtual AuditInfo AuditInfo { get; protected set; }\r\n    ...\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        _context.New<Employee>().With(this, name);\r\n\r\n        _repository.ForceUpdate(this);\r\n    }\r\n    ...\r\n}\r\n\r\npublic class Companies : Query<Company> { ... }\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the above example, we want a company record to be updated whenever an\r\nemployee is added to it. Since adding an employee does not cause an update to a\r\ncompany record, we force company objects to be updated upon adding an employee.\r\nThis "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ForceUpdate"}]},{"type":"text","value":" call will cause a company object's "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AuditInfo.ModifyDate"}]},{"type":"text","value":"\r\ncolumn to be refreshed with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddEmployee"}]},{"type":"text","value":" operation."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":x:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If given persistent class does not implement "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditable"}]},{"type":"text","value":" interface, an\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"InvalidOperationException"}]},{"type":"text","value":" will be thrown."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If a persistent object is already dirty and forced to be updated, there will\r\nbe only one "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UPDATE"}]},{"type":"text","value":" statement to update changes to database."}]}]},{"type":"element","tag":"h2","props":{"id":"deleting-a-record"},"children":[{"type":"text","value":"Deleting a Record"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Deleting is done by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Delete"}]},{"type":"text","value":" method in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRepository<T>"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void Delete()\r\n    {\r\n        _repository.Delete(this);\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual void Delete()\r\n    {\r\n        _repository.Delete(this);\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"batch-deletes"},"children":[{"type":"text","value":"Batch Deletes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Behaviour of delete operations are similar to update operations. If you do it\r\nlike above, delete statements will be executed when NHibernate session is\r\nflushed. If you execute a query before deleting, this would prevent NHibernate\r\nfrom performing a batch operation. For detailed explanation have a look at\r\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Batch Updates"}]},{"type":"text","value":" section above in this document."}]}]},"position":3,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"data-persistence"},"children":[{"type":"text","value":"Data Persistence"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel configures "},{"type":"element","tag":"a","props":{"href":"https://nhibernate.info","rel":["nofollow"]},"children":[{"type":"text","value":"NHibernate"}]},{"type":"text","value":" with the help of "},{"type":"element","tag":"a","props":{"href":"https://github.com/nhibernate/fluent-nhibernate","rel":["nofollow"]},"children":[{"type":"text","value":"Fluent NHibernate"}]},{"type":"text","value":" to\r\nprovide a data persistence layer."}]},{"type":"element","tag":"h2","props":{"id":"persistent-class-conventions"},"children":[{"type":"text","value":"Persistent Class Conventions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An object is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Persistent"}]},{"type":"text","value":" if its class injects its own repository. This\r\nconvention ensures that there is only one class to deal with one table in the\r\ndatabase."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    private readonly IRepository<Company> _repository;\r\n\r\n    protected Company() { }\r\n    public Company(IRepository<Company> repository)\r\n    {\r\n        _repository = repository;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"IRepository"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"() { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"IRepository"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This injection tells Gazel to configure this class to be a persistent class\r\nwhich means that there will be an ORM configuration for this class."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected Task() { }"}]},{"type":"text","value":" constructor is there for NHibernate to be able to\r\ncreate proxies on persistent classes for lazy loading."}]}]},{"type":"element","tag":"h3","props":{"id":"query-classes"},"children":[{"type":"text","value":"Query classes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you have a persistent class, this means that you will need to read\r\npersistent objects from corresponding database table. That's why Gazel requires\r\nyou to create a query class for every persistent class."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n}\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It's better to put persistent and query classes of a table into one source\r\nfile."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this document we will explain persistent classes rather than query classes.\r\nYou can find detailed explanation for queries in "},{"type":"element","tag":"a","props":{"href":"/features#queries"},"children":[{"type":"text","value":"this\r\npage"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"id-property"},"children":[{"type":"text","value":"Id property"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every persistent class should have an identifier property of type "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"int"}]},{"type":"text","value":" and of\r\nname "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Id"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This property will be used by NHibernate to be the primary key and first level\r\ncaching."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Id properties are automatically configured to be an identity column which\r\nmeans that database is responsible for assigning Id values."}]}]},{"type":"element","tag":"h3","props":{"id":"virtual-keyword"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"virtual"}]},{"type":"text","value":" keyword"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every member in persistent classes (methods and properties) should be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"virtual"}]},{"type":"text","value":"\r\nin order NHibernate to be able to create proxies for lazy loading."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string Name { get; protected set; }\r\n    public virtual string Address { get; protected set; }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"Address"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":x:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In persistent classes "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" access modifier causes null reference\r\nexceptions. Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected virtual"}]},{"type":"text","value":" instead of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" to workaround this\r\nproblem."}]}]},{"type":"element","tag":"h3","props":{"id":"protected-setters"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" setters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We encourage you to use protected setters so that you can make sure that no\r\nother class than the class itself is able to modify the values of its\r\nproperties."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It could be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" setters but NHibernate wouldn't be able to create\r\nproxies for lazy loading."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For a more detailed explanation please have a look at "},{"type":"element","tag":"a","props":{"href":"/tutorial#database-transactions"},"children":[{"type":"text","value":"this tutorial\r\npage"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"inserting-a-new-record"},"children":[{"type":"text","value":"Inserting a New Record"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There is an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Insert"}]},{"type":"text","value":" method in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRepository<T>"}]},{"type":"text","value":" which does what it says. The\r\nconvention for insert operations is as follows;"}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    protected internal virtual Company With(string name, string address)\r\n    {\r\n        Name = name;\r\n        Address = address;\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"address"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"Address"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"address"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Insert"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-af1c47"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"With"}]},{"type":"text","value":" methods are part of the creation of a persistent object. We use builder\r\npattern for this operation. For a more detailed explanation about "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"With"}]},{"type":"text","value":"\r\nmethods please have a look at "},{"type":"element","tag":"a","props":{"href":"/tutorial#persistent-classes"},"children":[{"type":"text","value":"this tutorial\r\npage"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"With"}]},{"type":"text","value":" methods are;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"virtual"}]},{"type":"text","value":" because of NHibernate's lazy loading requirements,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"internal"}]},{"type":"text","value":" to be able to use from other classes in its module."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below you can see an example of an insert operation;"}]},{"type":"element","tag":"code","props":{"code":"public class CompanyManager\r\n{\r\n    ...\r\n    public void CreateCompany(string name, string address)\r\n    {\r\n        _context.New<Company>().With(name, address);\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"CompanyManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"CreateCompany"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"address"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"New"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"address"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"updating-a-record"},"children":[{"type":"text","value":"Updating a Record"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When a persistent object is loaded, its state is managed by NHibernate. This\r\nfeature of NHibernate enables services to  automatically update a record upon\r\ncommit."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void Update(string name, string address)\r\n    {\r\n        Name = name;\r\n        Address = address;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Update"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"address"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"Address"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"address"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above method is enough for the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" object to update itself. At this point\r\nobject is marked as dirty by NHibernate. Whenever NHibernate session is\r\nflushed, an update statement will be executed in the database. There are 3\r\nreasons for NHibernate session to be flushed;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When current transaction is committed NHibernate flushes current session,\r\nhence record gets updated."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When a select query is sent to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" table, either directly or via table\r\njoins."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You make an explicit call to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRepository<T>.Flush()"}]},{"type":"text","value":" which calls\r\nNHibernate's session flush directly."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRepository<T>.Flush()"}]},{"type":"text","value":" causes all dirty objects to be flushed, not just the\r\npersistent object it is called, nor instances of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<T>"}]},{"type":"text","value":". This is how\r\nNHibernate implements session flush."}]}]},{"type":"element","tag":"h3","props":{"id":"batch-updates"},"children":[{"type":"text","value":"Batch Updates"}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual bool Active { get; protected set; }\r\n    ...\r\n    public virtual void Deactivate()\r\n    {\r\n        Active = false;\r\n    }\r\n}\r\n\r\npublic class CompanyManager\r\n{\r\n    ...\r\n    public virtual void DeactivateCompanies(string name)\r\n    {\r\n        foreach(var company in _context.Query<Companies>().ByName(name))\r\n        {\r\n            company.Deactivate();\r\n        }\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"Active"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Deactivate"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"Active"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"CompanyManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"DeactivateCompanies"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-af1c47"},"children":[{"type":"text","value":"foreach"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"company"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-af1c47"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"ByName"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"))"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"company"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Deactivate"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"DeactivateCompanies"}]},{"type":"text","value":" method iterates through a list of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" objects.\r\nChanging a property value does not cause an immediate update. Upon NHibernate\r\nsession flush, above updates will be executed as batch."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you execute a query to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" table inside "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Deactivate"}]},{"type":"text","value":" method, this\r\nwill cause NHibernate to flush on every iteration and cause an update\r\nexecution one by one. This can create a performance flaw in your code. If you\r\nneed to check something before such an update (e.g. checking if new username\r\nexists before updating it), and if you want the operation to be a batch\r\nupdate, then you need to optimize your query accordingly. For \"unique\r\nusername\" example, you might consider checking uniqueness at once."}]}]},{"type":"element","tag":"code","props":{"code":"public class User\r\n{\r\n    ...\r\n    public virtual bool Username { get; protected set; }\r\n    ...\r\n    public virtual void ChangeUsername(string username) { ChangeUsername(username, false); }\r\n    protected internal virtual void ChangeUsername(string username, bool batch)\r\n    {\r\n        if(!batch)\r\n        {\r\n            if(_context.Query<Users>().CountByUsername(username) > 0)\r\n            {\r\n                throw new ArgumentException(\"username\");\r\n            }\r\n        }\r\n\r\n        Username = username;\r\n    }\r\n    ...\r\n}\r\n\r\npublic class UserManager\r\n{\r\n    ...\r\n    public virtual void ChangeUsernames(List<UsernameChange> changes)\r\n    {\r\n        if(_context.Query<Users>().CountByUsernames(changes.Select(c => c.To)) > 0)\r\n        {\r\n            throw new ArgumentException(\"changes\");\r\n        }\r\n\r\n        var users = _context.Query<Users>().ByUsernames(changes.Select(c => c.From));\r\n        foreach(var user in users)\r\n        {\r\n            users.ChangeUsername(change.To, true);\r\n        }\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"User"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"Username"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"ChangeUsername"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":") { "}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"ChangeUsername"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"); }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"ChangeUsername"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"batch"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-af1c47"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"(!"}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"batch"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-af1c47"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Users"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"CountByUsername"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":") > "}]},{"type":"element","tag":"span","props":{"class":"ct-139eb8"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"            {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-af1c47"},"children":[{"type":"text","value":"throw"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"ArgumentException"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-d75fa6"},"children":[{"type":"text","value":"\"username\""}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"            }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"Username"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"UserManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"ChangeUsernames"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"UsernameChange"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"changes"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-af1c47"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Users"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"CountByUsernames"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"changes"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Select"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"To"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":")) > "}]},{"type":"element","tag":"span","props":{"class":"ct-139eb8"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-af1c47"},"children":[{"type":"text","value":"throw"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"ArgumentException"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-d75fa6"},"children":[{"type":"text","value":"\"changes\""}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"users"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Users"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"ByUsernames"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"changes"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Select"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"From"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"));"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-af1c47"},"children":[{"type":"text","value":"foreach"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-af1c47"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"users"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"users"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"ChangeUsername"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"change"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"To"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"force-update"},"children":[{"type":"text","value":"Force Update"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If a persistent class implements "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditable"}]},{"type":"text","value":", this means that with every\r\nupdate to objects of that class, Gazel will automatically update values of\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AuditInfo"}]},{"type":"text","value":" properties. A force update is handy when you only want to update\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AuditInfo"}]},{"type":"text","value":" properties (e.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ModifyDate"}]},{"type":"text","value":"). You can force an object to be\r\nupdated using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ForceUpdate"}]},{"type":"text","value":" method of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRepository<T>"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class Company : IAuditable\r\n{\r\n    ...\r\n    public virtual AuditInfo AuditInfo { get; protected set; }\r\n    ...\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        _context.New<Employee>().With(this, name);\r\n\r\n        _repository.ForceUpdate(this);\r\n    }\r\n    ...\r\n}\r\n\r\npublic class Companies : Query<Company> { ... }\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"IAuditable"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"AuditInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"AuditInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"AddEmployee"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"New"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Employee"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"ForceUpdate"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"> { ... }"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the above example, we want a company record to be updated whenever an\r\nemployee is added to it. Since adding an employee does not cause an update to a\r\ncompany record, we force company objects to be updated upon adding an employee.\r\nThis "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ForceUpdate"}]},{"type":"text","value":" call will cause a company object's "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AuditInfo.ModifyDate"}]},{"type":"text","value":"\r\ncolumn to be refreshed with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddEmployee"}]},{"type":"text","value":" operation."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":x:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If given persistent class does not implement "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditable"}]},{"type":"text","value":" interface, an\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"InvalidOperationException"}]},{"type":"text","value":" will be thrown."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If a persistent object is already dirty and forced to be updated, there will\r\nbe only one "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UPDATE"}]},{"type":"text","value":" statement to update changes to database."}]}]},{"type":"element","tag":"h2","props":{"id":"deleting-a-record"},"children":[{"type":"text","value":"Deleting a Record"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Deleting is done by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Delete"}]},{"type":"text","value":" method in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRepository<T>"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void Delete()\r\n    {\r\n        _repository.Delete(this);\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c8bf3"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Delete"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-dcc927"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a8daf1"},"children":[{"type":"text","value":"Delete"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c59e63"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d66fb6"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"batch-deletes"},"children":[{"type":"text","value":"Batch Deletes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Behaviour of delete operations are similar to update operations. If you do it\r\nlike above, delete statements will be executed when NHibernate session is\r\nflushed. If you execute a query before deleting, this would prevent NHibernate\r\nfrom performing a batch operation. For detailed explanation have a look at\r\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Batch Updates"}]},{"type":"text","value":" section above in this document."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-d75fa6{color:#CE9178}\n.ct-139eb8{color:#B5CEA8}\n.ct-af1c47{color:#C586C0}\n.ct-a8daf1{color:#DCDCAA}\n.ct-dcc927{color:#9CDCFE}\n.ct-8c8bf3{color:#4EC9B0}\n.ct-d66fb6{color:#D4D4D4}\n.ct-c59e63{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"persistent-class-conventions","depth":2,"text":"Persistent Class Conventions","children":[{"id":"query-classes","depth":3,"text":"Query classes"},{"id":"id-property","depth":3,"text":"Id property"},{"id":"virtual-keyword","depth":3,"text":"virtual keyword"},{"id":"protected-setters","depth":3,"text":"protected setters"}]},{"id":"inserting-a-new-record","depth":2,"text":"Inserting a New Record"},{"id":"updating-a-record","depth":2,"text":"Updating a Record","children":[{"id":"batch-updates","depth":3,"text":"Batch Updates"},{"id":"force-update","depth":3,"text":"Force Update"}]},{"id":"deleting-a-record","depth":2,"text":"Deleting a Record","children":[{"id":"batch-deletes","depth":3,"text":"Batch Deletes"}]}]}},"_type":"markdown","_id":"content:conventions:data-persistence.md","_source":"content","_file":"conventions/data-persistence.md","_extension":"md"},{"_path":"/conventions/relations","_dir":"conventions","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Relations","description":"Gazel configures NHibernate so that you can define relations intiutively.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"relations"},"children":[{"type":"text","value":"Relations"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel configures NHibernate so that you can define relations intiutively."}]},{"type":"element","tag":"h2","props":{"id":"many-to-one-relation"},"children":[{"type":"text","value":"Many-to-One Relation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This relation is the most used type among all and the simplest one."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string Name { get; protected set; }\r\n    ...\r\n}\r\n\r\npublic class Employee\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual Company Company { get; protected set; }\r\n    public virtual string Name { get; protected set; }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string Name { get; protected set; }\r\n    ...\r\n}\r\n\r\npublic class Employee\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual Company Company { get; protected set; }\r\n    public virtual string Name { get; protected set; }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above code is enough to set a many-to-one relation between "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Employee"}]},{"type":"text","value":" and\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" classes. In this example, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Employee"}]},{"type":"text","value":" table will require a column\r\nnamed "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CompanyId"}]},{"type":"text","value":" that is mapped to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" property as a many to one\r\nrelation."}]},{"type":"element","tag":"h2","props":{"id":"one-to-many-relations"},"children":[{"type":"text","value":"One-to-Many Relations"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Creating "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"List<T>"}]},{"type":"text","value":" properties on persistent classes will NOT cause a\r\none-to-many relation. To have this relation, simply create a method that\r\nqueries child records from the parent record;"}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual List<Employee> GetEmployees()\r\n    {\r\n        return _context.Query<Employees>().ByCompany(this);\r\n    }\r\n    ...\r\n}\r\n\r\npublic class Employees : Query<Employee>\r\n{\r\n    ...\r\n    internal List<Employee> ByCompany(Company company)\r\n    {\r\n        return By(e => e.Company == company);\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual List<Employee> GetEmployees()\r\n    {\r\n        return _context.Query<Employees>().ByCompany(this);\r\n    }\r\n    ...\r\n}\r\n\r\npublic class Employees : Query<Employee>\r\n{\r\n    ...\r\n    internal List<Employee> ByCompany(Company company)\r\n    {\r\n        return By(e => e.Company == company);\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"eager-fetching-and-lazy-loading"},"children":[{"type":"text","value":"Eager-Fetching and Lazy-Loading"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel configures NHibernate to eager fetch persistent object with one level.\r\nThis means that when you query a list of persistent objects, their parents will\r\nbe fetched eagerly using an inner join. But their grandparents will be\r\nlazy-loaded."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual string Name { get; protected set; }\r\n    ...\r\n}\r\n\r\npublic class Department\r\n{\r\n    ...\r\n    public virtual string Name { get; protected set; }\r\n    public virtual Company Company { get; protected set; }\r\n    ...\r\n}\r\n\r\npublic class Employee\r\n{\r\n    ...\r\n    public virtual string Name { get; protected set; }\r\n    public virtual Department Department { get; protected set; }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual string Name { get; protected set; }\r\n    ...\r\n}\r\n\r\npublic class Department\r\n{\r\n    ...\r\n    public virtual string Name { get; protected set; }\r\n    public virtual Company Company { get; protected set; }\r\n    ...\r\n}\r\n\r\npublic class Employee\r\n{\r\n    ...\r\n    public virtual string Name { get; protected set; }\r\n    public virtual Department Department { get; protected set; }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you query employees with something like\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.Query<Employees>().ByName(\"mike\")"}]},{"type":"text","value":", the resulting "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Employee"}]},{"type":"text","value":" objects\r\nwill have "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Department"}]},{"type":"text","value":" objects eagerly fetched. However, when you try to access\r\na property of their "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" object (other than Id property), a query will be\r\nexecuted using that "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" object's primary key."}]},{"type":"element","tag":"code","props":{"code":"public class CompanyManager\r\n{\r\n    ...\r\n    public void SomeEmployeeOperation(string name)\r\n    {\r\n        var employees = _context.Query<Employees>().ByName(name);\r\n\r\n        foreach(var employee in employees)\r\n        {\r\n            var departmentName = employee.Department.Name; //No query is executed, department is already loaded\r\n            var companyName = employee.Department.Company.Name; //A query is executed to load company object from database\r\n        }\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class CompanyManager\r\n{\r\n    ...\r\n    public void SomeEmployeeOperation(string name)\r\n    {\r\n        var employees = _context.Query<Employees>().ByName(name);\r\n\r\n        foreach(var employee in employees)\r\n        {\r\n            var departmentName = employee.Department.Name; //No query is executed, department is already loaded\r\n            var companyName = employee.Department.Company.Name; //A query is executed to load company object from database\r\n        }\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"about-n-1-select-problem"},"children":[{"type":"text","value":"About N + 1 select problem"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above code causes N+1 select problem, which can be a performance issue. If you\r\nencounter this problem, you need to consider selecting all grandparents\r\n("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":") of the children ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Employee"}]},{"type":"text","value":") with an additional query so that there\r\nwill be only 2 queries in total."}]},{"type":"element","tag":"code","props":{"code":"public class CompanyManager\r\n{\r\n    ...\r\n    public void SomeEmployeeOperation(string name)\r\n    {\r\n        var employees = _context.Query<Employees>().ByName(name);\r\n        var companies = _context.Query<Companies>().ByIds(employees.Select(e => e.Department.Company.Id));\r\n\r\n        foreach(var employee in employees)\r\n        {\r\n            var departmentName = employee.Department.Name; //No query is executed, department is already loaded\r\n            var companyName = employee.Department.Company.Name; //No query is executed, company is already loaded with the second query.\r\n        }\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class CompanyManager\r\n{\r\n    ...\r\n    public void SomeEmployeeOperation(string name)\r\n    {\r\n        var employees = _context.Query<Employees>().ByName(name);\r\n        var companies = _context.Query<Companies>().ByIds(employees.Select(e => e.Department.Company.Id));\r\n\r\n        foreach(var employee in employees)\r\n        {\r\n            var departmentName = employee.Department.Name; //No query is executed, department is already loaded\r\n            var companyName = employee.Department.Company.Name; //No query is executed, company is already loaded with the second query.\r\n        }\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"one-to-any-relation"},"children":[{"type":"text","value":"One-to-Any Relation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This relation type enables you to map your properties to interfaces, which we\r\nrefer to as "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Interface Mapping"}]},{"type":"text","value":" or "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Polymorphic Mapping"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class Order\r\n{\r\n    ...\r\n    public virtual ICustomer Customer { get; protected set; }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Order\r\n{\r\n    ...\r\n    public virtual ICustomer Customer { get; protected set; }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For NHibernate to map this property to a table it needs two columns;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CustomerId"}]},{"type":"text","value":": The id value of related record, like in a Many-to-One relation,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CustomerType"}]},{"type":"text","value":": Type of related record."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"NHibernate uses type column to know which table to select. This type\r\ninformation is retrieved from an enum that corresponds to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IOrderProcessor"}]},{"type":"text","value":"\r\ninterface."}]},{"type":"element","tag":"code","props":{"code":"public interface ICustomer\r\n{\r\n}\r\n\r\npublic enum CustomerType\r\n{\r\n    RealPerson = 1,\r\n    LegalEntity = 2\r\n}\r\n\r\npublic class RealPerson : ICustomer { ... }\r\npublic class LegalEntity : ICustomer { ... }\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public interface ICustomer\r\n{\r\n}\r\n\r\npublic enum CustomerType\r\n{\r\n    RealPerson = 1,\r\n    LegalEntity = 2\r\n}\r\n\r\npublic class RealPerson : ICustomer { ... }\r\npublic class LegalEntity : ICustomer { ... }\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Conventions for one-to-any mapping are;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"For an interface named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"I[Name]"}]},{"type":"text","value":" (e.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ICustomer"}]},{"type":"text","value":")"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"There should be an enum named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[Name]Type"}]},{"type":"text","value":" (e.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CustomerType"}]},{"type":"text","value":")"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Each enum member must be a persistent class and implement "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"I[Name]"}]},{"type":"text","value":" interface\r\n(e.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"RealPerson"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LegalEntity"}]},{"type":"text","value":")."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"I[Name]"}]},{"type":"text","value":" is mapped to a persistent class with a property named\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[Property]"}]},{"type":"text","value":","},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[Property]Id"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CustomerId"}]},{"type":"text","value":") column stores the id value of the related\r\nrecord"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[Property]Type"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CustomerType"}]},{"type":"text","value":") column store enum member values ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1"}]},{"type":"text","value":" or\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"2"}]},{"type":"text","value":"), not member names ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"RealPerson"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LegalEntity"}]},{"type":"text","value":")"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In a query method, you can filter by object like this;"}]},{"type":"element","tag":"code","props":{"code":"public class Orders : Query<Order>\r\n{\r\n    ...\r\n    internal List<Order> ByCustomer(ICustomer customer)\r\n    {\r\n        return By(wa => wa.Customer == customer); //uses both CustomerId and CustomerType columns\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Orders : Query<Order>\r\n{\r\n    ...\r\n    internal List<Order> ByCustomer(ICustomer customer)\r\n    {\r\n        return By(wa => wa.Customer == customer); //uses both CustomerId and CustomerType columns\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Or you can filter by type like this;"}]},{"type":"element","tag":"code","props":{"code":"public class Orders : Query<Order>\r\n{\r\n    ...\r\n    internal List<Order> ByCustomerType<T>() where T : ICustomer\r\n    {\r\n        return By(wa => wa.Customer is T); //uses only Customer column\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Orders : Query<Order>\r\n{\r\n    ...\r\n    internal List<Order> ByCustomerType<T>() where T : ICustomer\r\n    {\r\n        return By(wa => wa.Customer is T); //uses only Customer column\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Unfortunately interface mappings cannot be fetched eagerly. So beware of N+1\r\nselect problems if you use this feature."}]}]}]},"position":4,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"relations"},"children":[{"type":"text","value":"Relations"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel configures NHibernate so that you can define relations intiutively."}]},{"type":"element","tag":"h2","props":{"id":"many-to-one-relation"},"children":[{"type":"text","value":"Many-to-One Relation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This relation is the most used type among all and the simplest one."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string Name { get; protected set; }\r\n    ...\r\n}\r\n\r\npublic class Employee\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual Company Company { get; protected set; }\r\n    public virtual string Name { get; protected set; }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Employee"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above code is enough to set a many-to-one relation between "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Employee"}]},{"type":"text","value":" and\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" classes. In this example, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Employee"}]},{"type":"text","value":" table will require a column\r\nnamed "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CompanyId"}]},{"type":"text","value":" that is mapped to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" property as a many to one\r\nrelation."}]},{"type":"element","tag":"h2","props":{"id":"one-to-many-relations"},"children":[{"type":"text","value":"One-to-Many Relations"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Creating "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"List<T>"}]},{"type":"text","value":" properties on persistent classes will NOT cause a\r\none-to-many relation. To have this relation, simply create a method that\r\nqueries child records from the parent record;"}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual List<Employee> GetEmployees()\r\n    {\r\n        return _context.Query<Employees>().ByCompany(this);\r\n    }\r\n    ...\r\n}\r\n\r\npublic class Employees : Query<Employee>\r\n{\r\n    ...\r\n    internal List<Employee> ByCompany(Company company)\r\n    {\r\n        return By(e => e.Company == company);\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Employee"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"GetEmployees"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4c4b8c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Employees"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"ByCompany"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Employees"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Employee"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Employee"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"ByCompany"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"company"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4c4b8c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"e"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"e"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"company"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"eager-fetching-and-lazy-loading"},"children":[{"type":"text","value":"Eager-Fetching and Lazy-Loading"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel configures NHibernate to eager fetch persistent object with one level.\r\nThis means that when you query a list of persistent objects, their parents will\r\nbe fetched eagerly using an inner join. But their grandparents will be\r\nlazy-loaded."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual string Name { get; protected set; }\r\n    ...\r\n}\r\n\r\npublic class Department\r\n{\r\n    ...\r\n    public virtual string Name { get; protected set; }\r\n    public virtual Company Company { get; protected set; }\r\n    ...\r\n}\r\n\r\npublic class Employee\r\n{\r\n    ...\r\n    public virtual string Name { get; protected set; }\r\n    public virtual Department Department { get; protected set; }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Department"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Employee"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Department"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Department"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you query employees with something like\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.Query<Employees>().ByName(\"mike\")"}]},{"type":"text","value":", the resulting "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Employee"}]},{"type":"text","value":" objects\r\nwill have "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Department"}]},{"type":"text","value":" objects eagerly fetched. However, when you try to access\r\na property of their "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" object (other than Id property), a query will be\r\nexecuted using that "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":" object's primary key."}]},{"type":"element","tag":"code","props":{"code":"public class CompanyManager\r\n{\r\n    ...\r\n    public void SomeEmployeeOperation(string name)\r\n    {\r\n        var employees = _context.Query<Employees>().ByName(name);\r\n\r\n        foreach(var employee in employees)\r\n        {\r\n            var departmentName = employee.Department.Name; //No query is executed, department is already loaded\r\n            var companyName = employee.Department.Company.Name; //A query is executed to load company object from database\r\n        }\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"CompanyManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"SomeEmployeeOperation"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"employees"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Employees"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"ByName"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4c4b8c"},"children":[{"type":"text","value":"foreach"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"employee"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4c4b8c"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"employees"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"        {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"departmentName"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"employee"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Department"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-52be22"},"children":[{"type":"text","value":"//No query is executed, department is already loaded"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"companyName"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"employee"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Department"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-52be22"},"children":[{"type":"text","value":"//A query is executed to load company object from database"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"about-n-1-select-problem"},"children":[{"type":"text","value":"About N + 1 select problem"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above code causes N+1 select problem, which can be a performance issue. If you\r\nencounter this problem, you need to consider selecting all grandparents\r\n("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Company"}]},{"type":"text","value":") of the children ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Employee"}]},{"type":"text","value":") with an additional query so that there\r\nwill be only 2 queries in total."}]},{"type":"element","tag":"code","props":{"code":"public class CompanyManager\r\n{\r\n    ...\r\n    public void SomeEmployeeOperation(string name)\r\n    {\r\n        var employees = _context.Query<Employees>().ByName(name);\r\n        var companies = _context.Query<Companies>().ByIds(employees.Select(e => e.Department.Company.Id));\r\n\r\n        foreach(var employee in employees)\r\n        {\r\n            var departmentName = employee.Department.Name; //No query is executed, department is already loaded\r\n            var companyName = employee.Department.Company.Name; //No query is executed, company is already loaded with the second query.\r\n        }\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"CompanyManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"SomeEmployeeOperation"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"employees"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Employees"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"ByName"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"companies"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"ByIds"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"employees"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"Select"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"e"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"e"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Department"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"));"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4c4b8c"},"children":[{"type":"text","value":"foreach"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"employee"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4c4b8c"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"employees"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"        {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"departmentName"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"employee"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Department"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-52be22"},"children":[{"type":"text","value":"//No query is executed, department is already loaded"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"companyName"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"employee"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Department"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-52be22"},"children":[{"type":"text","value":"//No query is executed, company is already loaded with the second query."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"one-to-any-relation"},"children":[{"type":"text","value":"One-to-Any Relation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This relation type enables you to map your properties to interfaces, which we\r\nrefer to as "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Interface Mapping"}]},{"type":"text","value":" or "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Polymorphic Mapping"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class Order\r\n{\r\n    ...\r\n    public virtual ICustomer Customer { get; protected set; }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Order"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"ICustomer"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Customer"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For NHibernate to map this property to a table it needs two columns;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CustomerId"}]},{"type":"text","value":": The id value of related record, like in a Many-to-One relation,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CustomerType"}]},{"type":"text","value":": Type of related record."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"NHibernate uses type column to know which table to select. This type\r\ninformation is retrieved from an enum that corresponds to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IOrderProcessor"}]},{"type":"text","value":"\r\ninterface."}]},{"type":"element","tag":"code","props":{"code":"public interface ICustomer\r\n{\r\n}\r\n\r\npublic enum CustomerType\r\n{\r\n    RealPerson = 1,\r\n    LegalEntity = 2\r\n}\r\n\r\npublic class RealPerson : ICustomer { ... }\r\npublic class LegalEntity : ICustomer { ... }\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"ICustomer"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"enum"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"CustomerType"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"RealPerson"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-9cfdb1"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"LegalEntity"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-9cfdb1"},"children":[{"type":"text","value":"2"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"RealPerson"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"ICustomer"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"LegalEntity"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"ICustomer"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" { ... }"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Conventions for one-to-any mapping are;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"For an interface named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"I[Name]"}]},{"type":"text","value":" (e.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ICustomer"}]},{"type":"text","value":")"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"There should be an enum named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[Name]Type"}]},{"type":"text","value":" (e.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CustomerType"}]},{"type":"text","value":")"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Each enum member must be a persistent class and implement "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"I[Name]"}]},{"type":"text","value":" interface\r\n(e.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"RealPerson"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LegalEntity"}]},{"type":"text","value":")."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"I[Name]"}]},{"type":"text","value":" is mapped to a persistent class with a property named\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[Property]"}]},{"type":"text","value":","},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[Property]Id"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CustomerId"}]},{"type":"text","value":") column stores the id value of the related\r\nrecord"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[Property]Type"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CustomerType"}]},{"type":"text","value":") column store enum member values ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1"}]},{"type":"text","value":" or\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"2"}]},{"type":"text","value":"), not member names ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"RealPerson"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LegalEntity"}]},{"type":"text","value":")"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In a query method, you can filter by object like this;"}]},{"type":"element","tag":"code","props":{"code":"public class Orders : Query<Order>\r\n{\r\n    ...\r\n    internal List<Order> ByCustomer(ICustomer customer)\r\n    {\r\n        return By(wa => wa.Customer == customer); //uses both CustomerId and CustomerType columns\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Orders"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Order"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Order"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"ByCustomer"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"ICustomer"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"customer"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4c4b8c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"wa"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"wa"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Customer"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"customer"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"); "}]},{"type":"element","tag":"span","props":{"class":"ct-52be22"},"children":[{"type":"text","value":"//uses both CustomerId and CustomerType columns"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Or you can filter by type like this;"}]},{"type":"element","tag":"code","props":{"code":"public class Orders : Query<Order>\r\n{\r\n    ...\r\n    internal List<Order> ByCustomerType<T>() where T : ICustomer\r\n    {\r\n        return By(wa => wa.Customer is T); //uses only Customer column\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Orders"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Order"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"Order"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"ByCustomerType"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":">() "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"where"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"ICustomer"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4c4b8c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-711b3d"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"wa"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"wa"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-146e62"},"children":[{"type":"text","value":"Customer"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9f9370"},"children":[{"type":"text","value":"is"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-38bb11"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"); "}]},{"type":"element","tag":"span","props":{"class":"ct-52be22"},"children":[{"type":"text","value":"//uses only Customer column"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4b77a1"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Unfortunately interface mappings cannot be fetched eagerly. So beware of N+1\r\nselect problems if you use this feature."}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-9cfdb1{color:#B5CEA8}\n.ct-52be22{color:#6A9955}\n.ct-4c4b8c{color:#C586C0}\n.ct-711b3d{color:#DCDCAA}\n.ct-146e62{color:#9CDCFE}\n.ct-38bb11{color:#4EC9B0}\n.ct-4b77a1{color:#D4D4D4}\n.ct-9f9370{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"many-to-one-relation","depth":2,"text":"Many-to-One Relation"},{"id":"one-to-many-relations","depth":2,"text":"One-to-Many Relations"},{"id":"eager-fetching-and-lazy-loading","depth":2,"text":"Eager-Fetching and Lazy-Loading","children":[{"id":"about-n-1-select-problem","depth":3,"text":"About N + 1 select problem"}]},{"id":"one-to-any-relation","depth":2,"text":"One-to-Any Relation"}]}},"_type":"markdown","_id":"content:conventions:relations.md","_source":"content","_file":"conventions/relations.md","_extension":"md"},{"_path":"/conventions/queries","_dir":"conventions","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Queries","description":"For persistence classes, there needs to be corresponding query class to read\r\nrecords from database. This section focuses on how you can organize your\r\nqueries in your projects.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"queries"},"children":[{"type":"text","value":"Queries"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For persistence classes, there needs to be corresponding query class to read\r\nrecords from database. This section focuses on how you can organize your\r\nqueries in your projects."}]},{"type":"element","tag":"h2","props":{"id":"query-class-conventions"},"children":[{"type":"text","value":"Query Class Conventions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The main purpose of query classes is to organize all of the queries of a table\r\ntogether into one place. Query classes are named after their corresponding\r\npersistent class. They are in plural form like below;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can access pluralization service through "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext.Pluralizer"}]},{"type":"text","value":"\r\nproperty."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If pluralization service does not provide what you want, you can make use of\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[Name]s"}]},{"type":"text","value":" convention. For instance, there is a persistent class named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Xyz"}]},{"type":"text","value":",\r\nwhen you name its query class as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Xyzs"}]},{"type":"text","value":", it will work as well."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Query classes are singleton by convention and its usage is as follows;"}]},{"type":"element","tag":"code","props":{"code":"public class CompanyManager\r\n{\r\n    ...\r\n    public virtual void DeactivateCompanies(string name)\r\n    {\r\n        foreach(var company in _context.Query<Companies>().ByName(name))\r\n        {\r\n            company.Deactivate();\r\n        }\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class CompanyManager\r\n{\r\n    ...\r\n    public virtual void DeactivateCompanies(string name)\r\n    {\r\n        foreach(var company in _context.Query<Companies>().ByName(name))\r\n        {\r\n            company.Deactivate();\r\n        }\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Query classes are singleton by convention, so you can inject query classes as\r\nwell;"}]},{"type":"element","tag":"code","props":{"code":"public class CompanyManager\r\n{\r\n    private Companies _companies;\r\n\r\n    public CompanyManager(Companies companies) => _companies = companies;\r\n\r\n    public virtual void DeactivateCompanies(string name)\r\n    {\r\n        foreach(var company in _companies.ByName(name))\r\n        {\r\n            company.Deactivate();\r\n        }\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class CompanyManager\r\n{\r\n    private Companies _companies;\r\n\r\n    public CompanyManager(Companies companies) => _companies = companies;\r\n\r\n    public virtual void DeactivateCompanies(string name)\r\n    {\r\n        foreach(var company in _companies.ByName(name))\r\n        {\r\n            company.Deactivate();\r\n        }\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Query classes should extend "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" which is an abstract class with helper\r\nfunctionalities to make it simple to implement query methods. To provide these\r\nfunctionalities it requires "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"text","value":" to be injected."}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    public Companies(IModuleContext context) : base(context) { }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    public Companies(IModuleContext context) : base(context) { }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to inject other dependencies, you are free to do it like in any\r\nother class."}]},{"type":"element","tag":"h2","props":{"id":"by-methods"},"children":[{"type":"text","value":"By Methods"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By methods are type of queries that return list of persistent objects."}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city) =>\r\n        By(c => c.Name.Contains(name) && c.City == city);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city) =>\r\n        By(c => c.Name.Contains(name) && c.City == city);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":" method is declared in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" base class to help you create query\r\nmethods quickly."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>.By"}]},{"type":"text","value":" method accepts an expression that is converted to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SQL"}]},{"type":"text","value":". This\r\nexpression never runs in your .NET application. Because of this reason you\r\nare not supposed to call methods of persistent classes within these\r\nexpressions.  For example; "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By(c => c.GetEmployees().Count > 0)"}]},{"type":"text","value":" will not\r\nwork."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Do not use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Id"}]},{"type":"text","value":" properties for filtering;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city) =>\r\n        By(c => c.Name.Contains(name) && c.City.Id == city.Id);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city) =>\r\n        By(c => c.Name.Contains(name) && c.City.Id == city.Id);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will cause a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NullReferenceException"}]},{"type":"text","value":" when city is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":". Prefer\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"c.City == city"}]},{"type":"text","value":" expression, which will handle both cases in one shot."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A by method can also be implemented like below;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city) =>\r\n        Lookup.List(true).Where(c => c.Name.Contains(name) && c.City == city).ToList();\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city) =>\r\n        Lookup.List(true).Where(c => c.Name.Contains(name) && c.City == city).ToList();\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Lookup"}]},{"type":"text","value":" property is declared in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" base class and is of type\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ILookup<T>"}]},{"type":"text","value":". This interface acts as a gateway to NHibernate. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ILookup<T>.List"}]},{"type":"text","value":"\r\nmethod returns an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IQueryable<T>"}]},{"type":"text","value":" instance. You may use this instance when "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":"\r\nmethod is not enough."}]},{"type":"element","tag":"h3","props":{"id":"single-parameter-convention"},"children":[{"type":"text","value":"Single Parameter Convention"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When there is only one parameter in query methods, we suggest you to include\r\nparameter name in method name like below;"}]},{"type":"element","tag":"code","props":{"code":"public class Transaction { ... }\r\n\r\npublic class Transactions : Query<Transaction>\r\n{\r\n    ...\r\n    public List<Transaction> ByFrom(Account from) => By(t => t.From == from);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Transaction { ... }\r\n\r\npublic class Transactions : Query<Transaction>\r\n{\r\n    ...\r\n    public List<Transaction> ByFrom(Account from) => By(t => t.From == from);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Consider you have two different queries on "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Transaction"}]},{"type":"text","value":" table, first one\r\nfilters using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"From"}]},{"type":"text","value":" column, second one filters using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"To"}]},{"type":"text","value":" column;"}]},{"type":"element","tag":"code","props":{"code":"public class Transaction { ... }\r\n\r\npublic class Transactions : Query<Transaction>\r\n{\r\n    ...\r\n    public List<Transaction> By(Account from) => By(t => t.From == from);\r\n    public List<Transaction> By(Account to) => By(t => t.To == to);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Transaction { ... }\r\n\r\npublic class Transactions : Query<Transaction>\r\n{\r\n    ...\r\n    public List<Transaction> By(Account from) => By(t => t.From == from);\r\n    public List<Transaction> By(Account to) => By(t => t.To == to);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above code will not compile because there are two methods with exactly the same\r\nsignature. To make it compile, you need to rename one of them. We prefer\r\nrenaming both to provide consistency in naming;"}]},{"type":"element","tag":"code","props":{"code":"public class Transaction { ... }\r\n\r\npublic class Transactions : Query<Transaction>\r\n{\r\n    ...\r\n    public List<Transaction> ByFrom(Account from) => By(t => t.From == from);\r\n    public List<Transaction> ByTo(Account to) => By(t => t.To == to);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Transaction { ... }\r\n\r\npublic class Transactions : Query<Transaction>\r\n{\r\n    ...\r\n    public List<Transaction> ByFrom(Account from) => By(t => t.From == from);\r\n    public List<Transaction> ByTo(Account to) => By(t => t.To == to);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"take-and-skip"},"children":[{"type":"text","value":"Take and Skip"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"skip"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"take"}]},{"type":"text","value":" extensions methods. They are optional parameters.\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"take"}]},{"type":"text","value":" parameter extracts the first n elements from the beginning of the target\r\nsequence. Here is how you can do it;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city, int take) =>\r\n        By(c => c.Name.Contains(name) && c.City == city, take: take);\r\n\r\n    public List<Company> All(string name, City city, int take) =>\r\n        All(c => c.Name.Contains(name) && c.City == city, take: take);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city, int take) =>\r\n        By(c => c.Name.Contains(name) && c.City == city, take: take);\r\n\r\n    public List<Company> All(string name, City city, int take) =>\r\n        All(c => c.Name.Contains(name) && c.City == city, take: take);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"skip"}]},{"type":"text","value":" parameter moves pass the first n elements from the beginning of the\r\ntarget sequence, returning the remainder;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city, int skip) =>\r\n        By(c => c.Name.Contains(name) && c.City == city, skip: skip);\r\n\r\n    public List<Company> All(string name, City city, int skip) =>\r\n        All(c => c.Name.Contains(name) && c.City == city, skip: skip);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city, int skip) =>\r\n        By(c => c.Name.Contains(name) && c.City == city, skip: skip);\r\n\r\n    public List<Company> All(string name, City city, int skip) =>\r\n        All(c => c.Name.Contains(name) && c.City == city, skip: skip);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can apply pagination by using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"skip"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"take"}]},{"type":"text","value":" optional parameters. Here\r\nis how you can do it;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, int skip, int take) =>\r\n        By(c => c.Name.Contains(name), skip: skip, take:take);\r\n\r\n    public List<Company> All(string name, int skip, int take) =>\r\n        All(c => c.Name.Contains(name), skip: skip, take:take);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, int skip, int take) =>\r\n        By(c => c.Name.Contains(name), skip: skip, take:take);\r\n\r\n    public List<Company> All(string name, int skip, int take) =>\r\n        All(c => c.Name.Contains(name), skip: skip, take:take);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Alternatively, you can also be implemented by using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ILookup<T>.List"}]},{"type":"text","value":" as shown\r\nbelow. It actually returns an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IQueryable<T>"}]},{"type":"text","value":" instance."}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city, int take) =>\r\n        Lookup\r\n            .List(true)\r\n            .Where(c => c.Name.Contains(name) && c.City == city)\r\n            .Take(take)\r\n            .ToList();;\r\n\r\n    public List<Company> By(string name, City city, int skip) =>\r\n        Lookup\r\n            .List(true)\r\n            .Where(c => c.Name.Contains(name) && c.City == city)\r\n            .Skip(skip)\r\n            .ToList();;\r\n\r\n    public List<Company> By(string name, City city, int take, int skip) =>\r\n        Lookup\r\n            .List(true)\r\n            .Where(c => c.Name.Contains(name) && c.City == city)\r\n            .OrderByDescending(c => c.City)\r\n            .Skip(skip)\r\n            .Take(take)\r\n            .ToList();\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city, int take) =>\r\n        Lookup\r\n            .List(true)\r\n            .Where(c => c.Name.Contains(name) && c.City == city)\r\n            .Take(take)\r\n            .ToList();;\r\n\r\n    public List<Company> By(string name, City city, int skip) =>\r\n        Lookup\r\n            .List(true)\r\n            .Where(c => c.Name.Contains(name) && c.City == city)\r\n            .Skip(skip)\r\n            .ToList();;\r\n\r\n    public List<Company> By(string name, City city, int take, int skip) =>\r\n        Lookup\r\n            .List(true)\r\n            .Where(c => c.Name.Contains(name) && c.City == city)\r\n            .OrderByDescending(c => c.City)\r\n            .Skip(skip)\r\n            .Take(take)\r\n            .ToList();\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"orderby-and-orderbydescending"},"children":[{"type":"text","value":"OrderBy and OrderByDescending"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"orderBy"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"orderByDescending"}]},{"type":"text","value":" extensions methods. They are\r\noptional parameters."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"orderBy"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"orderByDescending"}]},{"type":"text","value":" parameters in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"All"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FirstBy"}]},{"type":"text","value":",  methods."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"orderby"}]},{"type":"text","value":" parameter sorts the elements of a sequence in ascending order\r\naccording to a key."}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> ByName(string name) =>\r\n        By(c => c.Name.StartsWith(name), orderBy: c => c.Name);\r\n\r\n    public List<Company> All() =>\r\n        All(orderBy: c => c.Name);\r\n\r\n    public List<Company> FirstByName(string name) =>\r\n        FirstBy(c => c.Name.StartsWith(name), orderBy: c => c.Name);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> ByName(string name) =>\r\n        By(c => c.Name.StartsWith(name), orderBy: c => c.Name);\r\n\r\n    public List<Company> All() =>\r\n        All(orderBy: c => c.Name);\r\n\r\n    public List<Company> FirstByName(string name) =>\r\n        FirstBy(c => c.Name.StartsWith(name), orderBy: c => c.Name);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"orderByDescending"}]},{"type":"text","value":" parameter sorts the elements of a sequence in\r\ndescending order according to a key."}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> ByName(string name) =>\r\n        By(c => c.Name.StartsWith(name), orderByDescending: c => c.Name);\r\n\r\n    public List<Company> All(string name) =>\r\n        All(orderByDescending: c => c.Name);\r\n\r\n    public List<Company> FirstByName(string name) =>\r\n        FirstBy(c => c.Name.StartsWith(name), orderByDescending: c => c.Name);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> ByName(string name) =>\r\n        By(c => c.Name.StartsWith(name), orderByDescending: c => c.Name);\r\n\r\n    public List<Company> All(string name) =>\r\n        All(orderByDescending: c => c.Name);\r\n\r\n    public List<Company> FirstByName(string name) =>\r\n        FirstBy(c => c.Name.StartsWith(name), orderByDescending: c => c.Name);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"firstby-and-singleby"},"children":[{"type":"text","value":"FirstBy and SingleBy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FirstBy"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleBy"}]},{"type":"text","value":" methods are like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":" methods but they return only one\r\nrecord. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FirstBy"}]},{"type":"text","value":" returns the first record matching the given conditions,\r\nwhereas "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleBy"}]},{"type":"text","value":" throws an exception when there are more than one records\r\nmatching the given conditions."}]},{"type":"element","tag":"code","props":{"code":"public class User { ... }\r\n\r\npublic class Users : Query<User>\r\n{\r\n    ...\r\n    public User SingleByEmail(Email email) =>\r\n        SingleBy(u => u.Email == email);\r\n\r\n    public User FirstByRegistrationDate(Date registrationDate) =>\r\n        FirstBy(u => u.RegistrationDate == registrationDate);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class User { ... }\r\n\r\npublic class Users : Query<User>\r\n{\r\n    ...\r\n    public User SingleByEmail(Email email) =>\r\n        SingleBy(u => u.Email == email);\r\n\r\n    public User FirstByRegistrationDate(Date registrationDate) =>\r\n        FirstBy(u => u.RegistrationDate == registrationDate);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Single Parameter Convention applies to all query methods. That's why above\r\nmethods are named as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleByEmail"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FirstByRegistrationDate"}]},{"type":"text","value":" instead of\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleBy"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FirstBy"}]},{"type":"text","value":". When you have more than one parameter you may\r\nexclude parameter name from method name (e.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public User SingleBy(Email email, Password password)"}]},{"type":"text","value":")."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleBy"}]},{"type":"text","value":" method will return "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":" when there are no matching records. LINQ\r\nextension methods uses a different convention. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Single"}]},{"type":"text","value":" methods expects to\r\nreturn one record, if there are none or more than one they will throw an\r\nexception. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleBy"}]},{"type":"text","value":" methods acts like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleOrDefault"}]},{"type":"text","value":" method."}]},{"type":"element","tag":"h2","props":{"id":"countby"},"children":[{"type":"text","value":"CountBy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As the name implies, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CountBy"}]},{"type":"text","value":" methods executes a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"count"}]},{"type":"text","value":" query and returns an\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"int"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class User { ... }\r\n\r\npublic class Users : Query<User>\r\n{\r\n    ...\r\n    public int CountByRegistrationDate(Date registrationDate) =>\r\n        CountBy(u => u.RegistrationDate == registrationDate);\r\n\r\n    public int CountBy(Gender gender, Date birthDate) =>\r\n        CountBy(u => u.Gender == gender && u.BirthDate == birthDate);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class User { ... }\r\n\r\npublic class Users : Query<User>\r\n{\r\n    ...\r\n    public int CountByRegistrationDate(Date registrationDate) =>\r\n        CountBy(u => u.RegistrationDate == registrationDate);\r\n\r\n    public int CountBy(Gender gender, Date birthDate) =>\r\n        CountBy(u => u.Gender == gender && u.BirthDate == birthDate);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"anyby"},"children":[{"type":"text","value":"AnyBy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As the name implies, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AnyBy"}]},{"type":"text","value":" method determines whether all elements of a\r\nsequence satisfy a condition and returns a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"bool"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class User { ... }\r\n\r\npublic class Users : Query<User>\r\n{\r\n    ...\r\n    public bool AnyByRegistrationDate(Date registrationDate) =>\r\n        AnyBy(u => u.RegistrationDate == registrationDate);\r\n\r\n    public bool AnyBy(Gender gender, Date birthDate) =>\r\n        AnyBy(u => u.Gender == gender && u.BirthDate == birthDate);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class User { ... }\r\n\r\npublic class Users : Query<User>\r\n{\r\n    ...\r\n    public bool AnyByRegistrationDate(Date registrationDate) =>\r\n        AnyBy(u => u.RegistrationDate == registrationDate);\r\n\r\n    public bool AnyBy(Gender gender, Date birthDate) =>\r\n        AnyBy(u => u.Gender == gender && u.BirthDate == birthDate);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"minby-and-maxby"},"children":[{"type":"text","value":"MinBy and MaxBy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These aggregate functions take two expressions."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"An expression of the property on which aggregate function is applied"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"An expression for where clause"}]}]},{"type":"element","tag":"code","props":{"code":"public class Transaction { ... }\r\n\r\npublic class Transactions : Query<Transaction>\r\n{\r\n    ...\r\n    public Money MinAmountBy(DateRange transactionDateRange, CurrencyCode currency) =>\r\n        MinBy(\r\n            //Property expression\r\n            t => t.Amount.Value,\r\n\r\n            //Where clause expression\r\n            t => t.TransactionDate >= transactionDateRange.Start &&\r\n                 t.TransactionDate < transactionDateRange.End &&\r\n                 t.Amount.Currency == currency\r\n        ).ToMoney(currency);\r\n\r\n    public Money MaxAmountBy(DateRange transactionDateRange, CurrencyCode currency) =>\r\n        MaxBy(\r\n            //Property expression\r\n            t => t.Amount.Value,\r\n\r\n            //Where clause expression\r\n            t => t.TransactionDate >= transactionDateRange.Start &&\r\n                 t.TransactionDate < transactionDateRange.End &&\r\n                 t.Amount.Currency == currency\r\n        ).ToMoney(currency);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Transaction { ... }\r\n\r\npublic class Transactions : Query<Transaction>\r\n{\r\n    ...\r\n    public Money MinAmountBy(DateRange transactionDateRange, CurrencyCode currency) =>\r\n        MinBy(\r\n            //Property expression\r\n            t => t.Amount.Value,\r\n\r\n            //Where clause expression\r\n            t => t.TransactionDate >= transactionDateRange.Start &&\r\n                 t.TransactionDate < transactionDateRange.End &&\r\n                 t.Amount.Currency == currency\r\n        ).ToMoney(currency);\r\n\r\n    public Money MaxAmountBy(DateRange transactionDateRange, CurrencyCode currency) =>\r\n        MaxBy(\r\n            //Property expression\r\n            t => t.Amount.Value,\r\n\r\n            //Where clause expression\r\n            t => t.TransactionDate >= transactionDateRange.Start &&\r\n                 t.TransactionDate < transactionDateRange.End &&\r\n                 t.Amount.Currency == currency\r\n        ).ToMoney(currency);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"optional-where-clauses"},"children":[{"type":"text","value":"Optional Where Clauses"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In a query class, if a condition needs to be included in a query depending on\r\nthe state of a given parameter, an optional where clause can be created as\r\nshown below;"}]},{"type":"element","tag":"code","props":{"code":"public List<Company> By(City city, string name = default, Vkn taxNo = default)\r\n{\r\n    return By(c => c.City == city,\r\n        When(name).IsNot(default).ThenAnd(c => c.Name.StartsWith(name)),\r\n        When(taxNo).IsNot(default).ThenAnd(c => c.TaxNo == taxNo)\r\n    );\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public List<Company> By(City city, string name = default, Vkn taxNo = default)\r\n{\r\n    return By(c => c.City == city,\r\n        When(name).IsNot(default).ThenAnd(c => c.Name.StartsWith(name)),\r\n        When(taxNo).IsNot(default).ThenAnd(c => c.TaxNo == taxNo)\r\n    );\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This way you can create reusable query services/methods;"}]},{"type":"element","tag":"code","props":{"code":"companies.By(city);\r\ncompanies.By(city, taxNo: taxNo);\r\ncompanies.By(city, name: name, taxNo: taxNo);\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"companies.By(city);\r\ncompanies.By(city, taxNo: taxNo);\r\ncompanies.By(city, name: name, taxNo: taxNo);\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use optional where clauses in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FirstBy"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleBy"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MinBy"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MaxBy"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CountBy"}]},{"type":"text","value":" methods."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An optional where clause is built in 3 steps:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"When"}]}]},{"type":"text","value":": In this step you specify the parameter on which you will check a\r\ncondition."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Is/Not"}]}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Is"}]},{"type":"text","value":" method expects the given condition to be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" while\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IsNot"}]},{"type":"text","value":" method expects the given condition to be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ThenAnd"}]}]},{"type":"text","value":": This is the final step. In this step you provide the where\r\nclause."}]}]},{"type":"element","tag":"code","props":{"code":"When(name).IsNot(default).ThenAnd(c => c.Name.StartsWith(name))\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"When(name).IsNot(default).ThenAnd(c => c.Name.StartsWith(name))\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Together, in the above statement, you stated that there is an optional filter\r\nwhich should be included when name is not "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"default"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The alternative, you can also use as named optional parameters. They must be\r\nthe last ones in method arguments list."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are available 2 different ways."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"optional"}]}]},{"type":"text","value":": In this way, you specify the single condition."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"optionals"}]}]},{"type":"text","value":": In this way, you specify the multiple conditions."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can pass the parameter according to the name, as shown below;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic List<Company> By(City city, string name = default)\r\n{\r\n    return By(c => c.City == city,\r\n        optional: When(name).IsNot(default).ThenAnd(c => c.Name.StartsWith(name))\r\n    );\r\n}\r\n\r\npublic List<Company> By(City city, string name = default, Vkn taxNo = default)\r\n{\r\n    return By(c => c.City == city,\r\n        optionals: new[] {\r\n            When(name).IsNot(default).ThenAnd(c => c.Name.StartsWith(name)),\r\n            When(taxNo).IsNot(default).ThenAnd(c => c.TaxNo == taxNo)\r\n        }\r\n    );\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic List<Company> By(City city, string name = default)\r\n{\r\n    return By(c => c.City == city,\r\n        optional: When(name).IsNot(default).ThenAnd(c => c.Name.StartsWith(name))\r\n    );\r\n}\r\n\r\npublic List<Company> By(City city, string name = default, Vkn taxNo = default)\r\n{\r\n    return By(c => c.City == city,\r\n        optionals: new[] {\r\n            When(name).IsNot(default).ThenAnd(c => c.Name.StartsWith(name)),\r\n            When(taxNo).IsNot(default).ThenAnd(c => c.TaxNo == taxNo)\r\n        }\r\n    );\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"how-to-use-is"},"children":[{"type":"text","value":"How to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Is"}]}]},{"type":"element","tag":"code","props":{"code":"//if given name parameter object is expectedName\r\n//then the condition will be included in the query.\r\nWhen(name).Is(n => n == expectedName)\r\n\r\n//you can pass an object instead of an expression\r\n//which will be equivalent to above code\r\nWhen(name).Is(expectedName)\r\n\r\n//There is a shortcut method that does the same job\r\n//that When(name).Is(null) and When(name).Is(default) does\r\nWhen(name).IsDefault()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"//if given name parameter object is expectedName\r\n//then the condition will be included in the query.\r\nWhen(name).Is(n => n == expectedName)\r\n\r\n//you can pass an object instead of an expression\r\n//which will be equivalent to above code\r\nWhen(name).Is(expectedName)\r\n\r\n//There is a shortcut method that does the same job\r\n//that When(name).Is(null) and When(name).Is(default) does\r\nWhen(name).IsDefault()\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"how-to-use-isnot"},"children":[{"type":"text","value":"How to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IsNot"}]}]},{"type":"element","tag":"code","props":{"code":"//if given name parameter object is not excludedName\r\n//then the condition will be included in the query.\r\nWhen(name).IsNot(c => c == excludedName)\r\n\r\n//you can pass an object instead of an expression\r\n//which will be equivalent to above code\r\nWhen(name).IsNot(excludedName)\r\n\r\n//There is a shortcut method that does the same job\r\n//that When(name).IsNot(null) and When(name).IsNot(default) does\r\nWhen(name).IsNotDefault()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"//if given name parameter object is not excludedName\r\n//then the condition will be included in the query.\r\nWhen(name).IsNot(c => c == excludedName)\r\n\r\n//you can pass an object instead of an expression\r\n//which will be equivalent to above code\r\nWhen(name).IsNot(excludedName)\r\n\r\n//There is a shortcut method that does the same job\r\n//that When(name).IsNot(null) and When(name).IsNot(default) does\r\nWhen(name).IsNotDefault()\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"query-base-class"},"children":[{"type":"text","value":"Query Base Class"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" is an abstract class with helper functionalities to make it simple\r\nto create queries. All methods in this class are "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":". If a method\r\ndeclared in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" class is to be exposed as a business service, you can\r\noverride its access modifiers with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public new"}]},{"type":"text","value":" keyword."}]},{"type":"element","tag":"h3","props":{"id":"singlebyid-and-byids"},"children":[{"type":"text","value":"SingleById and ByIds"}]},{"type":"element","tag":"code","props":{"code":"public abstract class Query<T> : IQuery<T>\r\n{\r\n    ...\r\n    protected virtual T SingleById(int id) { ... }\r\n\r\n    protected virtual List<T> ByIds(List<int> ids) { ... }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public abstract class Query<T> : IQuery<T>\r\n{\r\n    ...\r\n    protected virtual T SingleById(int id) { ... }\r\n\r\n    protected virtual List<T> ByIds(List<int> ids) { ... }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These methods are protected helper methods and are used by Gazel to find a\r\nrecord by an id or ids. If you want these methods to be available for internal\r\nuse, then you can simply do the following;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    internal new Company SingleById(int id)\r\n    {\r\n        return base.SingleById(id);\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    internal new Company SingleById(int id)\r\n    {\r\n        return base.SingleById(id);\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleById"}]},{"type":"text","value":" caches the result in request scope, that is, when you make\r\nsubsequent calls to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleById"}]},{"type":"text","value":", only first call will hit database."}]}]},{"type":"element","tag":"h3","props":{"id":"queryall"},"children":[{"type":"text","value":"Query.All"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This method lists all records in corresponding table. This method is\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" base class. If you want a persistent class to have an\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"All"}]},{"type":"text","value":" query as a business service do the following;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public new Company All()\r\n    {\r\n        return base.All();\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public new Company All()\r\n    {\r\n        return base.All();\r\n    }\r\n    ...\r\n}\n"}]}]}]}]},"position":5,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"queries"},"children":[{"type":"text","value":"Queries"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For persistence classes, there needs to be corresponding query class to read\r\nrecords from database. This section focuses on how you can organize your\r\nqueries in your projects."}]},{"type":"element","tag":"h2","props":{"id":"query-class-conventions"},"children":[{"type":"text","value":"Query Class Conventions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The main purpose of query classes is to organize all of the queries of a table\r\ntogether into one place. Query classes are named after their corresponding\r\npersistent class. They are in plural form like below;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can access pluralization service through "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext.Pluralizer"}]},{"type":"text","value":"\r\nproperty."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If pluralization service does not provide what you want, you can make use of\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[Name]s"}]},{"type":"text","value":" convention. For instance, there is a persistent class named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Xyz"}]},{"type":"text","value":",\r\nwhen you name its query class as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Xyzs"}]},{"type":"text","value":", it will work as well."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Query classes are singleton by convention and its usage is as follows;"}]},{"type":"element","tag":"code","props":{"code":"public class CompanyManager\r\n{\r\n    ...\r\n    public virtual void DeactivateCompanies(string name)\r\n    {\r\n        foreach(var company in _context.Query<Companies>().ByName(name))\r\n        {\r\n            company.Deactivate();\r\n        }\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"CompanyManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"DeactivateCompanies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-951967"},"children":[{"type":"text","value":"foreach"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-951967"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ByName"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"))"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Deactivate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Query classes are singleton by convention, so you can inject query classes as\r\nwell;"}]},{"type":"element","tag":"code","props":{"code":"public class CompanyManager\r\n{\r\n    private Companies _companies;\r\n\r\n    public CompanyManager(Companies companies) => _companies = companies;\r\n\r\n    public virtual void DeactivateCompanies(string name)\r\n    {\r\n        foreach(var company in _companies.ByName(name))\r\n        {\r\n            company.Deactivate();\r\n        }\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"CompanyManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"_companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"CompanyManager"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"_companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"DeactivateCompanies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-951967"},"children":[{"type":"text","value":"foreach"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-951967"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"_companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ByName"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"))"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Deactivate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Query classes should extend "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" which is an abstract class with helper\r\nfunctionalities to make it simple to implement query methods. To provide these\r\nfunctionalities it requires "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"text","value":" to be injected."}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    public Companies(IModuleContext context) : base(context) { }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") : "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to inject other dependencies, you are free to do it like in any\r\nother class."}]},{"type":"element","tag":"h2","props":{"id":"by-methods"},"children":[{"type":"text","value":"By Methods"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By methods are type of queries that return list of persistent objects."}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city) =>\r\n        By(c => c.Name.Contains(name) && c.City == city);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") && "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":" method is declared in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" base class to help you create query\r\nmethods quickly."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>.By"}]},{"type":"text","value":" method accepts an expression that is converted to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SQL"}]},{"type":"text","value":". This\r\nexpression never runs in your .NET application. Because of this reason you\r\nare not supposed to call methods of persistent classes within these\r\nexpressions.  For example; "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By(c => c.GetEmployees().Count > 0)"}]},{"type":"text","value":" will not\r\nwork."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Do not use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Id"}]},{"type":"text","value":" properties for filtering;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city) =>\r\n        By(c => c.Name.Contains(name) && c.City.Id == city.Id);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") && "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will cause a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NullReferenceException"}]},{"type":"text","value":" when city is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":". Prefer\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"c.City == city"}]},{"type":"text","value":" expression, which will handle both cases in one shot."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A by method can also be implemented like below;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city) =>\r\n        Lookup.List(true).Where(c => c.Name.Contains(name) && c.City == city).ToList();\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Lookup"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Where"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") && "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ToList"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Lookup"}]},{"type":"text","value":" property is declared in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" base class and is of type\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ILookup<T>"}]},{"type":"text","value":". This interface acts as a gateway to NHibernate. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ILookup<T>.List"}]},{"type":"text","value":"\r\nmethod returns an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IQueryable<T>"}]},{"type":"text","value":" instance. You may use this instance when "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":"\r\nmethod is not enough."}]},{"type":"element","tag":"h3","props":{"id":"single-parameter-convention"},"children":[{"type":"text","value":"Single Parameter Convention"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When there is only one parameter in query methods, we suggest you to include\r\nparameter name in method name like below;"}]},{"type":"element","tag":"code","props":{"code":"public class Transaction { ... }\r\n\r\npublic class Transactions : Query<Transaction>\r\n{\r\n    ...\r\n    public List<Transaction> ByFrom(Account from) => By(t => t.From == from);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transaction"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transactions"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transaction"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transaction"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ByFrom"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"From"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Consider you have two different queries on "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Transaction"}]},{"type":"text","value":" table, first one\r\nfilters using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"From"}]},{"type":"text","value":" column, second one filters using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"To"}]},{"type":"text","value":" column;"}]},{"type":"element","tag":"code","props":{"code":"public class Transaction { ... }\r\n\r\npublic class Transactions : Query<Transaction>\r\n{\r\n    ...\r\n    public List<Transaction> By(Account from) => By(t => t.From == from);\r\n    public List<Transaction> By(Account to) => By(t => t.To == to);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transaction"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transactions"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transaction"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transaction"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"From"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transaction"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"to"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"To"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"to"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above code will not compile because there are two methods with exactly the same\r\nsignature. To make it compile, you need to rename one of them. We prefer\r\nrenaming both to provide consistency in naming;"}]},{"type":"element","tag":"code","props":{"code":"public class Transaction { ... }\r\n\r\npublic class Transactions : Query<Transaction>\r\n{\r\n    ...\r\n    public List<Transaction> ByFrom(Account from) => By(t => t.From == from);\r\n    public List<Transaction> ByTo(Account to) => By(t => t.To == to);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transaction"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transactions"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transaction"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transaction"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ByFrom"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"From"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transaction"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ByTo"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"to"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"To"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"to"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"take-and-skip"},"children":[{"type":"text","value":"Take and Skip"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"skip"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"take"}]},{"type":"text","value":" extensions methods. They are optional parameters.\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"take"}]},{"type":"text","value":" parameter extracts the first n elements from the beginning of the target\r\nsequence. Here is how you can do it;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city, int take) =>\r\n        By(c => c.Name.Contains(name) && c.City == city, take: take);\r\n\r\n    public List<Company> All(string name, City city, int take) =>\r\n        All(c => c.Name.Contains(name) && c.City == city, take: take);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") && "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") && "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"skip"}]},{"type":"text","value":" parameter moves pass the first n elements from the beginning of the\r\ntarget sequence, returning the remainder;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city, int skip) =>\r\n        By(c => c.Name.Contains(name) && c.City == city, skip: skip);\r\n\r\n    public List<Company> All(string name, City city, int skip) =>\r\n        All(c => c.Name.Contains(name) && c.City == city, skip: skip);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") && "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") && "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can apply pagination by using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"skip"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"take"}]},{"type":"text","value":" optional parameters. Here\r\nis how you can do it;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, int skip, int take) =>\r\n        By(c => c.Name.Contains(name), skip: skip, take:take);\r\n\r\n    public List<Company> All(string name, int skip, int take) =>\r\n        All(c => c.Name.Contains(name), skip: skip, take:take);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"), "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"), "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Alternatively, you can also be implemented by using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ILookup<T>.List"}]},{"type":"text","value":" as shown\r\nbelow. It actually returns an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IQueryable<T>"}]},{"type":"text","value":" instance."}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> By(string name, City city, int take) =>\r\n        Lookup\r\n            .List(true)\r\n            .Where(c => c.Name.Contains(name) && c.City == city)\r\n            .Take(take)\r\n            .ToList();;\r\n\r\n    public List<Company> By(string name, City city, int skip) =>\r\n        Lookup\r\n            .List(true)\r\n            .Where(c => c.Name.Contains(name) && c.City == city)\r\n            .Skip(skip)\r\n            .ToList();;\r\n\r\n    public List<Company> By(string name, City city, int take, int skip) =>\r\n        Lookup\r\n            .List(true)\r\n            .Where(c => c.Name.Contains(name) && c.City == city)\r\n            .OrderByDescending(c => c.City)\r\n            .Skip(skip)\r\n            .Take(take)\r\n            .ToList();\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Lookup"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Where"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") && "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ToList"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"();;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Lookup"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Where"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") && "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ToList"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"();;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Lookup"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Where"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") && "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"OrderByDescending"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"skip"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"take"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ToList"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"orderby-and-orderbydescending"},"children":[{"type":"text","value":"OrderBy and OrderByDescending"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"orderBy"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"orderByDescending"}]},{"type":"text","value":" extensions methods. They are\r\noptional parameters."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"orderBy"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"orderByDescending"}]},{"type":"text","value":" parameters in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"All"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FirstBy"}]},{"type":"text","value":",  methods."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"orderby"}]},{"type":"text","value":" parameter sorts the elements of a sequence in ascending order\r\naccording to a key."}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> ByName(string name) =>\r\n        By(c => c.Name.StartsWith(name), orderBy: c => c.Name);\r\n\r\n    public List<Company> All() =>\r\n        All(orderBy: c => c.Name);\r\n\r\n    public List<Company> FirstByName(string name) =>\r\n        FirstBy(c => c.Name.StartsWith(name), orderBy: c => c.Name);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ByName"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"StartsWith"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"), "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"orderBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"() =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"orderBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"FirstByName"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"FirstBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"StartsWith"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"), "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"orderBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"orderByDescending"}]},{"type":"text","value":" parameter sorts the elements of a sequence in\r\ndescending order according to a key."}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public List<Company> ByName(string name) =>\r\n        By(c => c.Name.StartsWith(name), orderByDescending: c => c.Name);\r\n\r\n    public List<Company> All(string name) =>\r\n        All(orderByDescending: c => c.Name);\r\n\r\n    public List<Company> FirstByName(string name) =>\r\n        FirstBy(c => c.Name.StartsWith(name), orderByDescending: c => c.Name);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ByName"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"StartsWith"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"), "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"orderByDescending"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"orderByDescending"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"FirstByName"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"FirstBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"StartsWith"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"), "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"orderByDescending"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"firstby-and-singleby"},"children":[{"type":"text","value":"FirstBy and SingleBy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FirstBy"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleBy"}]},{"type":"text","value":" methods are like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":" methods but they return only one\r\nrecord. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FirstBy"}]},{"type":"text","value":" returns the first record matching the given conditions,\r\nwhereas "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleBy"}]},{"type":"text","value":" throws an exception when there are more than one records\r\nmatching the given conditions."}]},{"type":"element","tag":"code","props":{"code":"public class User { ... }\r\n\r\npublic class Users : Query<User>\r\n{\r\n    ...\r\n    public User SingleByEmail(Email email) =>\r\n        SingleBy(u => u.Email == email);\r\n\r\n    public User FirstByRegistrationDate(Date registrationDate) =>\r\n        FirstBy(u => u.RegistrationDate == registrationDate);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"User"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Users"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"User"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"User"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"SingleByEmail"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Email"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"email"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"SingleBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Email"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"email"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"User"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"FirstByRegistrationDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Date"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"registrationDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"FirstBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"RegistrationDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"registrationDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Single Parameter Convention applies to all query methods. That's why above\r\nmethods are named as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleByEmail"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FirstByRegistrationDate"}]},{"type":"text","value":" instead of\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleBy"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FirstBy"}]},{"type":"text","value":". When you have more than one parameter you may\r\nexclude parameter name from method name (e.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public User SingleBy(Email email, Password password)"}]},{"type":"text","value":")."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleBy"}]},{"type":"text","value":" method will return "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":" when there are no matching records. LINQ\r\nextension methods uses a different convention. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Single"}]},{"type":"text","value":" methods expects to\r\nreturn one record, if there are none or more than one they will throw an\r\nexception. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleBy"}]},{"type":"text","value":" methods acts like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleOrDefault"}]},{"type":"text","value":" method."}]},{"type":"element","tag":"h2","props":{"id":"countby"},"children":[{"type":"text","value":"CountBy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As the name implies, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CountBy"}]},{"type":"text","value":" methods executes a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"count"}]},{"type":"text","value":" query and returns an\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"int"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class User { ... }\r\n\r\npublic class Users : Query<User>\r\n{\r\n    ...\r\n    public int CountByRegistrationDate(Date registrationDate) =>\r\n        CountBy(u => u.RegistrationDate == registrationDate);\r\n\r\n    public int CountBy(Gender gender, Date birthDate) =>\r\n        CountBy(u => u.Gender == gender && u.BirthDate == birthDate);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"User"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Users"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"User"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"CountByRegistrationDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Date"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"registrationDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"CountBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"RegistrationDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"registrationDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"CountBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Gender"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"gender"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Date"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"birthDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"CountBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Gender"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"gender"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" && "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"BirthDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"birthDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"anyby"},"children":[{"type":"text","value":"AnyBy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As the name implies, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AnyBy"}]},{"type":"text","value":" method determines whether all elements of a\r\nsequence satisfy a condition and returns a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"bool"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"public class User { ... }\r\n\r\npublic class Users : Query<User>\r\n{\r\n    ...\r\n    public bool AnyByRegistrationDate(Date registrationDate) =>\r\n        AnyBy(u => u.RegistrationDate == registrationDate);\r\n\r\n    public bool AnyBy(Gender gender, Date birthDate) =>\r\n        AnyBy(u => u.Gender == gender && u.BirthDate == birthDate);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"User"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Users"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"User"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"AnyByRegistrationDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Date"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"registrationDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"AnyBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"RegistrationDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"registrationDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"AnyBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Gender"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"gender"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Date"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"birthDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"AnyBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Gender"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"gender"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" && "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"BirthDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"birthDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"minby-and-maxby"},"children":[{"type":"text","value":"MinBy and MaxBy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These aggregate functions take two expressions."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"An expression of the property on which aggregate function is applied"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"An expression for where clause"}]}]},{"type":"element","tag":"code","props":{"code":"public class Transaction { ... }\r\n\r\npublic class Transactions : Query<Transaction>\r\n{\r\n    ...\r\n    public Money MinAmountBy(DateRange transactionDateRange, CurrencyCode currency) =>\r\n        MinBy(\r\n            //Property expression\r\n            t => t.Amount.Value,\r\n\r\n            //Where clause expression\r\n            t => t.TransactionDate >= transactionDateRange.Start &&\r\n                 t.TransactionDate < transactionDateRange.End &&\r\n                 t.Amount.Currency == currency\r\n        ).ToMoney(currency);\r\n\r\n    public Money MaxAmountBy(DateRange transactionDateRange, CurrencyCode currency) =>\r\n        MaxBy(\r\n            //Property expression\r\n            t => t.Amount.Value,\r\n\r\n            //Where clause expression\r\n            t => t.TransactionDate >= transactionDateRange.Start &&\r\n                 t.TransactionDate < transactionDateRange.End &&\r\n                 t.Amount.Currency == currency\r\n        ).ToMoney(currency);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transaction"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transactions"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Transaction"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Money"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"MinAmountBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"DateRange"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"transactionDateRange"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"CurrencyCode"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"currency"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"MinBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//Property expression"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Amount"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Value"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//Where clause expression"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"TransactionDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" >= "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"transactionDateRange"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Start"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" &&"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"                 "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"TransactionDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" < "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"transactionDateRange"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"End"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" &&"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"                 "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Amount"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Currency"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"currency"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        )."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ToMoney"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"currency"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Money"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"MaxAmountBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"DateRange"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"transactionDateRange"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"CurrencyCode"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"currency"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"MaxBy"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//Property expression"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Amount"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Value"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//Where clause expression"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"TransactionDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" >= "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"transactionDateRange"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Start"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" &&"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"                 "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"TransactionDate"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" < "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"transactionDateRange"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"End"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" &&"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"                 "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Amount"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Currency"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"currency"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        )."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ToMoney"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"currency"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"optional-where-clauses"},"children":[{"type":"text","value":"Optional Where Clauses"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In a query class, if a condition needs to be included in a query depending on\r\nthe state of a given parameter, an optional where clause can be created as\r\nshown below;"}]},{"type":"element","tag":"code","props":{"code":"public List<Company> By(City city, string name = default, Vkn taxNo = default)\r\n{\r\n    return By(c => c.City == city,\r\n        When(name).IsNot(default).ThenAnd(c => c.Name.StartsWith(name)),\r\n        When(taxNo).IsNot(default).ThenAnd(c => c.TaxNo == taxNo)\r\n    );\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Vkn"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"taxNo"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-951967"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"When"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"IsNot"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ThenAnd"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"StartsWith"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")),"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"When"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"taxNo"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"IsNot"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ThenAnd"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"TaxNo"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"taxNo"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    );"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This way you can create reusable query services/methods;"}]},{"type":"element","tag":"code","props":{"code":"companies.By(city);\r\ncompanies.By(city, taxNo: taxNo);\r\ncompanies.By(city, name: name, taxNo: taxNo);\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"taxNo"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"taxNo"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"taxNo"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"taxNo"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use optional where clauses in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FirstBy"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleBy"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MinBy"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MaxBy"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CountBy"}]},{"type":"text","value":" methods."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An optional where clause is built in 3 steps:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"When"}]}]},{"type":"text","value":": In this step you specify the parameter on which you will check a\r\ncondition."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Is/Not"}]}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Is"}]},{"type":"text","value":" method expects the given condition to be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" while\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IsNot"}]},{"type":"text","value":" method expects the given condition to be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ThenAnd"}]}]},{"type":"text","value":": This is the final step. In this step you provide the where\r\nclause."}]}]},{"type":"element","tag":"code","props":{"code":"When(name).IsNot(default).ThenAnd(c => c.Name.StartsWith(name))\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"When"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"IsNot"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ThenAnd"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"StartsWith"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"))"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Together, in the above statement, you stated that there is an optional filter\r\nwhich should be included when name is not "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"default"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The alternative, you can also use as named optional parameters. They must be\r\nthe last ones in method arguments list."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are available 2 different ways."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"optional"}]}]},{"type":"text","value":": In this way, you specify the single condition."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"optionals"}]}]},{"type":"text","value":": In this way, you specify the multiple conditions."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can pass the parameter according to the name, as shown below;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic List<Company> By(City city, string name = default)\r\n{\r\n    return By(c => c.City == city,\r\n        optional: When(name).IsNot(default).ThenAnd(c => c.Name.StartsWith(name))\r\n    );\r\n}\r\n\r\npublic List<Company> By(City city, string name = default, Vkn taxNo = default)\r\n{\r\n    return By(c => c.City == city,\r\n        optionals: new[] {\r\n            When(name).IsNot(default).ThenAnd(c => c.Name.StartsWith(name)),\r\n            When(taxNo).IsNot(default).ThenAnd(c => c.TaxNo == taxNo)\r\n        }\r\n    );\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-951967"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"optional"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"When"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"IsNot"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ThenAnd"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"StartsWith"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"))"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    );"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Vkn"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"taxNo"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-951967"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"City"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"city"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"optionals"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"[] {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"When"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"IsNot"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ThenAnd"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"StartsWith"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")),"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"When"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"taxNo"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"IsNot"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ThenAnd"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"TaxNo"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"taxNo"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    );"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"how-to-use-is"},"children":[{"type":"text","value":"How to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Is"}]}]},{"type":"element","tag":"code","props":{"code":"//if given name parameter object is expectedName\r\n//then the condition will be included in the query.\r\nWhen(name).Is(n => n == expectedName)\r\n\r\n//you can pass an object instead of an expression\r\n//which will be equivalent to above code\r\nWhen(name).Is(expectedName)\r\n\r\n//There is a shortcut method that does the same job\r\n//that When(name).Is(null) and When(name).Is(default) does\r\nWhen(name).IsDefault()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//if given name parameter object is expectedName"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//then the condition will be included in the query."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"When"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Is"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"n"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"n"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"expectedName"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//you can pass an object instead of an expression"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//which will be equivalent to above code"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"When"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"Is"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"expectedName"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//There is a shortcut method that does the same job"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//that When(name).Is(null) and When(name).Is(default) does"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"When"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"IsDefault"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"how-to-use-isnot"},"children":[{"type":"text","value":"How to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IsNot"}]}]},{"type":"element","tag":"code","props":{"code":"//if given name parameter object is not excludedName\r\n//then the condition will be included in the query.\r\nWhen(name).IsNot(c => c == excludedName)\r\n\r\n//you can pass an object instead of an expression\r\n//which will be equivalent to above code\r\nWhen(name).IsNot(excludedName)\r\n\r\n//There is a shortcut method that does the same job\r\n//that When(name).IsNot(null) and When(name).IsNot(default) does\r\nWhen(name).IsNotDefault()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//if given name parameter object is not excludedName"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//then the condition will be included in the query."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"When"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"IsNot"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"excludedName"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//you can pass an object instead of an expression"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//which will be equivalent to above code"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"When"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"IsNot"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"excludedName"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//There is a shortcut method that does the same job"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-77ae15"},"children":[{"type":"text","value":"//that When(name).IsNot(null) and When(name).IsNot(default) does"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"When"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"IsNotDefault"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"query-base-class"},"children":[{"type":"text","value":"Query Base Class"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" is an abstract class with helper functionalities to make it simple\r\nto create queries. All methods in this class are "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":". If a method\r\ndeclared in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" class is to be exposed as a business service, you can\r\noverride its access modifiers with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public new"}]},{"type":"text","value":" keyword."}]},{"type":"element","tag":"h3","props":{"id":"singlebyid-and-byids"},"children":[{"type":"text","value":"SingleById and ByIds"}]},{"type":"element","tag":"code","props":{"code":"public abstract class Query<T> : IQuery<T>\r\n{\r\n    ...\r\n    protected virtual T SingleById(int id) { ... }\r\n\r\n    protected virtual List<T> ByIds(List<int> ids) { ... }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"abstract"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"IQuery"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"SingleById"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"ByIds"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"ids"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":") { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These methods are protected helper methods and are used by Gazel to find a\r\nrecord by an id or ids. If you want these methods to be available for internal\r\nuse, then you can simply do the following;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    internal new Company SingleById(int id)\r\n    {\r\n        return base.SingleById(id);\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"SingleById"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-951967"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"SingleById"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4129b0"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleById"}]},{"type":"text","value":" caches the result in request scope, that is, when you make\r\nsubsequent calls to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SingleById"}]},{"type":"text","value":", only first call will hit database."}]}]},{"type":"element","tag":"h3","props":{"id":"queryall"},"children":[{"type":"text","value":"Query.All"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This method lists all records in corresponding table. This method is\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" base class. If you want a persistent class to have an\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"All"}]},{"type":"text","value":" query as a business service do the following;"}]},{"type":"element","tag":"code","props":{"code":"public class Company { ... }\r\n\r\npublic class Companies : Query<Company>\r\n{\r\n    ...\r\n    public new Company All()\r\n    {\r\n        return base.All();\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7e4f46"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-951967"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b3951e"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4d6c43"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-df415e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-77ae15{color:#6A9955}\n.ct-951967{color:#C586C0}\n.ct-4129b0{color:#9CDCFE}\n.ct-4d6c43{color:#DCDCAA}\n.ct-7e4f46{color:#4EC9B0}\n.ct-df415e{color:#D4D4D4}\n.ct-b3951e{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"query-class-conventions","depth":2,"text":"Query Class Conventions"},{"id":"by-methods","depth":2,"text":"By Methods","children":[{"id":"single-parameter-convention","depth":3,"text":"Single Parameter Convention"},{"id":"take-and-skip","depth":3,"text":"Take and Skip"},{"id":"orderby-and-orderbydescending","depth":3,"text":"OrderBy and OrderByDescending"}]},{"id":"firstby-and-singleby","depth":2,"text":"FirstBy and SingleBy"},{"id":"countby","depth":2,"text":"CountBy"},{"id":"anyby","depth":2,"text":"AnyBy"},{"id":"minby-and-maxby","depth":2,"text":"MinBy and MaxBy"},{"id":"optional-where-clauses","depth":2,"text":"Optional Where Clauses","children":[{"id":"how-to-use-is","depth":3,"text":"How to use Is"},{"id":"how-to-use-isnot","depth":3,"text":"How to use IsNot"}]},{"id":"query-base-class","depth":2,"text":"Query Base Class","children":[{"id":"singlebyid-and-byids","depth":3,"text":"SingleById and ByIds"},{"id":"queryall","depth":3,"text":"Query.All"}]}]}},"_type":"markdown","_id":"content:conventions:queries.md","_source":"content","_file":"conventions/queries.md","_extension":"md"},{"_path":"/conventions/transaction-management","_dir":"conventions","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Transaction Management","description":"Business services always runs in a transaction context. Its either main\r\ntransaction or manually created transactions. In this section you can learn how\r\nwe deal with database transactions.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"transaction-management"},"children":[{"type":"text","value":"Transaction Management"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Business services always runs in a transaction context. Its either main\r\ntransaction or manually created transactions. In this section you can learn how\r\nwe deal with database transactions."}]},{"type":"element","tag":"h2","props":{"id":"using-main-transaction"},"children":[{"type":"text","value":"Using Main Transaction"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before every service call, Gazel creates a database connection and begins a\r\ntransaction. If there occurs an exception the transaction is automatically\r\nrolled back. If there are no exceptions than transaction is committed."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        _context.New<Employee>().With(this, name);\r\n\r\n        throw new Exception(); //Above insert will be rolled back\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        _context.New<Employee>().With(this, name);\r\n\r\n        throw new Exception(); //Above insert will be rolled back\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"how-to-disable-main-transaction"},"children":[{"type":"text","value":"How to Disable Main Transaction"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to disable this main transaction behaviour, simply put\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[ManualTransaction]"}]},{"type":"text","value":" attribute to the service method. This will prevent a\r\ntransaction to be opened."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    [ManualTransaction]\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    [ManualTransaction]\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[ManualTransaction]"}]},{"type":"text","value":" you are not allowed to use a persistent\r\nobject as a parameter because there will be no transaction or connection to\r\nfetch that persistent object."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Disabling main transaction can help when you need to make an external or\r\ninternal API call before you make any database operation. Normally, when you\r\nmake an API call, you left a connection and a transaction open and waiting in\r\nan idle state. If your service requires an external call, we suggest you to\r\ndisable main transaction and make your external calls without blocking a\r\nconnection."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Be careful if you implement "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAccount"}]},{"type":"text","value":" interfaces on\r\npersistent classes. You need to check if there is a transaction before\r\naccessing the database. You may use\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.TransactionalFactory.TransactionExists"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.WithTransaction"}]},{"type":"text","value":"\r\nwhen implementing "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession.GetSession"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession.Validate"}]},{"type":"text","value":" and\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAccount.HasAccess"}]},{"type":"text","value":" methods."}]}]},{"type":"element","tag":"code","props":{"code":"public class Price\r\n{\r\n    ...\r\n    [ManualTransaction]\r\n    public virtual async Money Calculate(Money amount)\r\n    {\r\n        // no connection is used until unit converter service responds\r\n        var result = await unitConverterService.Convert(amount, 'USD');\r\n\r\n        // new transaction is used to log conversion into db\r\n        await _context.WithNewTransaction().DoAsync(() => {\r\n            _context.New<PriceLog>().With(amount, result);\r\n        });\r\n        // connection is released again\r\n\r\n        return result;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Price\r\n{\r\n    ...\r\n    [ManualTransaction]\r\n    public virtual async Money Calculate(Money amount)\r\n    {\r\n        // no connection is used until unit converter service responds\r\n        var result = await unitConverterService.Convert(amount, 'USD');\r\n\r\n        // new transaction is used to log conversion into db\r\n        await _context.WithNewTransaction().DoAsync(() => {\r\n            _context.New<PriceLog>().With(amount, result);\r\n        });\r\n        // connection is released again\r\n\r\n        return result;\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here we used the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"text","value":" method to obtain a new connection and a\r\ntransaction within a service. This feature is explained in detail in the\r\nfollowing section."}]},{"type":"element","tag":"h2","props":{"id":"creating-new-transactions"},"children":[{"type":"text","value":"Creating New Transactions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Most of the time one transaction will be enough for business services. However\r\nthere are cases when you will need a record to be updated or inserted and\r\ncommitted to database."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        _context.WithNewTransaction().Do(() => {\r\n            _context.New<Employee>().With(this, name);\r\n        });\r\n\r\n        throw new Exception(); //Above insert will not be rolled back\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        _context.WithNewTransaction().Do(() => {\r\n            _context.New<Employee>().With(this, name);\r\n        });\r\n\r\n        throw new Exception(); //Above insert will not be rolled back\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In above example "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.WithNewTransaction().Do(() => { ... })"}]},{"type":"text","value":" creates a new\r\ndatabase connection and begins a transaction on this new connection to provide\r\nyou with a new transaction context."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When an exception occurs in a transaction scope, Gazel catches the exception,\r\nrollbacks the transcation, closes the connection and rethrows the exception."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        _context.WithNewTransaction().Do(() => {\r\n            _context.New<Employee>().With(this, name);\r\n\r\n            throw new Exception(); //Above insert will be rolled back\r\n        });\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        _context.WithNewTransaction().Do(() => {\r\n            _context.New<Employee>().With(this, name);\r\n\r\n            throw new Exception(); //Above insert will be rolled back\r\n        });\r\n    }\r\n    ...\r\n}\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"using-persistent-objects"},"children":[{"type":"text","value":"Using Persistent Objects"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In previous example we used a variable ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":") from outer scope. This is not a\r\nproblem when variables are non-persistent objects such as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"int"}]},{"type":"text","value":", a\r\nmanager object or any "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"struct"}]},{"type":"text","value":" in your modules."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Consider you need to pass a persistent object to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddEmployee"}]},{"type":"text","value":" method."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name, Branch employeeBranch)\r\n    {\r\n        _context.WithNewTransaction().Do(() => {\r\n            //employeeBranch object will cause trouble\r\n            _context.New<Employee>().With(this, name, employeeBranch);\r\n        });\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name, Branch employeeBranch)\r\n    {\r\n        _context.WithNewTransaction().Do(() => {\r\n            //employeeBranch object will cause trouble\r\n            _context.New<Employee>().With(this, name, employeeBranch);\r\n        });\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you pass a persistent object directly to a new transaction context, this\r\nmeans that a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Branch"}]},{"type":"text","value":" instance from outer scope will be assigned to an\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Employee"}]},{"type":"text","value":" instance from inner scope. This causes an unexpected state for\r\nNHibernate. To assign a persistent object to another persistent object, they\r\nneed to be loaded from the same transaction scope and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession"}]},{"type":"text","value":" instance. To\r\nachieve this you need to pass "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Branch"}]},{"type":"text","value":" object with a different way."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name, Branch employeeBranch)\r\n    {\r\n        _context.WithNewTransaction(employeeBranch).Do(eb => {\r\n            //correct way to pass a persistent object to new transaction\r\n            _context.New<Employee>().With(this, name, eb);\r\n        });\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name, Branch employeeBranch)\r\n    {\r\n        _context.WithNewTransaction(employeeBranch).Do(eb => {\r\n            //correct way to pass a persistent object to new transaction\r\n            _context.New<Employee>().With(this, name, eb);\r\n        });\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"employeeBranch"}]},{"type":"text","value":" is passed to new transaction scope using\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.WithNewTransaction(employeeBranch).Do(eb => { ... })"}]},{"type":"text","value":". When you do\r\nthis, Gazel gets the id of given "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"employeeBranch"}]},{"type":"text","value":", loads it in new transaction\r\nscope and passes it as a parameter ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"eb"}]},{"type":"text","value":")."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can pass up to "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"15"}]},{"type":"text","value":" parameters to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"text","value":" method."}]}]},{"type":"element","tag":"h2","props":{"id":"nested-transactions"},"children":[{"type":"text","value":"Nested Transactions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can create as many nested transactions as you want like below;"}]},{"type":"element","tag":"code","props":{"code":"//this level uses main transaction\r\n\r\n_context.WithNewTransaction().Do(() => {\r\n    //this level uses first transaction\r\n\r\n    _context.WithNewTransaction().Do(() => {\r\n        //this level uses second transaction\r\n\r\n        _context.WithNewTransaction().Do(() => {\r\n            //this level uses third transaction\r\n        });\r\n    });\r\n});\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"//this level uses main transaction\r\n\r\n_context.WithNewTransaction().Do(() => {\r\n    //this level uses first transaction\r\n\r\n    _context.WithNewTransaction().Do(() => {\r\n        //this level uses second transaction\r\n\r\n        _context.WithNewTransaction().Do(() => {\r\n            //this level uses third transaction\r\n        });\r\n    });\r\n});\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you create nested transactions, beware that you are using more than one\r\ndatabase connections at a time."}]}]},{"type":"element","tag":"h2","props":{"id":"example-update-balance-of-an-account"},"children":[{"type":"text","value":"Example: Update Balance of an Account"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below is an example to demonstrate an update to a balance in an account."}]},{"type":"element","tag":"code","props":{"code":"public class Account\r\n{\r\n    ...\r\n    public virtual void Withdraw(Money amount)\r\n    {\r\n        _context.WithNewTransaction(this).Do(@this => {\r\n            @this.Balance -= amount;\r\n        });\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Account\r\n{\r\n    ...\r\n    public virtual void Withdraw(Money amount)\r\n    {\r\n        _context.WithNewTransaction(this).Do(@this => {\r\n            @this.Balance -= amount;\r\n        });\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to lock a record, you can make use of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRepository<T>.Lock"}]},{"type":"text","value":" method."}]},{"type":"element","tag":"code","props":{"code":"public class Account\r\n{\r\n    ...\r\n    public virtual void Withdraw(Money amount)\r\n    {\r\n        _context.WithNewTransaction(this).Do(@this => {\r\n            //use repository of @this object.\r\n            //\"this._repository\" uses outer scope whereas \"@this._repository\" uses inner scope.\r\n            @this._repository.Lock(@this);\r\n\r\n            @this.Balance -= amount;\r\n        });\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Account\r\n{\r\n    ...\r\n    public virtual void Withdraw(Money amount)\r\n    {\r\n        _context.WithNewTransaction(this).Do(@this => {\r\n            //use repository of @this object.\r\n            //\"this._repository\" uses outer scope whereas \"@this._repository\" uses inner scope.\r\n            @this._repository.Lock(@this);\r\n\r\n            @this.Balance -= amount;\r\n        });\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To make it more readable, lets extract balance operation to another method."}]},{"type":"element","tag":"code","props":{"code":"public class Account\r\n{\r\n    ...\r\n    public virtual void Withdraw(Money amount)\r\n    {\r\n        _context.WithNewTransaction(this).Do(@this => {\r\n            @this.LockAndChangeBalance(amount);\r\n        });\r\n    }\r\n\r\n    private void LockAndChangeBalance(Money amount)\r\n    {\r\n        _repository.Lock(this);\r\n\r\n        Balance -= amount\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Account\r\n{\r\n    ...\r\n    public virtual void Withdraw(Money amount)\r\n    {\r\n        _context.WithNewTransaction(this).Do(@this => {\r\n            @this.LockAndChangeBalance(amount);\r\n        });\r\n    }\r\n\r\n    private void LockAndChangeBalance(Money amount)\r\n    {\r\n        _repository.Lock(this);\r\n\r\n        Balance -= amount\r\n    }\r\n    ...\r\n}\n"}]}]}]}]},"position":6,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"transaction-management"},"children":[{"type":"text","value":"Transaction Management"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Business services always runs in a transaction context. Its either main\r\ntransaction or manually created transactions. In this section you can learn how\r\nwe deal with database transactions."}]},{"type":"element","tag":"h2","props":{"id":"using-main-transaction"},"children":[{"type":"text","value":"Using Main Transaction"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before every service call, Gazel creates a database connection and begins a\r\ntransaction. If there occurs an exception the transaction is automatically\r\nrolled back. If there are no exceptions than transaction is committed."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        _context.New<Employee>().With(this, name);\r\n\r\n        throw new Exception(); //Above insert will be rolled back\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"AddEmployee"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"New"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Employee"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-1006e9"},"children":[{"type":"text","value":"throw"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Exception"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"(); "}]},{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"//Above insert will be rolled back"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"how-to-disable-main-transaction"},"children":[{"type":"text","value":"How to Disable Main Transaction"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to disable this main transaction behaviour, simply put\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[ManualTransaction]"}]},{"type":"text","value":" attribute to the service method. This will prevent a\r\ntransaction to be opened."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    [ManualTransaction]\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        ...\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ["}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"ManualTransaction"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"AddEmployee"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[ManualTransaction]"}]},{"type":"text","value":" you are not allowed to use a persistent\r\nobject as a parameter because there will be no transaction or connection to\r\nfetch that persistent object."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Disabling main transaction can help when you need to make an external or\r\ninternal API call before you make any database operation. Normally, when you\r\nmake an API call, you left a connection and a transaction open and waiting in\r\nan idle state. If your service requires an external call, we suggest you to\r\ndisable main transaction and make your external calls without blocking a\r\nconnection."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Be careful if you implement "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAccount"}]},{"type":"text","value":" interfaces on\r\npersistent classes. You need to check if there is a transaction before\r\naccessing the database. You may use\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.TransactionalFactory.TransactionExists"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.WithTransaction"}]},{"type":"text","value":"\r\nwhen implementing "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession.GetSession"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession.Validate"}]},{"type":"text","value":" and\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAccount.HasAccess"}]},{"type":"text","value":" methods."}]}]},{"type":"element","tag":"code","props":{"code":"public class Price\r\n{\r\n    ...\r\n    [ManualTransaction]\r\n    public virtual async Money Calculate(Money amount)\r\n    {\r\n        // no connection is used until unit converter service responds\r\n        var result = await unitConverterService.Convert(amount, 'USD');\r\n\r\n        // new transaction is used to log conversion into db\r\n        await _context.WithNewTransaction().DoAsync(() => {\r\n            _context.New<PriceLog>().With(amount, result);\r\n        });\r\n        // connection is released again\r\n\r\n        return result;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Price"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ["}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"ManualTransaction"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Money"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Calculate"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Money"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"amount"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"// no connection is used until unit converter service responds"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"result"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"unitConverterService"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Convert"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"amount"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff653"},"children":[{"type":"text","value":"'USD'"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"// new transaction is used to log conversion into db"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"DoAsync"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"(() => {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"New"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"PriceLog"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"amount"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"result"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"// connection is released again"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-1006e9"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"result"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here we used the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"text","value":" method to obtain a new connection and a\r\ntransaction within a service. This feature is explained in detail in the\r\nfollowing section."}]},{"type":"element","tag":"h2","props":{"id":"creating-new-transactions"},"children":[{"type":"text","value":"Creating New Transactions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Most of the time one transaction will be enough for business services. However\r\nthere are cases when you will need a record to be updated or inserted and\r\ncommitted to database."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        _context.WithNewTransaction().Do(() => {\r\n            _context.New<Employee>().With(this, name);\r\n        });\r\n\r\n        throw new Exception(); //Above insert will not be rolled back\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"AddEmployee"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Do"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"(() => {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"New"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Employee"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-1006e9"},"children":[{"type":"text","value":"throw"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Exception"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"(); "}]},{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"//Above insert will not be rolled back"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In above example "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.WithNewTransaction().Do(() => { ... })"}]},{"type":"text","value":" creates a new\r\ndatabase connection and begins a transaction on this new connection to provide\r\nyou with a new transaction context."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When an exception occurs in a transaction scope, Gazel catches the exception,\r\nrollbacks the transcation, closes the connection and rethrows the exception."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name)\r\n    {\r\n        _context.WithNewTransaction().Do(() => {\r\n            _context.New<Employee>().With(this, name);\r\n\r\n            throw new Exception(); //Above insert will be rolled back\r\n        });\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"AddEmployee"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Do"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"(() => {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"New"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Employee"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-1006e9"},"children":[{"type":"text","value":"throw"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Exception"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"(); "}]},{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"//Above insert will be rolled back"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"using-persistent-objects"},"children":[{"type":"text","value":"Using Persistent Objects"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In previous example we used a variable ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":") from outer scope. This is not a\r\nproblem when variables are non-persistent objects such as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"int"}]},{"type":"text","value":", a\r\nmanager object or any "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"struct"}]},{"type":"text","value":" in your modules."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Consider you need to pass a persistent object to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddEmployee"}]},{"type":"text","value":" method."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name, Branch employeeBranch)\r\n    {\r\n        _context.WithNewTransaction().Do(() => {\r\n            //employeeBranch object will cause trouble\r\n            _context.New<Employee>().With(this, name, employeeBranch);\r\n        });\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"AddEmployee"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Branch"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"employeeBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Do"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"(() => {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"//employeeBranch object will cause trouble"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"New"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Employee"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"employeeBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you pass a persistent object directly to a new transaction context, this\r\nmeans that a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Branch"}]},{"type":"text","value":" instance from outer scope will be assigned to an\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Employee"}]},{"type":"text","value":" instance from inner scope. This causes an unexpected state for\r\nNHibernate. To assign a persistent object to another persistent object, they\r\nneed to be loaded from the same transaction scope and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession"}]},{"type":"text","value":" instance. To\r\nachieve this you need to pass "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Branch"}]},{"type":"text","value":" object with a different way."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    ...\r\n    public virtual void AddEmployee(string name, Branch employeeBranch)\r\n    {\r\n        _context.WithNewTransaction(employeeBranch).Do(eb => {\r\n            //correct way to pass a persistent object to new transaction\r\n            _context.New<Employee>().With(this, name, eb);\r\n        });\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"AddEmployee"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Branch"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"employeeBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"employeeBranch"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Do"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"eb"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" => {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"//correct way to pass a persistent object to new transaction"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"New"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Employee"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"eb"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"employeeBranch"}]},{"type":"text","value":" is passed to new transaction scope using\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.WithNewTransaction(employeeBranch).Do(eb => { ... })"}]},{"type":"text","value":". When you do\r\nthis, Gazel gets the id of given "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"employeeBranch"}]},{"type":"text","value":", loads it in new transaction\r\nscope and passes it as a parameter ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"eb"}]},{"type":"text","value":")."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can pass up to "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"15"}]},{"type":"text","value":" parameters to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"text","value":" method."}]}]},{"type":"element","tag":"h2","props":{"id":"nested-transactions"},"children":[{"type":"text","value":"Nested Transactions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can create as many nested transactions as you want like below;"}]},{"type":"element","tag":"code","props":{"code":"//this level uses main transaction\r\n\r\n_context.WithNewTransaction().Do(() => {\r\n    //this level uses first transaction\r\n\r\n    _context.WithNewTransaction().Do(() => {\r\n        //this level uses second transaction\r\n\r\n        _context.WithNewTransaction().Do(() => {\r\n            //this level uses third transaction\r\n        });\r\n    });\r\n});\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"//this level uses main transaction"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Do"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"(() => {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"//this level uses first transaction"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Do"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"(() => {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"//this level uses second transaction"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Do"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"(() => {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"//this level uses third transaction"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"});"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you create nested transactions, beware that you are using more than one\r\ndatabase connections at a time."}]}]},{"type":"element","tag":"h2","props":{"id":"example-update-balance-of-an-account"},"children":[{"type":"text","value":"Example: Update Balance of an Account"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below is an example to demonstrate an update to a balance in an account."}]},{"type":"element","tag":"code","props":{"code":"public class Account\r\n{\r\n    ...\r\n    public virtual void Withdraw(Money amount)\r\n    {\r\n        _context.WithNewTransaction(this).Do(@this => {\r\n            @this.Balance -= amount;\r\n        });\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Account"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Withdraw"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Money"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"amount"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Do"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"@this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" => {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"@this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"Balance"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" -= "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"amount"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to lock a record, you can make use of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRepository<T>.Lock"}]},{"type":"text","value":" method."}]},{"type":"element","tag":"code","props":{"code":"public class Account\r\n{\r\n    ...\r\n    public virtual void Withdraw(Money amount)\r\n    {\r\n        _context.WithNewTransaction(this).Do(@this => {\r\n            //use repository of @this object.\r\n            //\"this._repository\" uses outer scope whereas \"@this._repository\" uses inner scope.\r\n            @this._repository.Lock(@this);\r\n\r\n            @this.Balance -= amount;\r\n        });\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Account"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Withdraw"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Money"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"amount"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Do"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"@this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" => {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"//use repository of @this object."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-e65124"},"children":[{"type":"text","value":"//\"this._repository\" uses outer scope whereas \"@this._repository\" uses inner scope."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"@this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Lock"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"@this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"@this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"Balance"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" -= "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"amount"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To make it more readable, lets extract balance operation to another method."}]},{"type":"element","tag":"code","props":{"code":"public class Account\r\n{\r\n    ...\r\n    public virtual void Withdraw(Money amount)\r\n    {\r\n        _context.WithNewTransaction(this).Do(@this => {\r\n            @this.LockAndChangeBalance(amount);\r\n        });\r\n    }\r\n\r\n    private void LockAndChangeBalance(Money amount)\r\n    {\r\n        _repository.Lock(this);\r\n\r\n        Balance -= amount\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Account"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Withdraw"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Money"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"amount"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"WithNewTransaction"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Do"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"@this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" => {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"@this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"LockAndChangeBalance"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"amount"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"LockAndChangeBalance"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a76f0b"},"children":[{"type":"text","value":"Money"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"amount"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-669cda"},"children":[{"type":"text","value":"Lock"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ef45e8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"Balance"}]},{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":" -= "}]},{"type":"element","tag":"span","props":{"class":"ct-a39b00"},"children":[{"type":"text","value":"amount"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a4a5b9"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-4ff653{color:#CE9178}\n.ct-e65124{color:#6A9955}\n.ct-1006e9{color:#C586C0}\n.ct-a39b00{color:#9CDCFE}\n.ct-669cda{color:#DCDCAA}\n.ct-a76f0b{color:#4EC9B0}\n.ct-a4a5b9{color:#D4D4D4}\n.ct-ef45e8{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"using-main-transaction","depth":2,"text":"Using Main Transaction","children":[{"id":"how-to-disable-main-transaction","depth":3,"text":"How to Disable Main Transaction"}]},{"id":"creating-new-transactions","depth":2,"text":"Creating New Transactions","children":[{"id":"using-persistent-objects","depth":3,"text":"Using Persistent Objects"}]},{"id":"nested-transactions","depth":2,"text":"Nested Transactions"},{"id":"example-update-balance-of-an-account","depth":2,"text":"Example: Update Balance of an Account"}]}},"_type":"markdown","_id":"content:conventions:transaction-management.md","_source":"content","_file":"conventions/transaction-management.md","_extension":"md"},{"_path":"/conventions/exception-handling","_dir":"conventions","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Exception Handling","description":"Gazel uses .NET exceptions to handle errors in your business code. For every\r\nerror message there should be a corresponding exception class.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"exception-handling"},"children":[{"type":"text","value":"Exception Handling"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel uses .NET exceptions to handle errors in your business code. For every\r\nerror message there should be a corresponding exception class."}]},{"type":"element","tag":"h2","props":{"id":"writing-an-exception"},"children":[{"type":"text","value":"Writing an Exception"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create a parent static class for each group of your exceptions and define all\r\nrelated exceptions under this class as a nested class."}]},{"type":"element","tag":"code","props":{"code":"using static MyProduct.ResultCodes;\r\n\r\nnamespace MyProduct;\r\n\r\npublic static class CommonExceptions\r\n{\r\n    public class NameShouldBeUnique : ServiceException\r\n    {\r\n        public NameShouldBeUnique() : base(Common.Err(0)) { }\r\n    }\r\n\r\n    public class ValueIsRequired : ServiceException\r\n    {\r\n        public ValueIsRequired() : base(Common.Err(1)) { }\r\n    }\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"using static MyProduct.ResultCodes;\r\n\r\nnamespace MyProduct;\r\n\r\npublic static class CommonExceptions\r\n{\r\n    public class NameShouldBeUnique : ServiceException\r\n    {\r\n        public NameShouldBeUnique() : base(Common.Err(0)) { }\r\n    }\r\n\r\n    public class ValueIsRequired : ServiceException\r\n    {\r\n        public ValueIsRequired() : base(Common.Err(1)) { }\r\n    }\r\n}\r\n\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exceptions should inherit from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" to be treated as handled\r\nerrors. Handled errors are HTTP status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"4XX"}]},{"type":"text","value":" in REST API and they are logged\r\nin "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WARN"}]},{"type":"text","value":" level."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All other exceptions are treated as unhandled errors with code "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"99999"}]},{"type":"text","value":",\r\nlogged in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ERROR"}]},{"type":"text","value":" level and HTTP status is always "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"500"}]},{"type":"text","value":" in REST API."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ResultCodes"}]},{"type":"text","value":" is a class that generates error codes, but we will mention this\r\nlater in this section. You can find a detailed description in "},{"type":"element","tag":"a","props":{"href":"/features#exception-handling"},"children":[{"type":"text","value":"Features /\r\nException Handling"}]}]}]},{"type":"element","tag":"h2","props":{"id":"throwing-an-exception"},"children":[{"type":"text","value":"Throwing an Exception"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To throw an exception you can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"using static"}]},{"type":"text","value":" directive to include\r\nexceptions class, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MyProduct.CommonExceptions"}]},{"type":"text","value":" in this case;"}]},{"type":"element","tag":"code","props":{"code":"using static MyProduct.CommonExceptions;\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"using static MyProduct.CommonExceptions;\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And then just throw the exception like any other .NET exception;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class Company\r\n{\r\n    ...\r\n    protected internal Company With(string name)\r\n    {\r\n        if(_context.Query<Companies>().AnyByName(name))\r\n        {\r\n            throw new NameShouldBeUnique();\r\n        }\r\n\r\n        ...\r\n    }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic class Company\r\n{\r\n    ...\r\n    protected internal Company With(string name)\r\n    {\r\n        if(_context.Query<Companies>().AnyByName(name))\r\n        {\r\n            throw new NameShouldBeUnique();\r\n        }\r\n\r\n        ...\r\n    }\r\n    ...\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"result-codes"},"children":[{"type":"text","value":"Result Codes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above mentioned "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ResultCodes"}]},{"type":"text","value":" is a class where you organize your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"warning"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"info"}]},{"type":"text","value":" codes as named code blocks;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class ResultCodes : ResultCodeBlocks\r\n{\r\n    public static readonly ResultCodeBlock Common = CreateBlock(1, \"Common\");\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic class ResultCodes : ResultCodeBlocks\r\n{\r\n    public static readonly ResultCodeBlock Common = CreateBlock(1, \"Common\");\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You will use this class potentially from every business module, so it's\r\nbetter for this to be included in the most base business module."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every code block reserves "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"700"}]},{"type":"text","value":" error codes, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"100"}]},{"type":"text","value":" warning codes and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"100"}]},{"type":"text","value":" info\r\ncodes. In the previous example we've seen "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Common.Err(0)"}]},{"type":"text","value":", this means that\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NameShouldBeUnique"}]},{"type":"text","value":" error should have the first error code in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Common"}]},{"type":"text","value":" code\r\nblock."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic NameShouldBeUnique() : base(Common.Err(0)) { } // First error of 'Common' code block\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic NameShouldBeUnique() : base(Common.Err(0)) { } // First error of 'Common' code block\r\n...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here, we've started with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Common.Err(0)"}]},{"type":"text","value":" and can go up to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Common.Err(699)"}]},{"type":"text","value":"\r\nusing "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Common"}]},{"type":"text","value":" code block."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may create a code block for every business module, so that error codes\r\nare grouped according to their business domain."}]}]},{"type":"element","tag":"h2","props":{"id":"parameterized-exceptions"},"children":[{"type":"text","value":"Parameterized Exceptions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can accept parameters in your exception classes;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class NameShouldBeUnique : ServiceException\r\n{\r\n    public NameShouldBeUnique(string name) : base(Common.Err(0), name) { }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic class NameShouldBeUnique : ServiceException\r\n{\r\n    public NameShouldBeUnique(string name) : base(Common.Err(0), name) { }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Last parameter of base constructor accepts "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"params object[] parameters"}]},{"type":"text","value":" so that\r\nyou can add as many parameters as you want. This parameters are used in\r\nbuilding the exception message that is included in the response."}]},{"type":"element","tag":"h3","props":{"id":"localizing-messages"},"children":[{"type":"text","value":"Localizing Messages"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Error messages will be asked to localization with a key that is unique to each\r\nresult code. For example, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NameShouldBeUnique"}]},{"type":"text","value":" exception will have "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ERR-20701"}]},{"type":"text","value":"\r\nerror code."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To include parameters in messages, you can use a format string as your message\r\nsuch as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"'{0}' already exists, name should be unique"}]},{"type":"text","value":". First parameter will\r\nreplace "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{0}"}]},{"type":"text","value":", second parameter will replace "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{1}"}]},{"type":"text","value":", and so on."}]}]},"position":7,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"exception-handling"},"children":[{"type":"text","value":"Exception Handling"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel uses .NET exceptions to handle errors in your business code. For every\r\nerror message there should be a corresponding exception class."}]},{"type":"element","tag":"h2","props":{"id":"writing-an-exception"},"children":[{"type":"text","value":"Writing an Exception"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create a parent static class for each group of your exceptions and define all\r\nrelated exceptions under this class as a nested class."}]},{"type":"element","tag":"code","props":{"code":"using static MyProduct.ResultCodes;\r\n\r\nnamespace MyProduct;\r\n\r\npublic static class CommonExceptions\r\n{\r\n    public class NameShouldBeUnique : ServiceException\r\n    {\r\n        public NameShouldBeUnique() : base(Common.Err(0)) { }\r\n    }\r\n\r\n    public class ValueIsRequired : ServiceException\r\n    {\r\n        public ValueIsRequired() : base(Common.Err(1)) { }\r\n    }\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e52e68"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"MyProduct"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"ResultCodes"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"namespace"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"MyProduct"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"CommonExceptions"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"NameShouldBeUnique"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"ServiceException"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-277c66"},"children":[{"type":"text","value":"NameShouldBeUnique"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"() : "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c076ea"},"children":[{"type":"text","value":"Common"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-277c66"},"children":[{"type":"text","value":"Err"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-88e390"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":")) { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"ValueIsRequired"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"ServiceException"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-277c66"},"children":[{"type":"text","value":"ValueIsRequired"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"() : "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c076ea"},"children":[{"type":"text","value":"Common"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-277c66"},"children":[{"type":"text","value":"Err"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-88e390"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":")) { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exceptions should inherit from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" to be treated as handled\r\nerrors. Handled errors are HTTP status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"4XX"}]},{"type":"text","value":" in REST API and they are logged\r\nin "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WARN"}]},{"type":"text","value":" level."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All other exceptions are treated as unhandled errors with code "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"99999"}]},{"type":"text","value":",\r\nlogged in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ERROR"}]},{"type":"text","value":" level and HTTP status is always "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"500"}]},{"type":"text","value":" in REST API."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ResultCodes"}]},{"type":"text","value":" is a class that generates error codes, but we will mention this\r\nlater in this section. You can find a detailed description in "},{"type":"element","tag":"a","props":{"href":"/features#exception-handling"},"children":[{"type":"text","value":"Features /\r\nException Handling"}]}]}]},{"type":"element","tag":"h2","props":{"id":"throwing-an-exception"},"children":[{"type":"text","value":"Throwing an Exception"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To throw an exception you can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"using static"}]},{"type":"text","value":" directive to include\r\nexceptions class, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MyProduct.CommonExceptions"}]},{"type":"text","value":" in this case;"}]},{"type":"element","tag":"code","props":{"code":"using static MyProduct.CommonExceptions;\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e52e68"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"MyProduct"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"CommonExceptions"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":";"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And then just throw the exception like any other .NET exception;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class Company\r\n{\r\n    ...\r\n    protected internal Company With(string name)\r\n    {\r\n        if(_context.Query<Companies>().AnyByName(name))\r\n        {\r\n            throw new NameShouldBeUnique();\r\n        }\r\n\r\n        ...\r\n    }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-277c66"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c076ea"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-e52e68"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c076ea"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-277c66"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"Companies"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-277c66"},"children":[{"type":"text","value":"AnyByName"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c076ea"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"))"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"        {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-e52e68"},"children":[{"type":"text","value":"throw"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"NameShouldBeUnique"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"        ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"result-codes"},"children":[{"type":"text","value":"Result Codes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above mentioned "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ResultCodes"}]},{"type":"text","value":" is a class where you organize your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"warning"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"info"}]},{"type":"text","value":" codes as named code blocks;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class ResultCodes : ResultCodeBlocks\r\n{\r\n    public static readonly ResultCodeBlock Common = CreateBlock(1, \"Common\");\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"ResultCodes"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"ResultCodeBlocks"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"ResultCodeBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c076ea"},"children":[{"type":"text","value":"Common"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-277c66"},"children":[{"type":"text","value":"CreateBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-88e390"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-0a4d4c"},"children":[{"type":"text","value":"\"Common\""}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You will use this class potentially from every business module, so it's\r\nbetter for this to be included in the most base business module."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every code block reserves "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"700"}]},{"type":"text","value":" error codes, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"100"}]},{"type":"text","value":" warning codes and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"100"}]},{"type":"text","value":" info\r\ncodes. In the previous example we've seen "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Common.Err(0)"}]},{"type":"text","value":", this means that\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NameShouldBeUnique"}]},{"type":"text","value":" error should have the first error code in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Common"}]},{"type":"text","value":" code\r\nblock."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic NameShouldBeUnique() : base(Common.Err(0)) { } // First error of 'Common' code block\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-277c66"},"children":[{"type":"text","value":"NameShouldBeUnique"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"() : "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c076ea"},"children":[{"type":"text","value":"Common"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-277c66"},"children":[{"type":"text","value":"Err"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-88e390"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":")) { } "}]},{"type":"element","tag":"span","props":{"class":"ct-a750ca"},"children":[{"type":"text","value":"// First error of 'Common' code block"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here, we've started with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Common.Err(0)"}]},{"type":"text","value":" and can go up to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Common.Err(699)"}]},{"type":"text","value":"\r\nusing "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Common"}]},{"type":"text","value":" code block."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may create a code block for every business module, so that error codes\r\nare grouped according to their business domain."}]}]},{"type":"element","tag":"h2","props":{"id":"parameterized-exceptions"},"children":[{"type":"text","value":"Parameterized Exceptions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can accept parameters in your exception classes;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class NameShouldBeUnique : ServiceException\r\n{\r\n    public NameShouldBeUnique(string name) : base(Common.Err(0), name) { }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"NameShouldBeUnique"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-974cce"},"children":[{"type":"text","value":"ServiceException"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-277c66"},"children":[{"type":"text","value":"NameShouldBeUnique"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c076ea"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":") : "}]},{"type":"element","tag":"span","props":{"class":"ct-818d46"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c076ea"},"children":[{"type":"text","value":"Common"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-277c66"},"children":[{"type":"text","value":"Err"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-88e390"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"), "}]},{"type":"element","tag":"span","props":{"class":"ct-c076ea"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":") { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-36af2c"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Last parameter of base constructor accepts "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"params object[] parameters"}]},{"type":"text","value":" so that\r\nyou can add as many parameters as you want. This parameters are used in\r\nbuilding the exception message that is included in the response."}]},{"type":"element","tag":"h3","props":{"id":"localizing-messages"},"children":[{"type":"text","value":"Localizing Messages"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Error messages will be asked to localization with a key that is unique to each\r\nresult code. For example, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NameShouldBeUnique"}]},{"type":"text","value":" exception will have "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ERR-20701"}]},{"type":"text","value":"\r\nerror code."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To include parameters in messages, you can use a format string as your message\r\nsuch as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"'{0}' already exists, name should be unique"}]},{"type":"text","value":". First parameter will\r\nreplace "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{0}"}]},{"type":"text","value":", second parameter will replace "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{1}"}]},{"type":"text","value":", and so on."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-a750ca{color:#6A9955}\n.ct-0a4d4c{color:#CE9178}\n.ct-88e390{color:#B5CEA8}\n.ct-c076ea{color:#9CDCFE}\n.ct-277c66{color:#DCDCAA}\n.ct-974cce{color:#4EC9B0}\n.ct-818d46{color:#569CD6}\n.ct-36af2c{color:#D4D4D4}\n.ct-e52e68{color:#C586C0}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"writing-an-exception","depth":2,"text":"Writing an Exception"},{"id":"throwing-an-exception","depth":2,"text":"Throwing an Exception"},{"id":"result-codes","depth":2,"text":"Result Codes"},{"id":"parameterized-exceptions","depth":2,"text":"Parameterized Exceptions","children":[{"id":"localizing-messages","depth":3,"text":"Localizing Messages"}]}]}},"_type":"markdown","_id":"content:conventions:exception-handling.md","_source":"content","_file":"conventions/exception-handling.md","_extension":"md"}]