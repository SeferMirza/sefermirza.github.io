[{"_path":"/tutorial/hello-world","_dir":"tutorial","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Hello World","description":"In this tutorial, you will create a hello world service to have a quick feeling\r\non how Gazel works.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"hello-world"},"children":[{"type":"text","value":"Hello World"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial, you will create a hello world service to have a quick feeling\r\non how Gazel works."}]},{"type":"element","tag":"h2","props":{"id":"create-a-hello-world-service"},"children":[{"type":"text","value":"Create a Hello World Service"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a new business service, create a class named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" in\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv.Sample.Module.Todo"}]},{"type":"text","value":" project."}]},{"type":"element","tag":"code","props":{"code":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       └── TodoManager.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       └── TodoManager.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now add a new method called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SayHello"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" class as shown below."}]},{"type":"element","tag":"code","props":{"code":"namespace Inventiv.Sample.Module.Todo;\r\n\r\npublic class TodoManager\r\n{\r\n    public string SayHello()\r\n    {\r\n        return \"Hello World\";\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"namespace Inventiv.Sample.Module.Todo;\r\n\r\npublic class TodoManager\r\n{\r\n    public string SayHello()\r\n    {\r\n        return \"Hello World\";\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" instance methods of classes within "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"module"}]},{"type":"text","value":" projects are directly\r\nexposed as business "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"services"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv.Sample.App.Service"}]},{"type":"text","value":" project, and you will see a test page to\r\nbe able to test your services."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"On the left you will see that Gazel has rendered your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Todo"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"module"}]},{"type":"text","value":" and\r\nlisted "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" class as a "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"service package"}]},{"type":"text","value":", and under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Todo Manager"}]},{"type":"text","value":" it\r\nlists your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SayHello"}]},{"type":"text","value":" method as a "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"business service"}]},{"type":"text","value":". Click "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Say Hello"}]},{"type":"text","value":" and\r\npress "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Call"}]},{"type":"text","value":" button to make a test service request. When you do, you will see a\r\nresponse saying "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Hello World"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/tutorial/-images/hello-world-service.png"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"writing-a-unit-test"},"children":[{"type":"text","value":"Writing a Unit Test"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that you have implemented the most basic business service, it is time to\r\ntest it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create a class named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoTest"}]},{"type":"text","value":" in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv.Sample.Test.Todo"}]},{"type":"text","value":" project."}]},{"type":"element","tag":"code","props":{"code":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       └── TodoManager.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\r\n        └── TodoTest.cs\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       └── TodoManager.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\r\n        └── TodoTest.cs\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Write below code within this class;"}]},{"type":"element","tag":"code","props":{"code":"using Gazel;\r\nusing Gazel.UnitTesting;\r\nusing Inventiv.Sample.Module.Todo;\r\n\r\nnamespace Inventiv.Sample.Test.Todo;\r\n\r\n[TestFixture]\r\npublic class TodoTest : TestBase\r\n{\r\n    static TodoTest()\r\n    {\r\n        Config.RootNamespace = \"Inventiv\";\r\n    }\r\n\r\n    [Test]\r\n    public void SayHello__says_hello()\r\n    {\r\n        var todoManager = Context.Get<TodoManager>();\r\n\r\n        Assert.AreEqual(\"Hello World\", todoManager.SayHello());\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"using Gazel;\r\nusing Gazel.UnitTesting;\r\nusing Inventiv.Sample.Module.Todo;\r\n\r\nnamespace Inventiv.Sample.Test.Todo;\r\n\r\n[TestFixture]\r\npublic class TodoTest : TestBase\r\n{\r\n    static TodoTest()\r\n    {\r\n        Config.RootNamespace = \"Inventiv\";\r\n    }\r\n\r\n    [Test]\r\n    public void SayHello__says_hello()\r\n    {\r\n        var todoManager = Context.Get<TodoManager>();\r\n\r\n        Assert.AreEqual(\"Hello World\", todoManager.SayHello());\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Context"}]},{"type":"text","value":" property comes from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TestBase"}]},{"type":"text","value":" which allows you to access IoC\r\ncontainer. Manager classes are singleton by convention, so you can access to\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" instance by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Context.Get<TodoManager>()"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"That's it. Now you can run this test to see if it succeeds."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel uses NUnit for unit testing. For more information about NUnit see:\r\n"},{"type":"element","tag":"a","props":{"href":"https://docs.nunit.org","rel":["nofollow"]},"children":[{"type":"text","value":"NUnit Documentation"}]}]}]},{"type":"element","tag":"h2","props":{"id":"summary"},"children":[{"type":"text","value":"Summary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you can see no configuration is needed to create a new service. Once you've\r\ncreated your solution and projects, every public class in "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"module"}]},{"type":"text","value":" projects\r\nbecomes a service package and every public method becomes a service by\r\nconvention."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now try to add new methods or add parameters, re-run and see the results."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you are ready, you can proceed to create your first database operation\r\nusing Gazel."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can download "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/hello-world","rel":["nofollow"]},"children":[{"type":"text","value":"source code for this tutorial"}]},{"type":"text","value":"."}]}]},"position":1,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"hello-world"},"children":[{"type":"text","value":"Hello World"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial, you will create a hello world service to have a quick feeling\r\non how Gazel works."}]},{"type":"element","tag":"h2","props":{"id":"create-a-hello-world-service"},"children":[{"type":"text","value":"Create a Hello World Service"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a new business service, create a class named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" in\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv.Sample.Module.Todo"}]},{"type":"text","value":" project."}]},{"type":"element","tag":"code","props":{"code":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       └── TodoManager.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       └── TodoManager.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now add a new method called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SayHello"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" class as shown below."}]},{"type":"element","tag":"code","props":{"code":"namespace Inventiv.Sample.Module.Todo;\r\n\r\npublic class TodoManager\r\n{\r\n    public string SayHello()\r\n    {\r\n        return \"Hello World\";\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-81ebd7"},"children":[{"type":"text","value":"namespace"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Inventiv"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Sample"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Module"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Todo"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-81ebd7"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-81ebd7"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"TodoManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-81ebd7"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-81ebd7"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e589e3"},"children":[{"type":"text","value":"SayHello"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-2f1fcd"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-763b4b"},"children":[{"type":"text","value":"\"Hello World\""}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" instance methods of classes within "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"module"}]},{"type":"text","value":" projects are directly\r\nexposed as business "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"services"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv.Sample.App.Service"}]},{"type":"text","value":" project, and you will see a test page to\r\nbe able to test your services."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"On the left you will see that Gazel has rendered your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Todo"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"module"}]},{"type":"text","value":" and\r\nlisted "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" class as a "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"service package"}]},{"type":"text","value":", and under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Todo Manager"}]},{"type":"text","value":" it\r\nlists your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SayHello"}]},{"type":"text","value":" method as a "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"business service"}]},{"type":"text","value":". Click "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Say Hello"}]},{"type":"text","value":" and\r\npress "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Call"}]},{"type":"text","value":" button to make a test service request. When you do, you will see a\r\nresponse saying "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Hello World"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/tutorial/-images/hello-world-service.png"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"writing-a-unit-test"},"children":[{"type":"text","value":"Writing a Unit Test"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that you have implemented the most basic business service, it is time to\r\ntest it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create a class named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoTest"}]},{"type":"text","value":" in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv.Sample.Test.Todo"}]},{"type":"text","value":" project."}]},{"type":"element","tag":"code","props":{"code":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       └── TodoManager.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\r\n        └── TodoTest.cs\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       └── TodoManager.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\r\n        └── TodoTest.cs"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Write below code within this class;"}]},{"type":"element","tag":"code","props":{"code":"using Gazel;\r\nusing Gazel.UnitTesting;\r\nusing Inventiv.Sample.Module.Todo;\r\n\r\nnamespace Inventiv.Sample.Test.Todo;\r\n\r\n[TestFixture]\r\npublic class TodoTest : TestBase\r\n{\r\n    static TodoTest()\r\n    {\r\n        Config.RootNamespace = \"Inventiv\";\r\n    }\r\n\r\n    [Test]\r\n    public void SayHello__says_hello()\r\n    {\r\n        var todoManager = Context.Get<TodoManager>();\r\n\r\n        Assert.AreEqual(\"Hello World\", todoManager.SayHello());\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2f1fcd"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Gazel"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2f1fcd"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Gazel"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"UnitTesting"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2f1fcd"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Inventiv"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Sample"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Module"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Todo"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-81ebd7"},"children":[{"type":"text","value":"namespace"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Inventiv"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Sample"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Test"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Todo"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"TestFixture"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-81ebd7"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-81ebd7"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"TodoTest"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"TestBase"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-81ebd7"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e589e3"},"children":[{"type":"text","value":"TodoTest"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-01c1fe"},"children":[{"type":"text","value":"Config"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-01c1fe"},"children":[{"type":"text","value":"RootNamespace"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-763b4b"},"children":[{"type":"text","value":"\"Inventiv\""}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"    ["}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"Test"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-81ebd7"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-81ebd7"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e589e3"},"children":[{"type":"text","value":"SayHello__says_hello"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-81ebd7"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-01c1fe"},"children":[{"type":"text","value":"todoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-01c1fe"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e589e3"},"children":[{"type":"text","value":"Get"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-770439"},"children":[{"type":"text","value":"TodoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":">();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-01c1fe"},"children":[{"type":"text","value":"Assert"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e589e3"},"children":[{"type":"text","value":"AreEqual"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-763b4b"},"children":[{"type":"text","value":"\"Hello World\""}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-01c1fe"},"children":[{"type":"text","value":"todoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e589e3"},"children":[{"type":"text","value":"SayHello"}]},{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"());"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-48e101"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Context"}]},{"type":"text","value":" property comes from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TestBase"}]},{"type":"text","value":" which allows you to access IoC\r\ncontainer. Manager classes are singleton by convention, so you can access to\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" instance by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Context.Get<TodoManager>()"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"That's it. Now you can run this test to see if it succeeds."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel uses NUnit for unit testing. For more information about NUnit see:\r\n"},{"type":"element","tag":"a","props":{"href":"https://docs.nunit.org","rel":["nofollow"]},"children":[{"type":"text","value":"NUnit Documentation"}]}]}]},{"type":"element","tag":"h2","props":{"id":"summary"},"children":[{"type":"text","value":"Summary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you can see no configuration is needed to create a new service. Once you've\r\ncreated your solution and projects, every public class in "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"module"}]},{"type":"text","value":" projects\r\nbecomes a service package and every public method becomes a service by\r\nconvention."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now try to add new methods or add parameters, re-run and see the results."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you are ready, you can proceed to create your first database operation\r\nusing Gazel."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can download "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/hello-world","rel":["nofollow"]},"children":[{"type":"text","value":"source code for this tutorial"}]},{"type":"text","value":"."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-01c1fe{color:#9CDCFE}\n.ct-763b4b{color:#CE9178}\n.ct-2f1fcd{color:#C586C0}\n.ct-e589e3{color:#DCDCAA}\n.ct-770439{color:#4EC9B0}\n.ct-48e101{color:#D4D4D4}\n.ct-81ebd7{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"create-a-hello-world-service","depth":2,"text":"Create a Hello World Service"},{"id":"writing-a-unit-test","depth":2,"text":"Writing a Unit Test"},{"id":"summary","depth":2,"text":"Summary"}]}},"_type":"markdown","_id":"content:tutorial:hello-world.md","_source":"content","_file":"tutorial/hello-world.md","_extension":"md"},{"_path":"/tutorial/persistent-classes","_dir":"tutorial","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Persistent Classes","description":"In this tutorial, you will create a persistent class and make your first\r\ndatabase operation using Gazel.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"persistent-classes"},"children":[{"type":"text","value":"Persistent Classes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial, you will create a persistent class and make your first\r\ndatabase operation using Gazel."}]},{"type":"element","tag":"h2","props":{"id":"create-a-persistent-class"},"children":[{"type":"text","value":"Create A Persistent Class"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Database operations are done using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Persistent"}]},{"type":"text","value":" objects."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An object is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Persistent"}]},{"type":"text","value":" if its class injects its own repository. For more\r\ninformation see: "},{"type":"element","tag":"a","props":{"href":"/features#data-persistence"},"children":[{"type":"text","value":"Data Persistence"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create a new class named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Todo"}]},{"type":"text","value":" module."}]},{"type":"element","tag":"code","props":{"code":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       ├── TodoManager.cs\r\n│       └── TaskCard.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\r\n        └── TodoTest.cs\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       ├── TodoManager.cs\r\n│       └── TaskCard.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\r\n        └── TodoTest.cs\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add following code to your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" source file."}]},{"type":"element","tag":"code","props":{"code":"using Gazel;\r\nusing Gazel.DataAccess;\r\n\r\nnamespace Inventiv.Sample.Module.Todo;\r\n\r\npublic class TaskCard\r\n{\r\n    private readonly IRepository<TaskCard> _repository = default!;\r\n\r\n    protected TaskCard() { }\r\n    public TaskCard(IRepository<TaskCard> repository)\r\n    {\r\n        _repository = repository;\r\n    }\r\n}\r\n\r\npublic class TaskCards : Query<TaskCard>\r\n{\r\n    public TaskCards(IModuleContext context) : base(context) { }\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"using Gazel;\r\nusing Gazel.DataAccess;\r\n\r\nnamespace Inventiv.Sample.Module.Todo;\r\n\r\npublic class TaskCard\r\n{\r\n    private readonly IRepository<TaskCard> _repository = default!;\r\n\r\n    protected TaskCard() { }\r\n    public TaskCard(IRepository<TaskCard> repository)\r\n    {\r\n        _repository = repository;\r\n    }\r\n}\r\n\r\npublic class TaskCards : Query<TaskCard>\r\n{\r\n    public TaskCards(IModuleContext context) : base(context) { }\r\n}\r\n\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" object will represent one row in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" table."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCards"}]},{"type":"text","value":" class is registered to IoC as a singleton by convention and it\r\nwill consist of queries to that table. In this tutorial you will not write\r\nany queries. Leave this class empty for now."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class, by injecting its own repository, indicates that its a\r\npersistent class."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that both classes are subject to dependency injection."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected TaskCard() { }"}]},{"type":"text","value":" constructor is there for NHibernate to create\r\nproxies for lazy loading."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now you can add properties to your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class as shown below;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCard\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string? Name { get; protected set; }\r\n    public virtual bool Completed { get; protected set; }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic class TaskCard\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string? Name { get; protected set; }\r\n    public virtual bool Completed { get; protected set; }\r\n    ...\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First property is mandatory for all persistent classes. Gazel requires an\r\ninteger Id column for every table."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The reason for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" setters is to implement domain logic inside\r\npersistent classes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"virtual"}]},{"type":"text","value":" keywords are there for NHibernate to create proxies for lazy\r\nloading."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These properties are automatically mapped to columns of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" table in\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"gazel.tutorial.db"}]},{"type":"text","value":" database."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that you don't have to create tables and columns in your SQLite\r\ndatabase.  When in local development mode, Gazel configures NHibernate's\r\nSQLite connection to automatically create database schema."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now add following method to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCard\r\n{\r\n    ...\r\n    protected internal virtual TaskCard With(string? name)\r\n    {\r\n        Name = name;\r\n        Completed = false;\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic class TaskCard\r\n{\r\n    ...\r\n    protected internal virtual TaskCard With(string? name)\r\n    {\r\n        Name = name;\r\n        Completed = false;\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n    ...\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For persistent classes construction is in two steps. First step is the actual\r\nconstructor, and second step is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"With"}]},{"type":"text","value":" methods which takes instance arguments\r\nand inserts a row to database via "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_repository"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Go to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" class in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Todo"}]},{"type":"text","value":" module and modify its content with the\r\nfollowing code;"}]},{"type":"element","tag":"code","props":{"code":"using Gazel;\r\n\r\nnamespace Inventiv.Sample.Module.Todo;\r\n\r\npublic class TodoManager\r\n{\r\n    private readonly IModuleContext _context;\r\n\r\n    public TodoManager(IModuleContext context)\r\n    {\r\n        _context = context;\r\n    }\r\n\r\n    public TaskCard CreateTaskCard(string? name)\r\n    {\r\n        return _context.New<TaskCard>().With(name);\r\n    }\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"using Gazel;\r\n\r\nnamespace Inventiv.Sample.Module.Todo;\r\n\r\npublic class TodoManager\r\n{\r\n    private readonly IModuleContext _context;\r\n\r\n    public TodoManager(IModuleContext context)\r\n    {\r\n        _context = context;\r\n    }\r\n\r\n    public TaskCard CreateTaskCard(string? name)\r\n    {\r\n        return _context.New<TaskCard>().With(name);\r\n    }\r\n}\r\n\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You've created a business service named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"text","value":" that inserts a new\r\ntask card record with the given name. As mentioned above, construction is done\r\nin two steps;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The first one is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.New<TaskCard>()"}]},{"type":"text","value":" which initiates a new "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":"\r\nobject using IoC container,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"And the second one is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".With(name)"}]},{"type":"text","value":" which inserts a new record using its own\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_repository"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So together you read this as \""},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"new task card with name"}]},{"type":"text","value":"\"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" project to see your new service "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Create Task Card"}]},{"type":"text","value":" and\r\ncreate task cards using it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/tutorial/-images/create-task-card.png"},"children":[]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that Id's are assigned from database. This is the default mapping\r\nconfiguration Gazel applies to NHibernate."}]}]},{"type":"element","tag":"h2","props":{"id":"testing-persistent-objects"},"children":[{"type":"text","value":"Testing Persistent Objects"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Go to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoTest"}]},{"type":"text","value":" class in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Test.Todo"}]},{"type":"text","value":" add following test case;"}]},{"type":"element","tag":"code","props":{"code":"...\r\n[TestFixture]\r\npublic class TodoTest : TestBase\r\n{\r\n    ...\r\n    [Test]\r\n    public void CreateTaskCard__creates_a_task_card_using_given_name()\r\n    {\r\n        var todoManager = Context.Get<TodoManager>();\r\n\r\n        BeginTest();\r\n\r\n        var actual = todoManager.CreateTaskCard(\"Write Tests\");\r\n\r\n        Verify.ObjectIsPersisted(actual);\r\n        Assert.AreEqual(\"Write Tests\", actual.Name);\r\n    }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\n[TestFixture]\r\npublic class TodoTest : TestBase\r\n{\r\n    ...\r\n    [Test]\r\n    public void CreateTaskCard__creates_a_task_card_using_given_name()\r\n    {\r\n        var todoManager = Context.Get<TodoManager>();\r\n\r\n        BeginTest();\r\n\r\n        var actual = todoManager.CreateTaskCard(\"Write Tests\");\r\n\r\n        Verify.ObjectIsPersisted(actual);\r\n        Assert.AreEqual(\"Write Tests\", actual.Name);\r\n    }\r\n    ...\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may remove "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SayHello__says_hello"}]},{"type":"text","value":" test case from previous tutorial."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here is what this test does in terms of AAA pattern;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Arrange"}]},{"type":"text","value":": Gets "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" instance from context"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Act"}]},{"type":"text","value":": Creates a task card named \"Write Tests\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Assert"}]},{"type":"text","value":": Verifies that the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" object is persisted and its name is\r\n\"Write Tests\""}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"BeginTest()"}]},{"type":"text","value":" call prepares underlying mechanism for the execution of service\r\nunder test."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Verify property comes from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TestBase"}]},{"type":"text","value":" class. It basically helps you to check\r\nif object is persisted or deleted."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When testing, Gazel configures a fake service application in which there is a\r\ndatabase connection to an in-memory SQLite database. For every test case, it\r\nbegins a transaction and rollbacks after execution."}]}]},{"type":"element","tag":"h2","props":{"id":"summary"},"children":[{"type":"text","value":"Summary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Like manager classes, persistent classes also follow conventions. In this\r\ntutorial you've created a table and a create service using no configuration."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now try to add new properties to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class or add new persistent\r\nclasses, re-run and see the results."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you are ready, you can proceed to learn how to update a record in\r\ndatabase."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can download "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/persistent-classes","rel":["nofollow"]},"children":[{"type":"text","value":"source code for this tutorial"}]},{"type":"text","value":"."}]}]},"position":2,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"persistent-classes"},"children":[{"type":"text","value":"Persistent Classes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial, you will create a persistent class and make your first\r\ndatabase operation using Gazel."}]},{"type":"element","tag":"h2","props":{"id":"create-a-persistent-class"},"children":[{"type":"text","value":"Create A Persistent Class"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Database operations are done using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Persistent"}]},{"type":"text","value":" objects."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An object is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Persistent"}]},{"type":"text","value":" if its class injects its own repository. For more\r\ninformation see: "},{"type":"element","tag":"a","props":{"href":"/features#data-persistence"},"children":[{"type":"text","value":"Data Persistence"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create a new class named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Todo"}]},{"type":"text","value":" module."}]},{"type":"element","tag":"code","props":{"code":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       ├── TodoManager.cs\r\n│       └── TaskCard.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\r\n        └── TodoTest.cs\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       ├── TodoManager.cs\r\n│       └── TaskCard.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\r\n        └── TodoTest.cs"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add following code to your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" source file."}]},{"type":"element","tag":"code","props":{"code":"using Gazel;\r\nusing Gazel.DataAccess;\r\n\r\nnamespace Inventiv.Sample.Module.Todo;\r\n\r\npublic class TaskCard\r\n{\r\n    private readonly IRepository<TaskCard> _repository = default!;\r\n\r\n    protected TaskCard() { }\r\n    public TaskCard(IRepository<TaskCard> repository)\r\n    {\r\n        _repository = repository;\r\n    }\r\n}\r\n\r\npublic class TaskCards : Query<TaskCard>\r\n{\r\n    public TaskCards(IModuleContext context) : base(context) { }\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-57d928"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"Gazel"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-57d928"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"Gazel"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"DataAccess"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"namespace"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"Inventiv"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"Sample"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"Module"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"Todo"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TaskCard"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"IRepository"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"!;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"() { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"IRepository"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TaskCards"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"TaskCards"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":") : "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":") { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" object will represent one row in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" table."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCards"}]},{"type":"text","value":" class is registered to IoC as a singleton by convention and it\r\nwill consist of queries to that table. In this tutorial you will not write\r\nany queries. Leave this class empty for now."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class, by injecting its own repository, indicates that its a\r\npersistent class."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that both classes are subject to dependency injection."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected TaskCard() { }"}]},{"type":"text","value":" constructor is there for NHibernate to create\r\nproxies for lazy loading."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now you can add properties to your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class as shown below;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCard\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string? Name { get; protected set; }\r\n    public virtual bool Completed { get; protected set; }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TaskCard"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"? "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"Completed"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First property is mandatory for all persistent classes. Gazel requires an\r\ninteger Id column for every table."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The reason for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" setters is to implement domain logic inside\r\npersistent classes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"virtual"}]},{"type":"text","value":" keywords are there for NHibernate to create proxies for lazy\r\nloading."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These properties are automatically mapped to columns of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" table in\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"gazel.tutorial.db"}]},{"type":"text","value":" database."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that you don't have to create tables and columns in your SQLite\r\ndatabase.  When in local development mode, Gazel configures NHibernate's\r\nSQLite connection to automatically create database schema."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now add following method to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCard\r\n{\r\n    ...\r\n    protected internal virtual TaskCard With(string? name)\r\n    {\r\n        Name = name;\r\n        Completed = false;\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TaskCard"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"? "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"Completed"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"Insert"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-57d928"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For persistent classes construction is in two steps. First step is the actual\r\nconstructor, and second step is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"With"}]},{"type":"text","value":" methods which takes instance arguments\r\nand inserts a row to database via "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_repository"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Go to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" class in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Todo"}]},{"type":"text","value":" module and modify its content with the\r\nfollowing code;"}]},{"type":"element","tag":"code","props":{"code":"using Gazel;\r\n\r\nnamespace Inventiv.Sample.Module.Todo;\r\n\r\npublic class TodoManager\r\n{\r\n    private readonly IModuleContext _context;\r\n\r\n    public TodoManager(IModuleContext context)\r\n    {\r\n        _context = context;\r\n    }\r\n\r\n    public TaskCard CreateTaskCard(string? name)\r\n    {\r\n        return _context.New<TaskCard>().With(name);\r\n    }\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-57d928"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"Gazel"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"namespace"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"Inventiv"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"Sample"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"Module"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"Todo"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TodoManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"TodoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"? "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-57d928"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"New"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You've created a business service named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"text","value":" that inserts a new\r\ntask card record with the given name. As mentioned above, construction is done\r\nin two steps;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The first one is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.New<TaskCard>()"}]},{"type":"text","value":" which initiates a new "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":"\r\nobject using IoC container,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"And the second one is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".With(name)"}]},{"type":"text","value":" which inserts a new record using its own\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_repository"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So together you read this as \""},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"new task card with name"}]},{"type":"text","value":"\"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" project to see your new service "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Create Task Card"}]},{"type":"text","value":" and\r\ncreate task cards using it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/tutorial/-images/create-task-card.png"},"children":[]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that Id's are assigned from database. This is the default mapping\r\nconfiguration Gazel applies to NHibernate."}]}]},{"type":"element","tag":"h2","props":{"id":"testing-persistent-objects"},"children":[{"type":"text","value":"Testing Persistent Objects"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Go to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoTest"}]},{"type":"text","value":" class in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Test.Todo"}]},{"type":"text","value":" add following test case;"}]},{"type":"element","tag":"code","props":{"code":"...\r\n[TestFixture]\r\npublic class TodoTest : TestBase\r\n{\r\n    ...\r\n    [Test]\r\n    public void CreateTaskCard__creates_a_task_card_using_given_name()\r\n    {\r\n        var todoManager = Context.Get<TodoManager>();\r\n\r\n        BeginTest();\r\n\r\n        var actual = todoManager.CreateTaskCard(\"Write Tests\");\r\n\r\n        Verify.ObjectIsPersisted(actual);\r\n        Assert.AreEqual(\"Write Tests\", actual.Name);\r\n    }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TestFixture"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TodoTest"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TestBase"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    ["}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"Test"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"CreateTaskCard__creates_a_task_card_using_given_name"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"todoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"Get"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-679a8c"},"children":[{"type":"text","value":"TodoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":">();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"BeginTest"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-135dc4"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"actual"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"todoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-96feef"},"children":[{"type":"text","value":"\"Write Tests\""}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"Verify"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"ObjectIsPersisted"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"actual"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"Assert"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-8484e8"},"children":[{"type":"text","value":"AreEqual"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-96feef"},"children":[{"type":"text","value":"\"Write Tests\""}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"actual"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-cb1bc5"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0272d0"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may remove "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SayHello__says_hello"}]},{"type":"text","value":" test case from previous tutorial."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here is what this test does in terms of AAA pattern;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Arrange"}]},{"type":"text","value":": Gets "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" instance from context"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Act"}]},{"type":"text","value":": Creates a task card named \"Write Tests\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Assert"}]},{"type":"text","value":": Verifies that the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" object is persisted and its name is\r\n\"Write Tests\""}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"BeginTest()"}]},{"type":"text","value":" call prepares underlying mechanism for the execution of service\r\nunder test."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Verify property comes from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TestBase"}]},{"type":"text","value":" class. It basically helps you to check\r\nif object is persisted or deleted."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When testing, Gazel configures a fake service application in which there is a\r\ndatabase connection to an in-memory SQLite database. For every test case, it\r\nbegins a transaction and rollbacks after execution."}]}]},{"type":"element","tag":"h2","props":{"id":"summary"},"children":[{"type":"text","value":"Summary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Like manager classes, persistent classes also follow conventions. In this\r\ntutorial you've created a table and a create service using no configuration."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now try to add new properties to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class or add new persistent\r\nclasses, re-run and see the results."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you are ready, you can proceed to learn how to update a record in\r\ndatabase."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can download "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/persistent-classes","rel":["nofollow"]},"children":[{"type":"text","value":"source code for this tutorial"}]},{"type":"text","value":"."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-96feef{color:#CE9178}\n.ct-8484e8{color:#DCDCAA}\n.ct-cb1bc5{color:#9CDCFE}\n.ct-135dc4{color:#569CD6}\n.ct-679a8c{color:#4EC9B0}\n.ct-0272d0{color:#D4D4D4}\n.ct-57d928{color:#C586C0}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"create-a-persistent-class","depth":2,"text":"Create A Persistent Class"},{"id":"testing-persistent-objects","depth":2,"text":"Testing Persistent Objects"},{"id":"summary","depth":2,"text":"Summary"}]}},"_type":"markdown","_id":"content:tutorial:persistent-classes.md","_source":"content","_file":"tutorial/persistent-classes.md","_extension":"md"},{"_path":"/tutorial/database-transactions","_dir":"tutorial","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Database Transactions","description":"In this tutorial, you will create an update service and learn about how Gazel\r\nmanages database transactions.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"database-transactions"},"children":[{"type":"text","value":"Database Transactions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial, you will create an update service and learn about how Gazel\r\nmanages database transactions."}]},{"type":"element","tag":"h2","props":{"id":"business-service-on-persistent-objects"},"children":[{"type":"text","value":"Business Service on Persistent Objects"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that you've created task cards, it's time to complete them. To do this add\r\nfollowing method to your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCard\r\n{\r\n    ...\r\n    public virtual void Complete()\r\n    {\r\n        Completed = true;\r\n    }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic class TaskCard\r\n{\r\n    ...\r\n    public virtual void Complete()\r\n    {\r\n        Completed = true;\r\n    }\r\n    ...\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And that's it. You've created a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Complete"}]},{"type":"text","value":" service."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There is no need to create a database transaction, before every service call\r\nGazel automatically opens a database connection and begins a transaction."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that you don't have to call an update method in repository. Gazel\r\nconfigures NHibernate in auto update mode. This means it makes a dirty check\r\nupon commit and update rows when there is a change."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Build and run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" again. Now you will see a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" service\r\npackage and under this package there is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Complete"}]},{"type":"text","value":" service. Since this service\r\nrequires a row in database, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Id"}]},{"type":"text","value":" parameter is added automatically."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Go and create a task card using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Task Manager / Create Task Card"}]},{"type":"text","value":" and use that\r\nobject's "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Id"}]},{"type":"text","value":" in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Target/Id"}]},{"type":"text","value":" field of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Complete"}]},{"type":"text","value":" service."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you press call button you will see following screen;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/tutorial/-images/complete-task.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"important-note-on-protected-setters"},"children":[{"type":"text","value":"Important note on "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" setters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may remember that we used "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" access modifier on property setters\r\nas shown below;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCard\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string? Name { get; protected set; }\r\n    public virtual bool Completed { get; protected set; }\r\n    ...\r\n }\r\n ...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic class TaskCard\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string? Name { get; protected set; }\r\n    public virtual bool Completed { get; protected set; }\r\n    ...\r\n }\r\n ...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As mentioned before "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" setters ensure that data of a persistent object\r\ncan only be updated within its own class. Gazel is designed to welcome business\r\nservices on persistent classes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you allow "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" setters, that is fine too. But this would make it\r\npossible to update a property value from outside. This is because we use auto\r\nupdate feature of NHibernate."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Always remember that persistent objects in Gazel are not simle DTOs. They are\r\ncontext aware domain objects that manages a row in a database."}]},{"type":"element","tag":"h2","props":{"id":"testing-an-update-service"},"children":[{"type":"text","value":"Testing an Update Service"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's move on to testing. Now add following test to your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoTest"}]},{"type":"text","value":" test class;"}]},{"type":"element","tag":"code","props":{"code":"...\r\n[TestFixture]\r\npublic class TodoTest : TestBase\r\n{\r\n    ...\r\n    [Test]\r\n    public void Complete__marks_task_card_as_completed()\r\n    {\r\n        var todoManager = Context.Get<TodoManager>();\r\n        var taskCard = todoManager.CreateTaskCard(\"Write Tests\");\r\n\r\n        BeginTest();\r\n\r\n        taskCard.Complete();\r\n\r\n        Assert.IsTrue(taskCard.Completed);\r\n    }\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\n[TestFixture]\r\npublic class TodoTest : TestBase\r\n{\r\n    ...\r\n    [Test]\r\n    public void Complete__marks_task_card_as_completed()\r\n    {\r\n        var todoManager = Context.Get<TodoManager>();\r\n        var taskCard = todoManager.CreateTaskCard(\"Write Tests\");\r\n\r\n        BeginTest();\r\n\r\n        taskCard.Complete();\r\n\r\n        Assert.IsTrue(taskCard.Completed);\r\n    }\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here's what you've done;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Arrange"}]},{"type":"text","value":": Get "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" object and create a task card named \"Write\r\nTests\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Act"}]},{"type":"text","value":": Complete the new "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" object"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Assert"}]},{"type":"text","value":": Assert that task card is completed"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that this time "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"text","value":" is moved before "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"BeginTest()"}]},{"type":"text","value":". This is\r\nbecause for this test case creating a task card is a part of the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"arrange"}]},{"type":"text","value":"\r\nstep."}]}]},{"type":"element","tag":"h2","props":{"id":"summary"},"children":[{"type":"text","value":"Summary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial you've learned how to write a simple update service to a\r\nmethod. Now try to add new properties and methods to your persistent classes,\r\nre-run and see the results."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you are ready, you can proceed to learn how to write query services."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can download "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/database-transactions","rel":["nofollow"]},"children":[{"type":"text","value":"source code for this tutorial"}]},{"type":"text","value":"."}]}]},"position":3,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"database-transactions"},"children":[{"type":"text","value":"Database Transactions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial, you will create an update service and learn about how Gazel\r\nmanages database transactions."}]},{"type":"element","tag":"h2","props":{"id":"business-service-on-persistent-objects"},"children":[{"type":"text","value":"Business Service on Persistent Objects"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that you've created task cards, it's time to complete them. To do this add\r\nfollowing method to your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCard\r\n{\r\n    ...\r\n    public virtual void Complete()\r\n    {\r\n        Completed = true;\r\n    }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdffca"},"children":[{"type":"text","value":"TaskCard"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5dbba2"},"children":[{"type":"text","value":"Complete"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-2485ab"},"children":[{"type":"text","value":"Completed"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And that's it. You've created a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Complete"}]},{"type":"text","value":" service."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There is no need to create a database transaction, before every service call\r\nGazel automatically opens a database connection and begins a transaction."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that you don't have to call an update method in repository. Gazel\r\nconfigures NHibernate in auto update mode. This means it makes a dirty check\r\nupon commit and update rows when there is a change."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Build and run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" again. Now you will see a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" service\r\npackage and under this package there is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Complete"}]},{"type":"text","value":" service. Since this service\r\nrequires a row in database, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Id"}]},{"type":"text","value":" parameter is added automatically."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Go and create a task card using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Task Manager / Create Task Card"}]},{"type":"text","value":" and use that\r\nobject's "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Id"}]},{"type":"text","value":" in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Target/Id"}]},{"type":"text","value":" field of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Complete"}]},{"type":"text","value":" service."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you press call button you will see following screen;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/tutorial/-images/complete-task.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"important-note-on-protected-setters"},"children":[{"type":"text","value":"Important note on "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" setters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may remember that we used "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" access modifier on property setters\r\nas shown below;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCard\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string? Name { get; protected set; }\r\n    public virtual bool Completed { get; protected set; }\r\n    ...\r\n }\r\n ...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdffca"},"children":[{"type":"text","value":"TaskCard"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2485ab"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"? "}]},{"type":"element","tag":"span","props":{"class":"ct-2485ab"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2485ab"},"children":[{"type":"text","value":"Completed"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" ..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As mentioned before "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected"}]},{"type":"text","value":" setters ensure that data of a persistent object\r\ncan only be updated within its own class. Gazel is designed to welcome business\r\nservices on persistent classes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you allow "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" setters, that is fine too. But this would make it\r\npossible to update a property value from outside. This is because we use auto\r\nupdate feature of NHibernate."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Always remember that persistent objects in Gazel are not simle DTOs. They are\r\ncontext aware domain objects that manages a row in a database."}]},{"type":"element","tag":"h2","props":{"id":"testing-an-update-service"},"children":[{"type":"text","value":"Testing an Update Service"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's move on to testing. Now add following test to your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoTest"}]},{"type":"text","value":" test class;"}]},{"type":"element","tag":"code","props":{"code":"...\r\n[TestFixture]\r\npublic class TodoTest : TestBase\r\n{\r\n    ...\r\n    [Test]\r\n    public void Complete__marks_task_card_as_completed()\r\n    {\r\n        var todoManager = Context.Get<TodoManager>();\r\n        var taskCard = todoManager.CreateTaskCard(\"Write Tests\");\r\n\r\n        BeginTest();\r\n\r\n        taskCard.Complete();\r\n\r\n        Assert.IsTrue(taskCard.Completed);\r\n    }\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"class":"ct-fdffca"},"children":[{"type":"text","value":"TestFixture"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdffca"},"children":[{"type":"text","value":"TodoTest"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-fdffca"},"children":[{"type":"text","value":"TestBase"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    ["}]},{"type":"element","tag":"span","props":{"class":"ct-fdffca"},"children":[{"type":"text","value":"Test"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5dbba2"},"children":[{"type":"text","value":"Complete__marks_task_card_as_completed"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2485ab"},"children":[{"type":"text","value":"todoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-2485ab"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5dbba2"},"children":[{"type":"text","value":"Get"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-fdffca"},"children":[{"type":"text","value":"TodoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":">();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-8c3a6c"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2485ab"},"children":[{"type":"text","value":"taskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-2485ab"},"children":[{"type":"text","value":"todoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5dbba2"},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-73949e"},"children":[{"type":"text","value":"\"Write Tests\""}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5dbba2"},"children":[{"type":"text","value":"BeginTest"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-2485ab"},"children":[{"type":"text","value":"taskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5dbba2"},"children":[{"type":"text","value":"Complete"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-2485ab"},"children":[{"type":"text","value":"Assert"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5dbba2"},"children":[{"type":"text","value":"IsTrue"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2485ab"},"children":[{"type":"text","value":"taskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-2485ab"},"children":[{"type":"text","value":"Completed"}]},{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4eb818"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here's what you've done;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Arrange"}]},{"type":"text","value":": Get "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" object and create a task card named \"Write\r\nTests\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Act"}]},{"type":"text","value":": Complete the new "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" object"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Assert"}]},{"type":"text","value":": Assert that task card is completed"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that this time "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"text","value":" is moved before "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"BeginTest()"}]},{"type":"text","value":". This is\r\nbecause for this test case creating a task card is a part of the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"arrange"}]},{"type":"text","value":"\r\nstep."}]}]},{"type":"element","tag":"h2","props":{"id":"summary"},"children":[{"type":"text","value":"Summary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial you've learned how to write a simple update service to a\r\nmethod. Now try to add new properties and methods to your persistent classes,\r\nre-run and see the results."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you are ready, you can proceed to learn how to write query services."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can download "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/database-transactions","rel":["nofollow"]},"children":[{"type":"text","value":"source code for this tutorial"}]},{"type":"text","value":"."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-73949e{color:#CE9178}\n.ct-2485ab{color:#9CDCFE}\n.ct-5dbba2{color:#DCDCAA}\n.ct-fdffca{color:#4EC9B0}\n.ct-8c3a6c{color:#569CD6}\n.ct-4eb818{color:#D4D4D4}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"business-service-on-persistent-objects","depth":2,"text":"Business Service on Persistent Objects","children":[{"id":"important-note-on-protected-setters","depth":3,"text":"Important note on protected setters"}]},{"id":"testing-an-update-service","depth":2,"text":"Testing an Update Service"},{"id":"summary","depth":2,"text":"Summary"}]}},"_type":"markdown","_id":"content:tutorial:database-transactions.md","_source":"content","_file":"tutorial/database-transactions.md","_extension":"md"},{"_path":"/tutorial/query-classes","_dir":"tutorial","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Query Classes","description":"In this tutorial, you will create a query service and learn about query service\r\nconventions.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"query-classes"},"children":[{"type":"text","value":"Query Classes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial, you will create a query service and learn about query service\r\nconventions."}]},{"type":"element","tag":"h2","props":{"id":"create-a-query-service"},"children":[{"type":"text","value":"Create a Query Service"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now you will create a query service to see all completed task cards. Add below\r\ncode to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCards"}]},{"type":"text","value":" class in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard.cs"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCards : Query<TaskCard>\r\n{\r\n    ...\r\n    public List<TaskCard> ByCompleted(bool completed)\r\n    {\r\n        return By(t => t.Completed == completed);\r\n    }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic class TaskCards : Query<TaskCard>\r\n{\r\n    ...\r\n    public List<TaskCard> ByCompleted(bool completed)\r\n    {\r\n        return By(t => t.Completed == completed);\r\n    }\r\n    ...\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":" method is inherited from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" base class, and it simply accepts a\r\nlambda expression with one parameter of type "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"T"}]},{"type":"text","value":" which is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" in this\r\nexample."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Like every public method, this query method is also exposed as a business\r\nservice. Build and run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" to see your completed task cards."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Query naming conventions;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When a query method returns a list of objects, the convention is to name it\r\nas "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When a query method takes only one parameter, method name contains\r\nparameter name as a suffix."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So by these conventions we named this query as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ByCompleted"}]},{"type":"text","value":". For more\r\ninformation see: "},{"type":"element","tag":"a","props":{"href":"/conventions#queries"},"children":[{"type":"text","value":"Queries"}]}]}]},{"type":"element","tag":"h2","props":{"id":"testing-queries"},"children":[{"type":"text","value":"Testing Queries"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now add following test case to your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoTest"}]},{"type":"text","value":" class;"}]},{"type":"element","tag":"code","props":{"code":"...\r\n[TestFixture]\r\npublic class TodoTest : TestBase\r\n{\r\n    ...\r\n    [Test]\r\n    public void TaskCards_ByCompleted__filters_task_cards_by_completed_column()\r\n    {\r\n        var todoManager = Context.Get<TodoManager>();\r\n\r\n        todoManager.CreateTaskCard(\"incomplete\");\r\n        todoManager.CreateTaskCard(\"completed 1\").Complete();\r\n        todoManager.CreateTaskCard(\"completed 2\").Complete();\r\n\r\n        BeginTest();\r\n\r\n        var actual = Context.Query<TaskCards>().ByCompleted(true);\r\n\r\n        Assert.AreEqual(2, actual.Count);\r\n        Assert.AreEqual(\"completed 1\", actual[0].Name);\r\n        Assert.AreEqual(\"completed 2\", actual[1].Name);\r\n    }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\n[TestFixture]\r\npublic class TodoTest : TestBase\r\n{\r\n    ...\r\n    [Test]\r\n    public void TaskCards_ByCompleted__filters_task_cards_by_completed_column()\r\n    {\r\n        var todoManager = Context.Get<TodoManager>();\r\n\r\n        todoManager.CreateTaskCard(\"incomplete\");\r\n        todoManager.CreateTaskCard(\"completed 1\").Complete();\r\n        todoManager.CreateTaskCard(\"completed 2\").Complete();\r\n\r\n        BeginTest();\r\n\r\n        var actual = Context.Query<TaskCards>().ByCompleted(true);\r\n\r\n        Assert.AreEqual(2, actual.Count);\r\n        Assert.AreEqual(\"completed 1\", actual[0].Name);\r\n        Assert.AreEqual(\"completed 2\", actual[1].Name);\r\n    }\r\n    ...\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that there is a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Context.Query<T>()"}]},{"type":"text","value":" shortcut to access query classes.\r\nUnlike "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Context.Get<T>()"}]},{"type":"text","value":" this shortcut is available in "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"module"}]},{"type":"text","value":" projects as\r\nwell, so that you don't have to inject query classes."}]}]},{"type":"element","tag":"h2","props":{"id":"summary"},"children":[{"type":"text","value":"Summary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Query classes help you to organize your query methods for the same persistent\r\nclass into one place, so that you can create reusable query methods."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now try to create other query methods that accepts more than one parameter,\r\nre-run and see the results."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you are ready, you can proceed to learn how to create service packages and\r\nexpose your business services publicly."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can download "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/query-classes","rel":["nofollow"]},"children":[{"type":"text","value":"source code for this tutorial"}]},{"type":"text","value":"."}]}]},"position":4,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"query-classes"},"children":[{"type":"text","value":"Query Classes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial, you will create a query service and learn about query service\r\nconventions."}]},{"type":"element","tag":"h2","props":{"id":"create-a-query-service"},"children":[{"type":"text","value":"Create a Query Service"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now you will create a query service to see all completed task cards. Add below\r\ncode to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCards"}]},{"type":"text","value":" class in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard.cs"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCards : Query<TaskCard>\r\n{\r\n    ...\r\n    public List<TaskCard> ByCompleted(bool completed)\r\n    {\r\n        return By(t => t.Completed == completed);\r\n    }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-116500"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-116500"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c8ffbc"},"children":[{"type":"text","value":"TaskCards"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-c8ffbc"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-c8ffbc"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-116500"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c8ffbc"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-c8ffbc"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"ByCompleted"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-116500"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"completed"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-1d3f5b"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"By"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"Completed"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"completed"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":" method is inherited from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Query<T>"}]},{"type":"text","value":" base class, and it simply accepts a\r\nlambda expression with one parameter of type "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"T"}]},{"type":"text","value":" which is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" in this\r\nexample."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Like every public method, this query method is also exposed as a business\r\nservice. Build and run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" to see your completed task cards."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Query naming conventions;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When a query method returns a list of objects, the convention is to name it\r\nas "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"By"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When a query method takes only one parameter, method name contains\r\nparameter name as a suffix."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So by these conventions we named this query as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ByCompleted"}]},{"type":"text","value":". For more\r\ninformation see: "},{"type":"element","tag":"a","props":{"href":"/conventions#queries"},"children":[{"type":"text","value":"Queries"}]}]}]},{"type":"element","tag":"h2","props":{"id":"testing-queries"},"children":[{"type":"text","value":"Testing Queries"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now add following test case to your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoTest"}]},{"type":"text","value":" class;"}]},{"type":"element","tag":"code","props":{"code":"...\r\n[TestFixture]\r\npublic class TodoTest : TestBase\r\n{\r\n    ...\r\n    [Test]\r\n    public void TaskCards_ByCompleted__filters_task_cards_by_completed_column()\r\n    {\r\n        var todoManager = Context.Get<TodoManager>();\r\n\r\n        todoManager.CreateTaskCard(\"incomplete\");\r\n        todoManager.CreateTaskCard(\"completed 1\").Complete();\r\n        todoManager.CreateTaskCard(\"completed 2\").Complete();\r\n\r\n        BeginTest();\r\n\r\n        var actual = Context.Query<TaskCards>().ByCompleted(true);\r\n\r\n        Assert.AreEqual(2, actual.Count);\r\n        Assert.AreEqual(\"completed 1\", actual[0].Name);\r\n        Assert.AreEqual(\"completed 2\", actual[1].Name);\r\n    }\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"class":"ct-c8ffbc"},"children":[{"type":"text","value":"TestFixture"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-116500"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-116500"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c8ffbc"},"children":[{"type":"text","value":"TodoTest"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-c8ffbc"},"children":[{"type":"text","value":"TestBase"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"    ["}]},{"type":"element","tag":"span","props":{"class":"ct-c8ffbc"},"children":[{"type":"text","value":"Test"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-116500"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-116500"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"TaskCards_ByCompleted__filters_task_cards_by_completed_column"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-116500"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"todoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"Get"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-c8ffbc"},"children":[{"type":"text","value":"TodoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":">();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"todoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a7f5b9"},"children":[{"type":"text","value":"\"incomplete\""}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"todoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a7f5b9"},"children":[{"type":"text","value":"\"completed 1\""}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"Complete"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"todoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a7f5b9"},"children":[{"type":"text","value":"\"completed 2\""}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"Complete"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"BeginTest"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-116500"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"actual"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-c8ffbc"},"children":[{"type":"text","value":"TaskCards"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"ByCompleted"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-116500"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"Assert"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"AreEqual"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-30bf07"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"actual"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"Count"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"Assert"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"AreEqual"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a7f5b9"},"children":[{"type":"text","value":"\"completed 1\""}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"actual"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"class":"ct-30bf07"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"]."}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"Assert"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e7b978"},"children":[{"type":"text","value":"AreEqual"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a7f5b9"},"children":[{"type":"text","value":"\"completed 2\""}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"actual"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"class":"ct-30bf07"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"]."}]},{"type":"element","tag":"span","props":{"class":"ct-5a961a"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-93c36f"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that there is a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Context.Query<T>()"}]},{"type":"text","value":" shortcut to access query classes.\r\nUnlike "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Context.Get<T>()"}]},{"type":"text","value":" this shortcut is available in "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"module"}]},{"type":"text","value":" projects as\r\nwell, so that you don't have to inject query classes."}]}]},{"type":"element","tag":"h2","props":{"id":"summary"},"children":[{"type":"text","value":"Summary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Query classes help you to organize your query methods for the same persistent\r\nclass into one place, so that you can create reusable query methods."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now try to create other query methods that accepts more than one parameter,\r\nre-run and see the results."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you are ready, you can proceed to learn how to create service packages and\r\nexpose your business services publicly."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can download "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/query-classes","rel":["nofollow"]},"children":[{"type":"text","value":"source code for this tutorial"}]},{"type":"text","value":"."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-30bf07{color:#B5CEA8}\n.ct-a7f5b9{color:#CE9178}\n.ct-1d3f5b{color:#C586C0}\n.ct-5a961a{color:#9CDCFE}\n.ct-e7b978{color:#DCDCAA}\n.ct-c8ffbc{color:#4EC9B0}\n.ct-116500{color:#569CD6}\n.ct-93c36f{color:#D4D4D4}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"create-a-query-service","depth":2,"text":"Create a Query Service"},{"id":"testing-queries","depth":2,"text":"Testing Queries"},{"id":"summary","depth":2,"text":"Summary"}]}},"_type":"markdown","_id":"content:tutorial:query-classes.md","_source":"content","_file":"tutorial/query-classes.md","_extension":"md"},{"_path":"/tutorial/rest-api","_dir":"tutorial","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Rest API","description":"In this tutorial, you will create a Rest API and learn about configuration and\r\napi packaging.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"rest-api"},"children":[{"type":"text","value":"Rest API"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial, you will create a Rest API and learn about configuration and\r\napi packaging."}]},{"type":"element","tag":"h2","props":{"id":"define-a-service-interface"},"children":[{"type":"text","value":"Define a Service Interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Until now you've created business services for internal use. By internal we\r\nmean that they are supposed to be consumed by your applications only. You can\r\nalways publish your business services directly to outside but this would be\r\nhard for you to maintain and refactor your business code. For this reason, you\r\nwill create an api package out of your business services."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First we will define which services to expose. To do this, create a folder\r\nnamed "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Service"}]},{"type":"text","value":" in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Todo"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"module"}]},{"type":"text","value":" and under this folder create an interface\r\nnamed "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService"}]},{"type":"text","value":" as shown below;"}]},{"type":"element","tag":"code","props":{"code":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       ├── Service\r\n│       │   └── ITaskCardService.cs\r\n│       ├── TodoManager.cs\r\n│       └── TaskCard.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       ├── Service\r\n│       │   └── ITaskCardService.cs\r\n│       ├── TodoManager.cs\r\n│       └── TaskCard.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This interface is a "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"service interface"}]},{"type":"text","value":" and it will contain the methods of\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class that you want to share with the outside world."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now modify "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService"}]},{"type":"text","value":" service interface to include following method;"}]},{"type":"element","tag":"code","props":{"code":"namespace Inventiv.Sample.Module.Todo.Service;\r\n\r\npublic interface ITaskCardService\r\n{\r\n    void Complete();\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"namespace Inventiv.Sample.Module.Todo.Service;\r\n\r\npublic interface ITaskCardService\r\n{\r\n    void Complete();\r\n}\r\n\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now go to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard.cs"}]},{"type":"text","value":" file and make your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class implement\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService"}]},{"type":"text","value":" interface as shown below;"}]},{"type":"element","tag":"code","props":{"code":"public class TaskCard : ITaskCardService\r\n{\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class TaskCard : ITaskCardService\r\n{\r\n    ...\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that you don't have to implement "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Complete"}]},{"type":"text","value":" method, since it is\r\nalready implemented within "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class."}]}]},{"type":"element","tag":"h2","props":{"id":"create-an-api-package"},"children":[{"type":"text","value":"Create an API Package"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create an api package go to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" project and add a class named\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCardApi"}]},{"type":"text","value":" as shown below;"}]},{"type":"element","tag":"code","props":{"code":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   │   └── TaskCardApi.cs\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       ├── Service\r\n│       │   └── ITaskCardService.cs\r\n│       ├── TodoManager.cs\r\n│       └── TaskCard.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   │   └── TaskCardApi.cs\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       ├── Service\r\n│       │   └── ITaskCardService.cs\r\n│       ├── TodoManager.cs\r\n│       └── TaskCard.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And add below code to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCardApi"}]},{"type":"text","value":" class;"}]},{"type":"element","tag":"code","props":{"code":"using Castle.MicroKernel;\r\nusing Gazel.Configuration;\r\nusing Inventiv.Sample.Module.Todo;\r\nusing Inventiv.Sample.Module.Todo.Service;\r\nusing Routine;\r\nusing Routine.Engine.Configuration.ConventionBased;\r\n\r\nnamespace Inventiv.Sample.App.Service;\r\n\r\npublic class TaskCardApi : ICodingStyleConfiguration\r\n{\r\n    public void Configure(ConventionBasedCodingStyle codingStyle, IKernel kernel)\r\n    {\r\n        codingStyle.AddTypes(v => v.ApiPackage(\"TaskCard\", t => t\r\n            .Methods.Add(c => c.Proxy<ITaskCardService>().TargetByParameter<TaskCard>())\r\n        ));\r\n    }\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"using Castle.MicroKernel;\r\nusing Gazel.Configuration;\r\nusing Inventiv.Sample.Module.Todo;\r\nusing Inventiv.Sample.Module.Todo.Service;\r\nusing Routine;\r\nusing Routine.Engine.Configuration.ConventionBased;\r\n\r\nnamespace Inventiv.Sample.App.Service;\r\n\r\npublic class TaskCardApi : ICodingStyleConfiguration\r\n{\r\n    public void Configure(ConventionBasedCodingStyle codingStyle, IKernel kernel)\r\n    {\r\n        codingStyle.AddTypes(v => v.ApiPackage(\"TaskCard\", t => t\r\n            .Methods.Add(c => c.Proxy<ITaskCardService>().TargetByParameter<TaskCard>())\r\n        ));\r\n    }\r\n}\r\n\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With this configuration, you've created a virtual class -which we call "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"api\r\npackage"}]},{"type":"text","value":"- and added all methods in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService"}]},{"type":"text","value":" class to this virtual\r\nclass."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now build and run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" project."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/tutorial/-images/tutorials-rest-api-servicetestui.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you can see, there is a new group called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Api"}]},{"type":"text","value":". Under this group you will\r\nsee a new api package named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService"}]},{"type":"text","value":". You can see that this service\r\npackage is marked as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Virtual"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Web Service"}]},{"type":"text","value":". Under this package there is\r\n'Complete' service."}]},{"type":"element","tag":"h2","props":{"id":"test-your-first-endpoint"},"children":[{"type":"text","value":"Test your first endpoint"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now build and run both "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Rest"}]},{"type":"text","value":" projects."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Rest"}]},{"type":"text","value":" is an application that acts as a gateway to your internal business\r\nservices. It only allows access to the services under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Api"}]},{"type":"text","value":" group."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now your api is in this url;"}]},{"type":"element","tag":"code","props":{"code":"POST http://localhost:{port}/task-cards/{id}/complete\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"POST http://localhost:{port}/task-cards/{id}/complete\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Try your endpoint by making an HTTP request to this URL, and make sure you use\r\nan id value from your test database in place of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{id}"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We used "},{"type":"element","tag":"a","props":{"href":"https://www.getpostman.com","rel":["nofollow"]},"children":[{"type":"text","value":"Postman"}]},{"type":"text","value":" for this test, and the result is shown below;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/tutorial/-images/tutorials-rest-api-postman-result.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"url-breakdown"},"children":[{"type":"text","value":"URL breakdown"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Your api consists of 3 parts;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Resource name in plural - "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"tasks"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Id of the resource - "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"6"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Operation/method name - "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"complete"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Resource name is in plural because you named your web service package after a\r\npersistent class, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"improve-your-api-package"},"children":[{"type":"text","value":"Improve your API Package"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now modify "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService.cs"}]},{"type":"text","value":" file as shown below;"}]},{"type":"element","tag":"code","props":{"code":"namespace Inventiv.Sample.Module.Todo.Service;\r\n\r\npublic interface ITaskCardService\r\n{\r\n    void Complete();\r\n}\r\n\r\npublic interface ITaskCardsService\r\n{\r\n    ITaskCardInfo GetTaskCard(int taskCardId);\r\n    List<ITaskCardInfo> GetTaskCards(bool completed);\r\n}\r\n\r\npublic interface ITaskCardManagerService\r\n{\r\n    ITaskCardInfo CreateTaskCard(string? name);\r\n}\r\n\r\npublic interface ITaskCardInfo\r\n{\r\n    int Id { get; }\r\n    string? Name { get; }\r\n    bool Completed { get; }\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"namespace Inventiv.Sample.Module.Todo.Service;\r\n\r\npublic interface ITaskCardService\r\n{\r\n    void Complete();\r\n}\r\n\r\npublic interface ITaskCardsService\r\n{\r\n    ITaskCardInfo GetTaskCard(int taskCardId);\r\n    List<ITaskCardInfo> GetTaskCards(bool completed);\r\n}\r\n\r\npublic interface ITaskCardManagerService\r\n{\r\n    ITaskCardInfo CreateTaskCard(string? name);\r\n}\r\n\r\npublic interface ITaskCardInfo\r\n{\r\n    int Id { get; }\r\n    string? Name { get; }\r\n    bool Completed { get; }\r\n}\r\n\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are 3 new interfaces in your service definition;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardsService"}]},{"type":"text","value":" to include services from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCards"}]},{"type":"text","value":" query class."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardManagerService"}]},{"type":"text","value":" to include task card related services from\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" manager class."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardInfo"}]},{"type":"text","value":" to include properties of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class in responses."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Implement your new interfaces as shown below;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCard : ITaskCardService, ITaskCardInfo\r\n{\r\n    ...\r\n}\r\n\r\npublic class TaskCards : Query<TaskCard>, ITaskCardsService\r\n{\r\n    ...\r\n\r\n    ITaskCardInfo ITaskCardsService.GetTaskCard(int taskCardId) =>\r\n        SingleById(taskCardId);\r\n\r\n    List<ITaskCardInfo> ITaskCardsService.GetTaskCards(bool completed) =>\r\n        ByCompleted(completed).Cast<ITaskCardInfo>().ToList();\r\n\r\n}\r\n...\n","filename":"TaskCard.cs","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic class TaskCard : ITaskCardService, ITaskCardInfo\r\n{\r\n    ...\r\n}\r\n\r\npublic class TaskCards : Query<TaskCard>, ITaskCardsService\r\n{\r\n    ...\r\n\r\n    ITaskCardInfo ITaskCardsService.GetTaskCard(int taskCardId) =>\r\n        SingleById(taskCardId);\r\n\r\n    List<ITaskCardInfo> ITaskCardsService.GetTaskCards(bool completed) =>\r\n        ByCompleted(completed).Cast<ITaskCardInfo>().ToList();\r\n\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TodoManager : ITaskCardManagerService\r\n{\r\n    ...\r\n\r\n    ITaskCardInfo ITaskCardManagerService.CreateTaskCard(string name) =>\r\n        CreateTaskCard(name);\r\n\r\n}\r\n...\n","filename":"TodoManager.cs","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic class TodoManager : ITaskCardManagerService\r\n{\r\n    ...\r\n\r\n    ITaskCardInfo ITaskCardManagerService.CreateTaskCard(string name) =>\r\n        CreateTaskCard(name);\r\n\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that we make use of "},{"type":"element","tag":"a","props":{"href":"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/interfaces/explicit-interface-implementation","rel":["nofollow"]},"children":[{"type":"text","value":"Explicit Interface Implementation"}]},{"type":"text","value":" to map\r\ninterface methods to class methods. This is required for methods of service\r\ninterfaces where return type in service interface is different than the\r\nreturn type in implementing class. e.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"text","value":" method returns\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" class, but it returns "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardInfo"}]},{"type":"text","value":" in\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardManagerService"}]},{"type":"text","value":" interface."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And finally add new interfaces to your api package;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCardApi : ICodingStyleConfiguration\r\n{\r\n    public void Configure(ConventionBasedCodingStyle codingStyle, IKernel kernel)\r\n    {\r\n        codingStyle.AddTypes(v => v.ApiPackage(\"TaskCard\", t => t\r\n            .Methods.Add(c => c.Proxy<ITaskCardService>().TargetByParameter<TaskCard>())\r\n            .Methods.Add(c => c.Proxy<ITaskCardsService>().TargetBySingleton(kernel))\r\n            .Methods.Add(c => c.Proxy<ITaskCardManagerService>().TargetBySingleton(kernel))\r\n        ));\r\n    }\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic class TaskCardApi : ICodingStyleConfiguration\r\n{\r\n    public void Configure(ConventionBasedCodingStyle codingStyle, IKernel kernel)\r\n    {\r\n        codingStyle.AddTypes(v => v.ApiPackage(\"TaskCard\", t => t\r\n            .Methods.Add(c => c.Proxy<ITaskCardService>().TargetByParameter<TaskCard>())\r\n            .Methods.Add(c => c.Proxy<ITaskCardsService>().TargetBySingleton(kernel))\r\n            .Methods.Add(c => c.Proxy<ITaskCardManagerService>().TargetBySingleton(kernel))\r\n        ));\r\n    }\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now rebuild and run both "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Rest"}]},{"type":"text","value":" projects."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You now have 4 endpoints to test;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"POST /task-cards/{id}/complete"}]},{"type":"text","value":" mapped to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService.Complete"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /task-cards"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /task-cards?completed={bool}"}]},{"type":"text","value":" mapped to\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardsService.GetTaskCards"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /task-cards/{id}"}]},{"type":"text","value":" mapped to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardsService.GetTaskCard"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"POST /task-cards"}]},{"type":"text","value":" mapped to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardManagerService.CreateTaskCard"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To test 4. endpoint you have to include a JSON request body like below. This\r\nis because "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"text","value":" method accepts a parameter named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"name\": \"task name goes here\"\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\r\n    \"name\": \"task name goes here\"\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"summary"},"children":[{"type":"text","value":"Summary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this section you've learned how to create a Rest API out of your business\r\nservices."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now try to create new persistent objects to enhance your to-do application."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can move to next section to download a complete to-do application."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can download "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/rest-api","rel":["nofollow"]},"children":[{"type":"text","value":"source code for this tutorial"}]}]}]},"position":5,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"rest-api"},"children":[{"type":"text","value":"Rest API"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial, you will create a Rest API and learn about configuration and\r\napi packaging."}]},{"type":"element","tag":"h2","props":{"id":"define-a-service-interface"},"children":[{"type":"text","value":"Define a Service Interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Until now you've created business services for internal use. By internal we\r\nmean that they are supposed to be consumed by your applications only. You can\r\nalways publish your business services directly to outside but this would be\r\nhard for you to maintain and refactor your business code. For this reason, you\r\nwill create an api package out of your business services."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First we will define which services to expose. To do this, create a folder\r\nnamed "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Service"}]},{"type":"text","value":" in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Todo"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"module"}]},{"type":"text","value":" and under this folder create an interface\r\nnamed "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService"}]},{"type":"text","value":" as shown below;"}]},{"type":"element","tag":"code","props":{"code":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       ├── Service\r\n│       │   └── ITaskCardService.cs\r\n│       ├── TodoManager.cs\r\n│       └── TaskCard.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       ├── Service\r\n│       │   └── ITaskCardService.cs\r\n│       ├── TodoManager.cs\r\n│       └── TaskCard.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This interface is a "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"service interface"}]},{"type":"text","value":" and it will contain the methods of\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class that you want to share with the outside world."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now modify "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService"}]},{"type":"text","value":" service interface to include following method;"}]},{"type":"element","tag":"code","props":{"code":"namespace Inventiv.Sample.Module.Todo.Service;\r\n\r\npublic interface ITaskCardService\r\n{\r\n    void Complete();\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"namespace"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Inventiv"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Sample"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Module"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Todo"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Service"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardService"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"Complete"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now go to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard.cs"}]},{"type":"text","value":" file and make your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class implement\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService"}]},{"type":"text","value":" interface as shown below;"}]},{"type":"element","tag":"code","props":{"code":"public class TaskCard : ITaskCardService\r\n{\r\n    ...\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardService"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that you don't have to implement "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Complete"}]},{"type":"text","value":" method, since it is\r\nalready implemented within "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class."}]}]},{"type":"element","tag":"h2","props":{"id":"create-an-api-package"},"children":[{"type":"text","value":"Create an API Package"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create an api package go to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" project and add a class named\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCardApi"}]},{"type":"text","value":" as shown below;"}]},{"type":"element","tag":"code","props":{"code":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   │   └── TaskCardApi.cs\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       ├── Service\r\n│       │   └── ITaskCardService.cs\r\n│       ├── TodoManager.cs\r\n│       └── TaskCard.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"Inventiv.Sample\r\n├── src\r\n│   ├── Inventiv.Sample.App.Rest\r\n│   ├── Inventiv.Sample.App.Service\r\n│   │   └── TaskCardApi.cs\r\n│   └── Inventiv.Sample.Module.Todo\r\n│       ├── Service\r\n│       │   └── ITaskCardService.cs\r\n│       ├── TodoManager.cs\r\n│       └── TaskCard.cs\r\n└── test\r\n    └── Inventiv.Sample.Test.Todo"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And add below code to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCardApi"}]},{"type":"text","value":" class;"}]},{"type":"element","tag":"code","props":{"code":"using Castle.MicroKernel;\r\nusing Gazel.Configuration;\r\nusing Inventiv.Sample.Module.Todo;\r\nusing Inventiv.Sample.Module.Todo.Service;\r\nusing Routine;\r\nusing Routine.Engine.Configuration.ConventionBased;\r\n\r\nnamespace Inventiv.Sample.App.Service;\r\n\r\npublic class TaskCardApi : ICodingStyleConfiguration\r\n{\r\n    public void Configure(ConventionBasedCodingStyle codingStyle, IKernel kernel)\r\n    {\r\n        codingStyle.AddTypes(v => v.ApiPackage(\"TaskCard\", t => t\r\n            .Methods.Add(c => c.Proxy<ITaskCardService>().TargetByParameter<TaskCard>())\r\n        ));\r\n    }\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-712652"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Castle"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"MicroKernel"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-712652"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Gazel"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-712652"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Inventiv"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Sample"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Module"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Todo"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-712652"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Inventiv"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Sample"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Module"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Todo"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Service"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-712652"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Routine"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-712652"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Routine"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Engine"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ConventionBased"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"namespace"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Inventiv"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Sample"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"App"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Service"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"TaskCardApi"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ICodingStyleConfiguration"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"Configure"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ConventionBasedCodingStyle"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"codingStyle"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"IKernel"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"kernel"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"codingStyle"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"AddTypes"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"v"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"v"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"ApiPackage"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-9bf3b0"},"children":[{"type":"text","value":"\"TaskCard\""}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"t"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"Methods"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"Add"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"Proxy"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardService"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"TargetByParameter"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":">())"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"        ));"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With this configuration, you've created a virtual class -which we call "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"api\r\npackage"}]},{"type":"text","value":"- and added all methods in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService"}]},{"type":"text","value":" class to this virtual\r\nclass."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now build and run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" project."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/tutorial/-images/tutorials-rest-api-servicetestui.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you can see, there is a new group called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Api"}]},{"type":"text","value":". Under this group you will\r\nsee a new api package named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService"}]},{"type":"text","value":". You can see that this service\r\npackage is marked as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Virtual"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Web Service"}]},{"type":"text","value":". Under this package there is\r\n'Complete' service."}]},{"type":"element","tag":"h2","props":{"id":"test-your-first-endpoint"},"children":[{"type":"text","value":"Test your first endpoint"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now build and run both "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Rest"}]},{"type":"text","value":" projects."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Rest"}]},{"type":"text","value":" is an application that acts as a gateway to your internal business\r\nservices. It only allows access to the services under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Api"}]},{"type":"text","value":" group."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now your api is in this url;"}]},{"type":"element","tag":"code","props":{"code":"POST http://localhost:{port}/task-cards/{id}/complete\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"POST http://localhost:{port}/task-cards/{id}/complete"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Try your endpoint by making an HTTP request to this URL, and make sure you use\r\nan id value from your test database in place of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{id}"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We used "},{"type":"element","tag":"a","props":{"href":"https://www.getpostman.com","rel":["nofollow"]},"children":[{"type":"text","value":"Postman"}]},{"type":"text","value":" for this test, and the result is shown below;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/tutorial/-images/tutorials-rest-api-postman-result.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"url-breakdown"},"children":[{"type":"text","value":"URL breakdown"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Your api consists of 3 parts;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Resource name in plural - "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"tasks"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Id of the resource - "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"6"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Operation/method name - "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"complete"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Resource name is in plural because you named your web service package after a\r\npersistent class, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"improve-your-api-package"},"children":[{"type":"text","value":"Improve your API Package"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now modify "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService.cs"}]},{"type":"text","value":" file as shown below;"}]},{"type":"element","tag":"code","props":{"code":"namespace Inventiv.Sample.Module.Todo.Service;\r\n\r\npublic interface ITaskCardService\r\n{\r\n    void Complete();\r\n}\r\n\r\npublic interface ITaskCardsService\r\n{\r\n    ITaskCardInfo GetTaskCard(int taskCardId);\r\n    List<ITaskCardInfo> GetTaskCards(bool completed);\r\n}\r\n\r\npublic interface ITaskCardManagerService\r\n{\r\n    ITaskCardInfo CreateTaskCard(string? name);\r\n}\r\n\r\npublic interface ITaskCardInfo\r\n{\r\n    int Id { get; }\r\n    string? Name { get; }\r\n    bool Completed { get; }\r\n}\r\n\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"namespace"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Inventiv"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Sample"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Module"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Todo"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Service"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardService"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"Complete"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardsService"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"GetTaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"taskCardId"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"GetTaskCards"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"completed"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardManagerService"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"? "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardInfo"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"? "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"Completed"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are 3 new interfaces in your service definition;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardsService"}]},{"type":"text","value":" to include services from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCards"}]},{"type":"text","value":" query class."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardManagerService"}]},{"type":"text","value":" to include task card related services from\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" manager class."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardInfo"}]},{"type":"text","value":" to include properties of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" class in responses."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Implement your new interfaces as shown below;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCard : ITaskCardService, ITaskCardInfo\r\n{\r\n    ...\r\n}\r\n\r\npublic class TaskCards : Query<TaskCard>, ITaskCardsService\r\n{\r\n    ...\r\n\r\n    ITaskCardInfo ITaskCardsService.GetTaskCard(int taskCardId) =>\r\n        SingleById(taskCardId);\r\n\r\n    List<ITaskCardInfo> ITaskCardsService.GetTaskCards(bool completed) =>\r\n        ByCompleted(completed).Cast<ITaskCardInfo>().ToList();\r\n\r\n}\r\n...\n","filename":"TaskCard.cs","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardService"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardInfo"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"TaskCards"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":">, "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardsService"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardsService"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"GetTaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"taskCardId"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"SingleById"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"taskCardId"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardsService"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"GetTaskCards"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"completed"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"ByCompleted"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"completed"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"Cast"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"ToList"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TodoManager : ITaskCardManagerService\r\n{\r\n    ...\r\n\r\n    ITaskCardInfo ITaskCardManagerService.CreateTaskCard(string name) =>\r\n        CreateTaskCard(name);\r\n\r\n}\r\n...\n","filename":"TodoManager.cs","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"TodoManager"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardManagerService"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardManagerService"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that we make use of "},{"type":"element","tag":"a","props":{"href":"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/interfaces/explicit-interface-implementation","rel":["nofollow"]},"children":[{"type":"text","value":"Explicit Interface Implementation"}]},{"type":"text","value":" to map\r\ninterface methods to class methods. This is required for methods of service\r\ninterfaces where return type in service interface is different than the\r\nreturn type in implementing class. e.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"text","value":" method returns\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TaskCard"}]},{"type":"text","value":" in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TodoManager"}]},{"type":"text","value":" class, but it returns "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardInfo"}]},{"type":"text","value":" in\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardManagerService"}]},{"type":"text","value":" interface."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And finally add new interfaces to your api package;"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class TaskCardApi : ICodingStyleConfiguration\r\n{\r\n    public void Configure(ConventionBasedCodingStyle codingStyle, IKernel kernel)\r\n    {\r\n        codingStyle.AddTypes(v => v.ApiPackage(\"TaskCard\", t => t\r\n            .Methods.Add(c => c.Proxy<ITaskCardService>().TargetByParameter<TaskCard>())\r\n            .Methods.Add(c => c.Proxy<ITaskCardsService>().TargetBySingleton(kernel))\r\n            .Methods.Add(c => c.Proxy<ITaskCardManagerService>().TargetBySingleton(kernel))\r\n        ));\r\n    }\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"TaskCardApi"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ICodingStyleConfiguration"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cf1937"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"Configure"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ConventionBasedCodingStyle"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"codingStyle"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"IKernel"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"kernel"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"codingStyle"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"AddTypes"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"v"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"v"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"ApiPackage"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-9bf3b0"},"children":[{"type":"text","value":"\"TaskCard\""}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"t"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"t"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"Methods"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"Add"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"Proxy"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardService"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"TargetByParameter"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"TaskCard"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":">())"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"Methods"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"Add"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"Proxy"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardsService"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"TargetBySingleton"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"kernel"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"))"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"Methods"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"Add"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"Proxy"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-ccdff4"},"children":[{"type":"text","value":"ITaskCardManagerService"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-da9ca0"},"children":[{"type":"text","value":"TargetBySingleton"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"kernel"}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"))"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"        ));"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now rebuild and run both "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Rest"}]},{"type":"text","value":" projects."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You now have 4 endpoints to test;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"POST /task-cards/{id}/complete"}]},{"type":"text","value":" mapped to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardService.Complete"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /task-cards"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /task-cards?completed={bool}"}]},{"type":"text","value":" mapped to\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardsService.GetTaskCards"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /task-cards/{id}"}]},{"type":"text","value":" mapped to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardsService.GetTaskCard"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"POST /task-cards"}]},{"type":"text","value":" mapped to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ITaskCardManagerService.CreateTaskCard"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To test 4. endpoint you have to include a JSON request body like below. This\r\nis because "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateTaskCard"}]},{"type":"text","value":" method accepts a parameter named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"name\": \"task name goes here\"\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-e740a6"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-9bf3b0"},"children":[{"type":"text","value":"\"task name goes here\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58d4bc"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"summary"},"children":[{"type":"text","value":"Summary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this section you've learned how to create a Rest API out of your business\r\nservices."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now try to create new persistent objects to enhance your to-do application."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can move to next section to download a complete to-do application."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can download "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/rest-api","rel":["nofollow"]},"children":[{"type":"text","value":"source code for this tutorial"}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-9bf3b0{color:#CE9178}\n.ct-e740a6{color:#9CDCFE}\n.ct-712652{color:#C586C0}\n.ct-da9ca0{color:#DCDCAA}\n.ct-ccdff4{color:#4EC9B0}\n.ct-58d4bc{color:#D4D4D4}\n.ct-cf1937{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"define-a-service-interface","depth":2,"text":"Define a Service Interface"},{"id":"create-an-api-package","depth":2,"text":"Create an API Package"},{"id":"test-your-first-endpoint","depth":2,"text":"Test your first endpoint","children":[{"id":"url-breakdown","depth":3,"text":"URL breakdown"}]},{"id":"improve-your-api-package","depth":2,"text":"Improve your API Package"},{"id":"summary","depth":2,"text":"Summary"}]}},"_type":"markdown","_id":"content:tutorial:rest-api.md","_source":"content","_file":"tutorial/rest-api.md","_extension":"md"},{"_path":"/tutorial/sample-application","_dir":"tutorial","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Sample Application","description":"This tutorial is only a small portion of how you can build a backend solution,\r\nbut there is much more to learn about Gazel.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"sample-application"},"children":[{"type":"text","value":"Sample Application"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This tutorial is only a small portion of how you can build a backend solution,\r\nbut there is much more to learn about Gazel."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can download a complete "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/gazel-samples/tree/main/to-do","rel":["nofollow"]},"children":[{"type":"text","value":"to-do application"}]},{"type":"text","value":" with all endpoints and\r\nfunctionality. Examine it to have a better feeling of how you can build a\r\nsimilar solution."}]},{"type":"element","tag":"h2","props":{"id":"more-reading"},"children":[{"type":"text","value":"More Reading"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can continue to read this documentation to have a deeper understanding of\r\nhow Gazel works."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"/conventions"},"children":[{"type":"text","value":"conventions"}]},{"type":"text","value":" to see all conventions Gazel\r\nexposes."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"/architecture"},"children":[{"type":"text","value":"architecture"}]},{"type":"text","value":" to learn about the underlying\r\narchitectural design."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"/features"},"children":[{"type":"text","value":"features"}]},{"type":"text","value":" to learn what options you have and how\r\nto change the way Gazel behaves."}]}]}]},"position":6,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"sample-application"},"children":[{"type":"text","value":"Sample Application"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This tutorial is only a small portion of how you can build a backend solution,\r\nbut there is much more to learn about Gazel."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can download a complete "},{"type":"element","tag":"a","props":{"href":"https://github.com/multinetinventiv/gazel-samples/tree/main/to-do","rel":["nofollow"]},"children":[{"type":"text","value":"to-do application"}]},{"type":"text","value":" with all endpoints and\r\nfunctionality. Examine it to have a better feeling of how you can build a\r\nsimilar solution."}]},{"type":"element","tag":"h2","props":{"id":"more-reading"},"children":[{"type":"text","value":"More Reading"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can continue to read this documentation to have a deeper understanding of\r\nhow Gazel works."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"/conventions"},"children":[{"type":"text","value":"conventions"}]},{"type":"text","value":" to see all conventions Gazel\r\nexposes."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"/architecture"},"children":[{"type":"text","value":"architecture"}]},{"type":"text","value":" to learn about the underlying\r\narchitectural design."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"/features"},"children":[{"type":"text","value":"features"}]},{"type":"text","value":" to learn what options you have and how\r\nto change the way Gazel behaves."}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"more-reading","depth":2,"text":"More Reading"}]}},"_type":"markdown","_id":"content:tutorial:sample-application.md","_source":"content","_file":"tutorial/sample-application.md","_extension":"md"}]