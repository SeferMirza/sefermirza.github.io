[{"_path":"/features/authentication","_dir":"features","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Authentication","description":"In this section, you will learn about how authentication is implemented in\r\nGazel.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"authentication"},"children":[{"type":"text","value":"Authentication"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this section, you will learn about how authentication is implemented in\r\nGazel."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Authentication is enabled by default in "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Service Application"}]},{"type":"text","value":". All requests\r\nfrom outside of your host project require an token. When you run your\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" project, you will see an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Authorization"}]},{"type":"text","value":" text box in request\r\nheaders section which configures an HTTP authorization header for every\r\nrequest."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/features/-images/authentication-service-test-ui.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/features/-images/authentication-authorization-header.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below you can see a sequence diagram explaining how gazel interacts with\r\nyour code through interfaces;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"/images/features/authentication-1.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can see that for every request;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"It first calls "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetSession()"}]},{"type":"text","value":" to retrieve session object"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Then it invokes "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Validate()"}]},{"type":"text","value":" to enable validation logic"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If everything is ok, it sets your session object to request scope."}]}]},{"type":"element","tag":"h2","props":{"id":"isessionmanager-interface"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISessionManager"}]},{"type":"text","value":" interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When authentication is enabled, Gazel requires an implementation of\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISessionManager"}]},{"type":"text","value":" interface. Once you implement it in any module, it will be\r\nregistered automatically."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISessionManager"}]},{"type":"text","value":" is basically responsible for finding an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession"}]},{"type":"text","value":" instance\r\nfrom a given "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AppToken"}]},{"type":"text","value":". An example implementation is as follows;"}]},{"type":"element","tag":"code","props":{"code":"public class SessionManager : ISessionManager\r\n{\r\n    ...\r\n    public ISession GetSession(AppToken appToken) =>\r\n        _context.Query<Sessions>().SingleByAppToken(appToken);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class SessionManager : ISessionManager\r\n{\r\n    ...\r\n    public ISession GetSession(AppToken appToken) =>\r\n        _context.Query<Sessions>().SingleByAppToken(appToken);\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you don't want "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetSession"}]},{"type":"text","value":" method to be public, you can implement\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISessionManager"}]},{"type":"text","value":" explicitly."}]},{"type":"element","tag":"code","props":{"code":"public class SessionManager : ISessionManager\r\n{\r\n    ...\r\n    private ISession GetSession(AppToken appToken) { ... }\r\n\r\n    ...\r\n\r\n    ISession ISessionManager.GetSession(AppToken appToken) => GetSession(appToken);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class SessionManager : ISessionManager\r\n{\r\n    ...\r\n    private ISession GetSession(AppToken appToken) { ... }\r\n\r\n    ...\r\n\r\n    ISession ISessionManager.GetSession(AppToken appToken) => GetSession(appToken);\r\n    ...\r\n}\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"isession-interface"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession"}]},{"type":"text","value":" interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Just like a web session, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession"}]},{"type":"text","value":" represents a session of a user. Unlike a\r\nweb session it is not stored in cookies nor in a file. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISessionManager"}]},{"type":"text","value":"\r\ncreates it before every request and puts it in the request scope. After every\r\nrequest, session instances are destroyed along with its request."}]},{"type":"element","tag":"code","props":{"code":"public interface ISession\r\n{\r\n    AppToken Token { get; } // The unique identifier of the session\r\n    string Host { get; } // A text to represent client's host if needed\r\n    IAccount Account { get; } // The account that this session is attached to\r\n\r\n    void Validate(); // The method that is invoked before every request\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public interface ISession\r\n{\r\n    AppToken Token { get; } // The unique identifier of the session\r\n    string Host { get; } // A text to represent client's host if needed\r\n    IAccount Account { get; } // The account that this session is attached to\r\n\r\n    void Validate(); // The method that is invoked before every request\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here is an example implementation of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession"}]},{"type":"text","value":" interface;"}]},{"type":"element","tag":"code","props":{"code":"public class Session : ISession\r\n{\r\n    private readonly IRepository<Session> _repository;\r\n    private readonly IModuleContext _context;\r\n\r\n    protected Session() { }\r\n    public Session(IRepository<Session> repository, IModuleContext context)\r\n    {\r\n        _repository = repository;\r\n        _context = context;\r\n    }\r\n\r\n    public virtual int Id { get; protected set; }\r\n    public virtual AppToken Token { get; protected set; }\r\n    public virtual Account Account { get; protected set; }\r\n    public virtual string Host { get; protected set; }\r\n    public virtual DateTime ExpireTime { get; protected set; }\r\n\r\n    protected internal virtual Session With(Account account)\r\n    {\r\n        Account = account;\r\n\r\n        Token = _context.System.NewAppToken();\r\n        Host = _context.Request.Host.ToString();\r\n        ExpireTime = _context.System.Now.AddMinutes(30);\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    protected virtual void Validate()\r\n    {\r\n        if(ExpireTime < _context.System.Now)\r\n        {\r\n            throw new AuthenticationRequiredException();\r\n        }\r\n    }\r\n\r\n    //implemented explicitly to return IAccount\r\n    IAccount ISession.Account => Account;\r\n\r\n    //implemented explicitly to make Validate protected\r\n    void ISession.Validate() => Validate();\r\n}\r\n\r\npublic class Sessions : Query<Session>\r\n{\r\n    public Sessions(IModuleContext context) : base(context) { }\r\n\r\n    internal Session SingleByAppToken(AppToken appToken) =>\r\n        SingleBy(s => s.AppToken == appToken);\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Session : ISession\r\n{\r\n    private readonly IRepository<Session> _repository;\r\n    private readonly IModuleContext _context;\r\n\r\n    protected Session() { }\r\n    public Session(IRepository<Session> repository, IModuleContext context)\r\n    {\r\n        _repository = repository;\r\n        _context = context;\r\n    }\r\n\r\n    public virtual int Id { get; protected set; }\r\n    public virtual AppToken Token { get; protected set; }\r\n    public virtual Account Account { get; protected set; }\r\n    public virtual string Host { get; protected set; }\r\n    public virtual DateTime ExpireTime { get; protected set; }\r\n\r\n    protected internal virtual Session With(Account account)\r\n    {\r\n        Account = account;\r\n\r\n        Token = _context.System.NewAppToken();\r\n        Host = _context.Request.Host.ToString();\r\n        ExpireTime = _context.System.Now.AddMinutes(30);\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    protected virtual void Validate()\r\n    {\r\n        if(ExpireTime < _context.System.Now)\r\n        {\r\n            throw new AuthenticationRequiredException();\r\n        }\r\n    }\r\n\r\n    //implemented explicitly to return IAccount\r\n    IAccount ISession.Account => Account;\r\n\r\n    //implemented explicitly to make Validate protected\r\n    void ISession.Validate() => Validate();\r\n}\r\n\r\npublic class Sessions : Query<Session>\r\n{\r\n    public Sessions(IModuleContext context) : base(context) { }\r\n\r\n    internal Session SingleByAppToken(AppToken appToken) =>\r\n        SingleBy(s => s.AppToken == appToken);\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"iaccount-interface"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAccount"}]},{"type":"text","value":" interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAccount"}]},{"type":"text","value":" represents an account in your application."}]},{"type":"element","tag":"code","props":{"code":"public interface IAccount\r\n{\r\n    int Id { get; } // Id of the account\r\n    string DisplayName { get; } // A text to represent the account\r\n\r\n    // The method that is invoked before every request if authorization is enabled\r\n    bool HasAccess(IResource resource);\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public interface IAccount\r\n{\r\n    int Id { get; } // Id of the account\r\n    string DisplayName { get; } // A text to represent the account\r\n\r\n    // The method that is invoked before every request if authorization is enabled\r\n    bool HasAccess(IResource resource);\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here is an example implementation of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAccount"}]},{"type":"text","value":" interface;"}]},{"type":"element","tag":"code","props":{"code":"public class Account : IAccount\r\n{\r\n    private readonly IRepository<Account> _repository;\r\n    private readonly IModuleContext _context;\r\n\r\n    protected Account() { }\r\n    public Account(IRepository<Account> repository, IModuleContext context)\r\n    {\r\n        _repository = repository;\r\n        _context = context;\r\n    }\r\n\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string FullName { get; protected set; }\r\n\r\n    protected internal virtual Account With(string fullName)\r\n    {\r\n        FullName = fullName;\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    //implemented explicitly to map DisplayName on FullName\r\n    string IAccount.DisplayName => FullName;\r\n\r\n    //give access to everything for this sample\r\n    bool IAccount.HasAccess(IResource resource) => true;\r\n}\r\n\r\npublic class Accounts : Query<Account> { ... }\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Account : IAccount\r\n{\r\n    private readonly IRepository<Account> _repository;\r\n    private readonly IModuleContext _context;\r\n\r\n    protected Account() { }\r\n    public Account(IRepository<Account> repository, IModuleContext context)\r\n    {\r\n        _repository = repository;\r\n        _context = context;\r\n    }\r\n\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string FullName { get; protected set; }\r\n\r\n    protected internal virtual Account With(string fullName)\r\n    {\r\n        FullName = fullName;\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    //implemented explicitly to map DisplayName on FullName\r\n    string IAccount.DisplayName => FullName;\r\n\r\n    //give access to everything for this sample\r\n    bool IAccount.HasAccess(IResource resource) => true;\r\n}\r\n\r\npublic class Accounts : Query<Account> { ... }\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"accessing-user-session"},"children":[{"type":"text","value":"Accessing User Session"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you finish setting up your authentication mechanism, you can access user\r\nsession using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext.Session"}]},{"type":"text","value":" property."}]},{"type":"element","tag":"code","props":{"code":"public class CompanyManager\r\n{\r\n    private readonly IModuleContext _context;\r\n\r\n    public CompanyManager(IModuleContext context)\r\n    {\r\n        _context = context;\r\n    }\r\n\r\n    public Company CreateCompany(string name)\r\n    {\r\n        return _context.New<Company>().With(\r\n           name: name,\r\n           createdBy: _context.Session.Account.DisplayName\r\n        );\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class CompanyManager\r\n{\r\n    private readonly IModuleContext _context;\r\n\r\n    public CompanyManager(IModuleContext context)\r\n    {\r\n        _context = context;\r\n    }\r\n\r\n    public Company CreateCompany(string name)\r\n    {\r\n        return _context.New<Company>().With(\r\n           name: name,\r\n           createdBy: _context.Session.Account.DisplayName\r\n        );\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"overriding-current-session"},"children":[{"type":"text","value":"Overriding Current Session"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may need to override the session in some specific cases. You can use\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext.OverrideSession"}]},{"type":"text","value":" method as shown below."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    private readonly IRepository<Company> _repository;\r\n    private readonly IModuleContext _context;\r\n\r\n    protected Company() { }\r\n    public Company(IRepository<Company> repository, IModuleContext context)\r\n    {\r\n        _repository = repository;\r\n        _context = context;\r\n    }\r\n\r\n    protected internal virtual Company With(string name, string address)\r\n    {\r\n        //this level uses current session\r\n\r\n        //assume we need an admin session here\r\n        var adminSession = _context.New<Session>().WithAdminRights();\r\n\r\n        _context.OverrideSession(adminSession, () =>\r\n        {\r\n            //here _context.Session returns adminSession\r\n\r\n            //do some admin stuff\r\n        });\r\n\r\n        //back to current session\r\n\r\n        Name = name;\r\n        Address = address;\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Company\r\n{\r\n    private readonly IRepository<Company> _repository;\r\n    private readonly IModuleContext _context;\r\n\r\n    protected Company() { }\r\n    public Company(IRepository<Company> repository, IModuleContext context)\r\n    {\r\n        _repository = repository;\r\n        _context = context;\r\n    }\r\n\r\n    protected internal virtual Company With(string name, string address)\r\n    {\r\n        //this level uses current session\r\n\r\n        //assume we need an admin session here\r\n        var adminSession = _context.New<Session>().WithAdminRights();\r\n\r\n        _context.OverrideSession(adminSession, () =>\r\n        {\r\n            //here _context.Session returns adminSession\r\n\r\n            //do some admin stuff\r\n        });\r\n\r\n        //back to current session\r\n\r\n        Name = name;\r\n        Address = address;\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"OverrideSession"}]},{"type":"text","value":" can be used nested. After each "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"OverrideSession"}]},{"type":"text","value":" block\r\nends, previous session becomes accessible."}]},{"type":"element","tag":"code","props":{"code":"...\r\nprotected internal virtual Company With(string name, string address)\r\n{\r\n    //this level uses current session\r\n    _context.OverrideSession(innerSession, () =>\r\n    {\r\n        //this level uses inner session\r\n        _context.OverrideSession(nestedSession, () =>\r\n        {\r\n            //this level uses nested session\r\n        });\r\n    });\r\n\r\n    //this level uses current session\r\n    return this;\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\nprotected internal virtual Company With(string name, string address)\r\n{\r\n    //this level uses current session\r\n    _context.OverrideSession(innerSession, () =>\r\n    {\r\n        //this level uses inner session\r\n        _context.OverrideSession(nestedSession, () =>\r\n        {\r\n            //this level uses nested session\r\n        });\r\n    });\r\n\r\n    //this level uses current session\r\n    return this;\r\n}\r\n...\n"}]}]}]}]}]},"position":1,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"authentication"},"children":[{"type":"text","value":"Authentication"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this section, you will learn about how authentication is implemented in\r\nGazel."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Authentication is enabled by default in "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Service Application"}]},{"type":"text","value":". All requests\r\nfrom outside of your host project require an token. When you run your\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"App.Service"}]},{"type":"text","value":" project, you will see an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Authorization"}]},{"type":"text","value":" text box in request\r\nheaders section which configures an HTTP authorization header for every\r\nrequest."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/features/-images/authentication-service-test-ui.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/features/-images/authentication-authorization-header.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below you can see a sequence diagram explaining how gazel interacts with\r\nyour code through interfaces;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"/images/features/authentication-1.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can see that for every request;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"It first calls "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetSession()"}]},{"type":"text","value":" to retrieve session object"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Then it invokes "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Validate()"}]},{"type":"text","value":" to enable validation logic"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If everything is ok, it sets your session object to request scope."}]}]},{"type":"element","tag":"h2","props":{"id":"isessionmanager-interface"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISessionManager"}]},{"type":"text","value":" interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When authentication is enabled, Gazel requires an implementation of\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISessionManager"}]},{"type":"text","value":" interface. Once you implement it in any module, it will be\r\nregistered automatically."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISessionManager"}]},{"type":"text","value":" is basically responsible for finding an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession"}]},{"type":"text","value":" instance\r\nfrom a given "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AppToken"}]},{"type":"text","value":". An example implementation is as follows;"}]},{"type":"element","tag":"code","props":{"code":"public class SessionManager : ISessionManager\r\n{\r\n    ...\r\n    public ISession GetSession(AppToken appToken) =>\r\n        _context.Query<Sessions>().SingleByAppToken(appToken);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"SessionManager"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"ISessionManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"ISession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"GetSession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"AppToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"appToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Sessions"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"SingleByAppToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"appToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you don't want "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetSession"}]},{"type":"text","value":" method to be public, you can implement\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISessionManager"}]},{"type":"text","value":" explicitly."}]},{"type":"element","tag":"code","props":{"code":"public class SessionManager : ISessionManager\r\n{\r\n    ...\r\n    private ISession GetSession(AppToken appToken) { ... }\r\n\r\n    ...\r\n\r\n    ISession ISessionManager.GetSession(AppToken appToken) => GetSession(appToken);\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"SessionManager"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"ISessionManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"ISession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"GetSession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"AppToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"appToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":") { ... }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"ISession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"ISessionManager"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"GetSession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"AppToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"appToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"GetSession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"appToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"isession-interface"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession"}]},{"type":"text","value":" interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Just like a web session, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession"}]},{"type":"text","value":" represents a session of a user. Unlike a\r\nweb session it is not stored in cookies nor in a file. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISessionManager"}]},{"type":"text","value":"\r\ncreates it before every request and puts it in the request scope. After every\r\nrequest, session instances are destroyed along with its request."}]},{"type":"element","tag":"code","props":{"code":"public interface ISession\r\n{\r\n    AppToken Token { get; } // The unique identifier of the session\r\n    string Host { get; } // A text to represent client's host if needed\r\n    IAccount Account { get; } // The account that this session is attached to\r\n\r\n    void Validate(); // The method that is invoked before every request\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"ISession"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"AppToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Token"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; } "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"// The unique identifier of the session"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Host"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; } "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"// A text to represent client's host if needed"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IAccount"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; } "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"// The account that this session is attached to"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Validate"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"(); "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"// The method that is invoked before every request"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here is an example implementation of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISession"}]},{"type":"text","value":" interface;"}]},{"type":"element","tag":"code","props":{"code":"public class Session : ISession\r\n{\r\n    private readonly IRepository<Session> _repository;\r\n    private readonly IModuleContext _context;\r\n\r\n    protected Session() { }\r\n    public Session(IRepository<Session> repository, IModuleContext context)\r\n    {\r\n        _repository = repository;\r\n        _context = context;\r\n    }\r\n\r\n    public virtual int Id { get; protected set; }\r\n    public virtual AppToken Token { get; protected set; }\r\n    public virtual Account Account { get; protected set; }\r\n    public virtual string Host { get; protected set; }\r\n    public virtual DateTime ExpireTime { get; protected set; }\r\n\r\n    protected internal virtual Session With(Account account)\r\n    {\r\n        Account = account;\r\n\r\n        Token = _context.System.NewAppToken();\r\n        Host = _context.Request.Host.ToString();\r\n        ExpireTime = _context.System.Now.AddMinutes(30);\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    protected virtual void Validate()\r\n    {\r\n        if(ExpireTime < _context.System.Now)\r\n        {\r\n            throw new AuthenticationRequiredException();\r\n        }\r\n    }\r\n\r\n    //implemented explicitly to return IAccount\r\n    IAccount ISession.Account => Account;\r\n\r\n    //implemented explicitly to make Validate protected\r\n    void ISession.Validate() => Validate();\r\n}\r\n\r\npublic class Sessions : Query<Session>\r\n{\r\n    public Sessions(IModuleContext context) : base(context) { }\r\n\r\n    internal Session SingleByAppToken(AppToken appToken) =>\r\n        SingleBy(s => s.AppToken == appToken);\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Session"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"ISession"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IRepository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Session"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Session"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"() { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Session"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IRepository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Session"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"AppToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Token"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Host"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"DateTime"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"ExpireTime"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Session"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Token"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"System"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"NewAppToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Host"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Request"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Host"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"ToString"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"ExpireTime"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"System"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Now"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"AddMinutes"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-accf9e"},"children":[{"type":"text","value":"30"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Insert"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-6af934"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Validate"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-6af934"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"ExpireTime"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" < "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"System"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Now"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-6af934"},"children":[{"type":"text","value":"throw"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"AuthenticationRequiredException"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"//implemented explicitly to return IAccount"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IAccount"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"ISession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"//implemented explicitly to make Validate protected"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"ISession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Validate"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"() => "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Validate"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Sessions"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Session"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Sessions"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":") : "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":") { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Session"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"SingleByAppToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"AppToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"appToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"SingleBy"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"s"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"s"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"AppToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"appToken"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"iaccount-interface"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAccount"}]},{"type":"text","value":" interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAccount"}]},{"type":"text","value":" represents an account in your application."}]},{"type":"element","tag":"code","props":{"code":"public interface IAccount\r\n{\r\n    int Id { get; } // Id of the account\r\n    string DisplayName { get; } // A text to represent the account\r\n\r\n    // The method that is invoked before every request if authorization is enabled\r\n    bool HasAccess(IResource resource);\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IAccount"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; } "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"// Id of the account"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"DisplayName"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; } "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"// A text to represent the account"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"// The method that is invoked before every request if authorization is enabled"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"HasAccess"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IResource"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"resource"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here is an example implementation of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAccount"}]},{"type":"text","value":" interface;"}]},{"type":"element","tag":"code","props":{"code":"public class Account : IAccount\r\n{\r\n    private readonly IRepository<Account> _repository;\r\n    private readonly IModuleContext _context;\r\n\r\n    protected Account() { }\r\n    public Account(IRepository<Account> repository, IModuleContext context)\r\n    {\r\n        _repository = repository;\r\n        _context = context;\r\n    }\r\n\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string FullName { get; protected set; }\r\n\r\n    protected internal virtual Account With(string fullName)\r\n    {\r\n        FullName = fullName;\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    //implemented explicitly to map DisplayName on FullName\r\n    string IAccount.DisplayName => FullName;\r\n\r\n    //give access to everything for this sample\r\n    bool IAccount.HasAccess(IResource resource) => true;\r\n}\r\n\r\npublic class Accounts : Query<Account> { ... }\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IAccount"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IRepository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"() { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IRepository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"FullName"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"fullName"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"FullName"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"fullName"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Insert"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-6af934"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"//implemented explicitly to map DisplayName on FullName"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IAccount"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"DisplayName"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"FullName"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"//give access to everything for this sample"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IAccount"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"HasAccess"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IResource"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"resource"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Accounts"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Query"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"> { ... }"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"accessing-user-session"},"children":[{"type":"text","value":"Accessing User Session"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you finish setting up your authentication mechanism, you can access user\r\nsession using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext.Session"}]},{"type":"text","value":" property."}]},{"type":"element","tag":"code","props":{"code":"public class CompanyManager\r\n{\r\n    private readonly IModuleContext _context;\r\n\r\n    public CompanyManager(IModuleContext context)\r\n    {\r\n        _context = context;\r\n    }\r\n\r\n    public Company CreateCompany(string name)\r\n    {\r\n        return _context.New<Company>().With(\r\n           name: name,\r\n           createdBy: _context.Session.Account.DisplayName\r\n        );\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"CompanyManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"CompanyManager"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"CreateCompany"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-6af934"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"New"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"           "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"           "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"createdBy"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Session"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"DisplayName"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        );"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"overriding-current-session"},"children":[{"type":"text","value":"Overriding Current Session"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may need to override the session in some specific cases. You can use\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext.OverrideSession"}]},{"type":"text","value":" method as shown below."}]},{"type":"element","tag":"code","props":{"code":"public class Company\r\n{\r\n    private readonly IRepository<Company> _repository;\r\n    private readonly IModuleContext _context;\r\n\r\n    protected Company() { }\r\n    public Company(IRepository<Company> repository, IModuleContext context)\r\n    {\r\n        _repository = repository;\r\n        _context = context;\r\n    }\r\n\r\n    protected internal virtual Company With(string name, string address)\r\n    {\r\n        //this level uses current session\r\n\r\n        //assume we need an admin session here\r\n        var adminSession = _context.New<Session>().WithAdminRights();\r\n\r\n        _context.OverrideSession(adminSession, () =>\r\n        {\r\n            //here _context.Session returns adminSession\r\n\r\n            //do some admin stuff\r\n        });\r\n\r\n        //back to current session\r\n\r\n        Name = name;\r\n        Address = address;\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Company"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IRepository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"() { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IRepository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"address"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"//this level uses current session"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"//assume we need an admin session here"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"adminSession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"New"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Session"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":">()."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"WithAdminRights"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"OverrideSession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"adminSession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":", () =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"//here _context.Session returns adminSession"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"//do some admin stuff"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"//back to current session"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"Address"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"address"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"Insert"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-6af934"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"OverrideSession"}]},{"type":"text","value":" can be used nested. After each "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"OverrideSession"}]},{"type":"text","value":" block\r\nends, previous session becomes accessible."}]},{"type":"element","tag":"code","props":{"code":"...\r\nprotected internal virtual Company With(string name, string address)\r\n{\r\n    //this level uses current session\r\n    _context.OverrideSession(innerSession, () =>\r\n    {\r\n        //this level uses inner session\r\n        _context.OverrideSession(nestedSession, () =>\r\n        {\r\n            //this level uses nested session\r\n        });\r\n    });\r\n\r\n    //this level uses current session\r\n    return this;\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-341e4b"},"children":[{"type":"text","value":"Company"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"address"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"//this level uses current session"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"OverrideSession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"innerSession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":", () =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"//this level uses inner session"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-130ad2"},"children":[{"type":"text","value":"OverrideSession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5f4e4a"},"children":[{"type":"text","value":"nestedSession"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":", () =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"//this level uses nested session"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"        });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c7e83b"},"children":[{"type":"text","value":"//this level uses current session"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-6af934"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d6bcb8"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-521b6d"},"children":[{"type":"text","value":"..."}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-6af934{color:#C586C0}\n.ct-accf9e{color:#B5CEA8}\n.ct-c7e83b{color:#6A9955}\n.ct-5f4e4a{color:#9CDCFE}\n.ct-130ad2{color:#DCDCAA}\n.ct-341e4b{color:#4EC9B0}\n.ct-521b6d{color:#D4D4D4}\n.ct-d6bcb8{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"isessionmanager-interface","depth":2,"text":"ISessionManager interface"},{"id":"isession-interface","depth":2,"text":"ISession interface"},{"id":"iaccount-interface","depth":2,"text":"IAccount interface"},{"id":"accessing-user-session","depth":2,"text":"Accessing User Session"},{"id":"overriding-current-session","depth":2,"text":"Overriding Current Session"}]}},"_type":"markdown","_id":"content:features:authentication.md","_source":"content","_file":"features/authentication.md","_extension":"md"},{"_path":"/features/concurrency-limiter","_dir":"features","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Concurrency Limiter","description":"Concurrency limiter provides a way to limit number of requests that are being\r\nhandled in parallel. To make this happen, Gazel makes use of\r\nMicrosoft.AspNetCore.ConcurrencyLimiter\r\npackage.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"concurrency-limiter"},"children":[{"type":"text","value":"Concurrency Limiter"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Concurrency limiter provides a way to limit number of requests that are being\r\nhandled in parallel. To make this happen, Gazel makes use of\r\n"},{"type":"element","tag":"a","props":{"href":"https://www.nuget.org/packages/Microsoft.AspNetCore.ConcurrencyLimiter","rel":["nofollow"]},"children":[{"type":"text","value":"Microsoft.AspNetCore.ConcurrencyLimiter"}]},{"type":"text","value":"\r\npackage."}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are two main settings;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"MaxConcurrentRequests"}]},{"type":"text","value":": Maximum number of concurrent requests allowed from\r\noutside of the application. Default is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20"}]},{"type":"text","value":". Your application will still be\r\nable to accept "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"context.Remote"}]},{"type":"text","value":" and queue callback requests internally."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"RequestQueueLimit"}]},{"type":"text","value":": This is the limit of your wait queue. Default is\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1000"}]},{"type":"text","value":". When exceeded, your application will reject further requests with\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"503 Service Unavailable"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below is a sample configuration;"}]},{"type":"element","tag":"code","props":{"code":"builder.Services.AddGazelServiceApplication(\r\n    ...\r\n    concurrencyLimiter: c => c.AspNetCore(\r\n        maxConcurrentRequests: 20,\r\n        requestQueueLimit: 1000\r\n    ),\r\n    ...\r\n);\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"builder.Services.AddGazelServiceApplication(\r\n    ...\r\n    concurrencyLimiter: c => c.AspNetCore(\r\n        maxConcurrentRequests: 20,\r\n        requestQueueLimit: 1000\r\n    ),\r\n    ...\r\n);\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may want to reduce the number of concurrent requests for development\r\nenvironment. To achieve this you can use settings file;"}]},{"type":"element","tag":"code","props":{"code":"concurrencyLimiter: c => c.AspNetCore(\r\n    maxConcurrentRequests: cfg.Setting(\"ConcurrencyLimiter\", 20)\r\n),\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"concurrencyLimiter: c => c.AspNetCore(\r\n    maxConcurrentRequests: cfg.Setting(\"ConcurrencyLimiter\", 20)\r\n),\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"thread-count-calculation"},"children":[{"type":"text","value":"Thread Count Calculation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Number of minimum threads is calculated using given "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MaxConcurrentRequests"}]},{"type":"text","value":"\r\nvalue. For "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20"}]},{"type":"text","value":" concurrent requests;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Min threads is set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"40"}]},{"type":"text","value":" worker, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"80"}]},{"type":"text","value":" completion port threads"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Max threads is set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"80"}]},{"type":"text","value":" worker, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"160"}]},{"type":"text","value":" completion port threads"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This way we ensure that your application handles async call returns, internal\r\nremote & system calls and internal queue callbak requests for every request\r\nfrom outside."}]}]},"position":4,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"concurrency-limiter"},"children":[{"type":"text","value":"Concurrency Limiter"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Concurrency limiter provides a way to limit number of requests that are being\r\nhandled in parallel. To make this happen, Gazel makes use of\r\n"},{"type":"element","tag":"a","props":{"href":"https://www.nuget.org/packages/Microsoft.AspNetCore.ConcurrencyLimiter","rel":["nofollow"]},"children":[{"type":"text","value":"Microsoft.AspNetCore.ConcurrencyLimiter"}]},{"type":"text","value":"\r\npackage."}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are two main settings;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"MaxConcurrentRequests"}]},{"type":"text","value":": Maximum number of concurrent requests allowed from\r\noutside of the application. Default is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20"}]},{"type":"text","value":". Your application will still be\r\nable to accept "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"context.Remote"}]},{"type":"text","value":" and queue callback requests internally."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"RequestQueueLimit"}]},{"type":"text","value":": This is the limit of your wait queue. Default is\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1000"}]},{"type":"text","value":". When exceeded, your application will reject further requests with\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"503 Service Unavailable"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below is a sample configuration;"}]},{"type":"element","tag":"code","props":{"code":"builder.Services.AddGazelServiceApplication(\r\n    ...\r\n    concurrencyLimiter: c => c.AspNetCore(\r\n        maxConcurrentRequests: 20,\r\n        requestQueueLimit: 1000\r\n    ),\r\n    ...\r\n);\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fea2b9"},"children":[{"type":"text","value":"builder"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-fea2b9"},"children":[{"type":"text","value":"Services"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-b93e5b"},"children":[{"type":"text","value":"AddGazelServiceApplication"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-fea2b9"},"children":[{"type":"text","value":"concurrencyLimiter"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-fea2b9"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-fea2b9"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-b93e5b"},"children":[{"type":"text","value":"AspNetCore"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-fea2b9"},"children":[{"type":"text","value":"maxConcurrentRequests"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-28cbee"},"children":[{"type":"text","value":"20"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-fea2b9"},"children":[{"type":"text","value":"requestQueueLimit"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-28cbee"},"children":[{"type":"text","value":"1000"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"    ),"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":");"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may want to reduce the number of concurrent requests for development\r\nenvironment. To achieve this you can use settings file;"}]},{"type":"element","tag":"code","props":{"code":"concurrencyLimiter: c => c.AspNetCore(\r\n    maxConcurrentRequests: cfg.Setting(\"ConcurrencyLimiter\", 20)\r\n),\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b6363"},"children":[{"type":"text","value":"concurrencyLimiter"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-fea2b9"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-fea2b9"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-b93e5b"},"children":[{"type":"text","value":"AspNetCore"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-fea2b9"},"children":[{"type":"text","value":"maxConcurrentRequests"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-fea2b9"},"children":[{"type":"text","value":"cfg"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-b93e5b"},"children":[{"type":"text","value":"Setting"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-9686cb"},"children":[{"type":"text","value":"\"ConcurrencyLimiter\""}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-28cbee"},"children":[{"type":"text","value":"20"}]},{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-88e5fb"},"children":[{"type":"text","value":"),"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"thread-count-calculation"},"children":[{"type":"text","value":"Thread Count Calculation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Number of minimum threads is calculated using given "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MaxConcurrentRequests"}]},{"type":"text","value":"\r\nvalue. For "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20"}]},{"type":"text","value":" concurrent requests;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Min threads is set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"40"}]},{"type":"text","value":" worker, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"80"}]},{"type":"text","value":" completion port threads"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Max threads is set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"80"}]},{"type":"text","value":" worker, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"160"}]},{"type":"text","value":" completion port threads"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This way we ensure that your application handles async call returns, internal\r\nremote & system calls and internal queue callbak requests for every request\r\nfrom outside."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-9686cb{color:#CE9178}\n.ct-7b6363{color:#C8C8C8}\n.ct-28cbee{color:#B5CEA8}\n.ct-b93e5b{color:#DCDCAA}\n.ct-88e5fb{color:#D4D4D4}\n.ct-fea2b9{color:#9CDCFE}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration","depth":2,"text":"Configuration"},{"id":"thread-count-calculation","depth":2,"text":"Thread Count Calculation"}]}},"_type":"markdown","_id":"content:features:concurrency-limiter.md","_source":"content","_file":"features/concurrency-limiter.md","_extension":"md"},{"_path":"/features/crypto","_dir":"features","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Crypto","description":"Crypto feature provides a basic encryption/decryption capability to store\r\nsensitive data in configuration file or database. It also provides an API to be\r\nused in accepting an input in a more secure way. Let's dive in to see how you\r\ncan use this feature to make your back-end functionality more secure.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"crypto"},"children":[{"type":"text","value":"Crypto"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Crypto feature provides a basic encryption/decryption capability to store\r\nsensitive data in configuration file or database. It also provides an API to be\r\nused in accepting an input in a more secure way. Let's dive in to see how you\r\ncan use this feature to make your back-end functionality more secure."}]},{"type":"element","tag":"h2","props":{"id":"crypto-api"},"children":[{"type":"text","value":"Crypto API"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This API consists of two main types "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ICryptographer"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":"\r\nproviding ways to encrypt/decrypt data and represent encrypted data,\r\nrespectively."}]},{"type":"element","tag":"h3","props":{"id":"icryptographer-interface"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ICryptographer"}]},{"type":"text","value":" interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This interface is a gateway facade to an underlying security mechanism provided\r\nby .NET. Behind the scenes, this interface uses a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X.509"}]},{"type":"text","value":" certificate with a an\r\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"public / private key pair"}]},{"type":"text","value":" (for more information see "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/X.509","rel":["nofollow"]},"children":[{"type":"text","value":"X.509"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/RSA_(cryptosystem)","rel":["nofollow"]},"children":[{"type":"text","value":"RSA"}]},{"type":"text","value":").\r\nThis way you can make use of asymmetric encryption where needed. There are two\r\ntypes of usage; "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Encrypt / Decrypt"}]},{"type":"text","value":" and "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Sign / Verify"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h4","props":{"id":"encrypt-decrypt"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Encrypt"}]},{"type":"text","value":" & "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Decrypt"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First and most basic type of usage is to encrypt data using the public key, and\r\ndecrypt it using the private key. For example, you can use this to encrypt\r\nsensitive data to save it in somewhere unsafe so that you can retrieve and\r\ndecrypt it later."}]},{"type":"element","tag":"code","props":{"code":"public class CryptoManager\r\n{\r\n    private readonly ICryptographer _crypto;\r\n    public FileManager(ICryptographer crypto) => _crypto = crypto;\r\n\r\n    public Binary GetSensitiveData()\r\n    {\r\n        var sensitive = \"something to hide\".ToUtf8Binary();\r\n\r\n        return _crypto.Encrypt(sensitive);\r\n    }\r\n\r\n    public bool CheckSensitiveData(Binary binary)\r\n    {\r\n        var sensitive = _crypto.Decrypt(binary).ToUtf8String();\r\n\r\n        return sensitive == \"something to hide\";\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class CryptoManager\r\n{\r\n    private readonly ICryptographer _crypto;\r\n    public FileManager(ICryptographer crypto) => _crypto = crypto;\r\n\r\n    public Binary GetSensitiveData()\r\n    {\r\n        var sensitive = \"something to hide\".ToUtf8Binary();\r\n\r\n        return _crypto.Encrypt(sensitive);\r\n    }\r\n\r\n    public bool CheckSensitiveData(Binary binary)\r\n    {\r\n        var sensitive = _crypto.Decrypt(binary).ToUtf8String();\r\n\r\n        return sensitive == \"something to hide\";\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may share your public key with the outside world so that anyone with this\r\nkey can encrypt and send a sensitive information which can only be decrypted\r\nby your back-end system."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ICryptographer"}]},{"type":"text","value":" also has helper methods to make string conversions easier."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic string GetSensitiveData()\r\n{\r\n    // returns base64 representation of encrypted binary\r\n    return _crypto.Encrypt(\"something to hide\");\r\n}\r\n\r\npublic bool CheckSensitiveData(string encryptedSensitive)\r\n{\r\n    return _crypto.DecryptUnsecure(encryptedSensitive) == \"something to hide\";\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic string GetSensitiveData()\r\n{\r\n    // returns base64 representation of encrypted binary\r\n    return _crypto.Encrypt(\"something to hide\");\r\n}\r\n\r\npublic bool CheckSensitiveData(string encryptedSensitive)\r\n{\r\n    return _crypto.DecryptUnsecure(encryptedSensitive) == \"something to hide\";\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above code uses "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"DecryptUnsecure"}]},{"type":"text","value":" method, which returns a regular string\r\nobject. There is also a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Decrypt"}]},{"type":"text","value":" method which returns a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":".\r\n"},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/dotnet/api/system.security.securestring","rel":["nofollow"]},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":" is a class that encrypts given string with a symmetric key and\r\nstores in memory so that a it is safely kept in memory."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic bool CheckSensitiveData(string encryptedSensitive)\r\n{\r\n    var sensitive = _crypto.Decrypt(encryptedSensitive);\r\n\r\n    return sensitive.Decrypt() == \"something to hide\";\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic bool CheckSensitiveData(string encryptedSensitive)\r\n{\r\n    var sensitive = _crypto.Decrypt(encryptedSensitive);\r\n\r\n    return sensitive.Decrypt() == \"something to hide\";\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that data is decrypted twice; first time it is done by using your X.509\r\ncertificate, second time it is done on "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":" object by using a\r\nsymmetric key that .NET generates."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This code is for demonstration purposes only. In a real life case you might\r\nkeep your sensitive data in a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":" object, and pass it to a method\r\nas a parameter or store in a property. This way it will be less likely to be\r\nexposed. Decrypt a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":" right before you use it in your code."}]}]},{"type":"element","tag":"h4","props":{"id":"sign-verify"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Sign"}]},{"type":"text","value":" & "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Verify"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Sign & verify"}]},{"type":"text","value":" is like the opposite usage of "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"encrypt & decrypt"}]},{"type":"text","value":". Decryption\r\ncan only happen on the side that has the private key, which is back-end side in\r\nthis case. So encryption is made with a public key, decryption is made with the\r\ncorresponding private key."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"On the contrary, here, signing is done using a private key, and verifying is\r\ndone using its corresponding public key. So in this usage it's not about hiding\r\ninformation from outside, rather it's about signing data to make it possible\r\nfor retrievers to verify that data is signed by, thus coming from, the trusted\r\nsource."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic string[] GetSignedData()\r\n{\r\n    var sensitive = \"something to be signed\";\r\n\r\n    var hasher = HashAlgorithm.Create(\"SHA256\");\r\n    hasher.ComputeHash(sensitive.ToUtf8Binary());\r\n\r\n    // Signing is done using the private key\r\n    var signature = _crypto.Sign(hasher.Hash, \"SHA256\");\r\n\r\n    return new[] { sensitive, signature };\r\n}\r\n\r\npublic bool Verify(string[] signedData)\r\n{\r\n    var sensitive = signedData[0];\r\n    var signature = signedData[1];\r\n\r\n    var hasher = HashAlgorithm.Create(\"SHA256\");\r\n    hasher.ComputeHash(sensitive.ToUtf8Binary());\r\n\r\n    // Verification is done with the public key\r\n    return _crypto.Verify(hasher.Hash, \"SHA256\", signature);\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic string[] GetSignedData()\r\n{\r\n    var sensitive = \"something to be signed\";\r\n\r\n    var hasher = HashAlgorithm.Create(\"SHA256\");\r\n    hasher.ComputeHash(sensitive.ToUtf8Binary());\r\n\r\n    // Signing is done using the private key\r\n    var signature = _crypto.Sign(hasher.Hash, \"SHA256\");\r\n\r\n    return new[] { sensitive, signature };\r\n}\r\n\r\npublic bool Verify(string[] signedData)\r\n{\r\n    var sensitive = signedData[0];\r\n    var signature = signedData[1];\r\n\r\n    var hasher = HashAlgorithm.Create(\"SHA256\");\r\n    hasher.ComputeHash(sensitive.ToUtf8Binary());\r\n\r\n    // Verification is done with the public key\r\n    return _crypto.Verify(hasher.Hash, \"SHA256\", signature);\r\n}\r\n...\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sign and verify is used in "},{"type":"element","tag":"a","props":{"href":"/features#secure-call"},"children":[{"type":"text","value":"Secure Call"}]},{"type":"text","value":" feature, where\r\nresponse values are used to compute a hash to be signed so that client can\r\nverify and trust response."}]}]},{"type":"element","tag":"h3","props":{"id":"encryptedstring-struct"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" struct"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This struct acts like a wrapper type for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":" class from .NET, (see\r\n"},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/dotnet/api/system.security.securestring","rel":["nofollow"]},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":"). It conforms to the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"parseable value type"}]},{"type":"text","value":" convention just\r\nlike rest of the value types from "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Gazel.Primitives"}]},{"type":"text","value":" package. There are three ways to\r\ncreate an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" instance."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Parse"}]},{"type":"text","value":" method, when you have a plain string object;"},{"type":"element","tag":"code","props":{"code":"var encrypted = EncryptedString.Parse(\"something sensitive\");\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var encrypted = EncryptedString.Parse(\"something sensitive\");\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FromEncrypted"}]},{"type":"text","value":" method, when you have an encrypted value;"},{"type":"element","tag":"code","props":{"code":"var encrypted = EncryptedString.FromEncrypted(encryptedBinary, b => _crypto.DecryptUnsecure(b));\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var encrypted = EncryptedString.FromEncrypted(encryptedBinary, b => _crypto.DecryptUnsecure(b));\n"}]}]}]},{"type":"text","value":"Second parameter is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"decryptDelegate"}]},{"type":"text","value":" in case "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString.Decrypt"}]},{"type":"text","value":" or\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Encrypted.ToString()"}]},{"type":"text","value":" method are called on this instance. Without a decrypt\r\ndelegate it would not be able to decrpyt its value."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Use a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":" instance. You can cast it to an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":";"},{"type":"element","tag":"code","props":{"code":"var encrypted = (EncryptedString)secureString;\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var encrypted = (EncryptedString)secureString;\n"}]}]}]},{"type":"text","value":"or use constructor;"},{"type":"element","tag":"code","props":{"code":"var encrypted = new EncryptedString(secureString);\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var encrypted = new EncryptedString(secureString);\n"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This struct either stores given encrypted binary value, or a secure string\r\ninstance so that sensitive information is securly kept in memory. You may read\r\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/dotnet/api/system.security.securestring#HowSecure","rel":["nofollow"]},"children":[{"type":"text","value":"How secure is SecureString"}]}]},{"type":"text","value":" section from .NET documentation to learn more."}]},{"type":"element","tag":"h4","props":{"id":"mapping-to-a-table-column"},"children":[{"type":"text","value":"Mapping to a Table Column"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can map "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" just like any other value type."}]},{"type":"element","tag":"code","props":{"code":"public class Secret\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string Name { get; protected set; }\r\n    public virtual EncryptedString Value { get; protected set; }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Secret\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string Name { get; protected set; }\r\n    public virtual EncryptedString Value { get; protected set; }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you intend to use an encrypted string property, "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"please read"}]},{"type":"text","value":" below\r\ninformation carefully;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Only encrypted binary value is stored in database so that nobody can see the\r\nvalue without a proper certificate. So it is "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"highly recommended"}]},{"type":"text","value":" for you\r\nto use a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"different"}]},{"type":"text","value":" certificate for each environment ("},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Development"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Production"}]},{"type":"text","value":" etc.), and "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"never"}]},{"type":"text","value":" expose private key of your "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Production"}]},{"type":"text","value":"\r\ncertificate to the people that have access to your production database."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Value is not decrypted until you explicitly call "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Decrypt"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ToString"}]},{"type":"text","value":".\r\nThis is because decryption is costly and retrieving a list of persistent\r\nobjects should not decrypt automatically. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"DataAccessLayer"}]},{"type":"text","value":" uses\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FromEncrypted"}]},{"type":"text","value":" method to create "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" instances when data is\r\nretrieved from database."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Since "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" is expected to store sensitive data, it will never\r\nappear in a response directly. So you don't need to make it "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected internal"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[Internal]"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice how Gazel does "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" decrypt an EncryptedString in any case. So if\r\nyour business logic somehow requires an encrypted string to be decrypted,\r\nremember that you will need to either call "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ToString()"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Decrypt()"}]},{"type":"text","value":" at\r\nsome point."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below is an example of how you can generate and store a sensitive information;"}]},{"type":"element","tag":"code","props":{"code":"public class Secret\r\n{\r\n    ...\r\n    protected internal SecretToken With(string name)\r\n    {\r\n        Name = name;\r\n        Value = EncryptedString.Parse($\"{system.NewGuid()}\");\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Secret\r\n{\r\n    ...\r\n    protected internal SecretToken With(string name)\r\n    {\r\n        Name = name;\r\n        Value = EncryptedString.Parse($\"{system.NewGuid()}\");\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"h4","props":{"id":"as-a-service-parameter"},"children":[{"type":"text","value":"As a Service Parameter"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" as a service parameter just like any other value\r\ntype. Below you can see a simple example;"}]},{"type":"element","tag":"code","props":{"code":"public class Secret\r\n{\r\n    ...\r\n    public virtual void UpdateValue(EncryptedString value)\r\n    {\r\n        Value = value;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Secret\r\n{\r\n    ...\r\n    public virtual void UpdateValue(EncryptedString value)\r\n    {\r\n        Value = value;\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Beware that this does "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" encrypt the sensitive data when transferring\r\nfrom client to your back-end. You can already achieve this through an HTTPS\r\nconnection. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" only helps you to secure this data using a\r\nsymmetric encryption when stored in memory and an asymmetric encryption when\r\nstored in database."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Although "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" is accepted as a service parameter, a method that\r\nreturns "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" cannot be registered as a business service (a.k.a.\r\noperation), and cannot be called from outside. And also, a property with its\r\ntype as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" cannot be registered in service layer as a business\r\ndata as well."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When a service one of the parameters of a service is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":", that\r\nservice is marked as sensitive and does "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" log its parameter and\r\nresponse data."}]}]},{"type":"element","tag":"h4","props":{"id":"reading-from-settings"},"children":[{"type":"text","value":"Reading from Settings"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This feature allows you to read an encrypted string from settings using\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetEncryptedString"}]},{"type":"text","value":" method of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ICryptographer"}]},{"type":"text","value":" interface. Let's revisit the\r\nprevious example from "},{"type":"element","tag":"a","props":{"href":"/features#crypto-icryptographer-interface"},"children":[{"type":"text","value":"ICryptographer Interface"}]},{"type":"text","value":"\r\nsection."}]},{"type":"element","tag":"code","props":{"code":"public Binary GetSensitiveData()\r\n{\r\n    var sensitive = \"something to hide\".ToUtf8Binary();\r\n\r\n    return _crypto.Encrypt(sensitive);\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public Binary GetSensitiveData()\r\n{\r\n    var sensitive = \"something to hide\".ToUtf8Binary();\r\n\r\n    return _crypto.Encrypt(sensitive);\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can see that sensitive information is exposed as a constant string,\r\nwhich makes this sensitive information available to anyone who has access to\r\nthis code. To prevent this we can read it from settings."}]},{"type":"element","tag":"code","props":{"code":"public Binary GetSensitiveData()\r\n{\r\n    var sensitive = _crypto.GetEncryptedString(\"Sensitive\");\r\n\r\n    return sensitive.EncryptedValue;\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public Binary GetSensitiveData()\r\n{\r\n    var sensitive = _crypto.GetEncryptedString(\"Sensitive\");\r\n\r\n    return sensitive.EncryptedValue;\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Encrypt a sensitive data using your certificate and put its encrypted value to\r\nconfiguration file in base64 format. This way only someone with private key\r\nwill be able to know actual value of sensitive data."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This method first looks for a value with given key. If value does not exist,\r\nit will look for its decrypted version under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"Sensitive.Decrypted\""}]},{"type":"text","value":" key, so\r\nbelow file also works;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n  \"Sensitive\": { \"Decrypted\": \"something to hide\" }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\r\n  \"Sensitive\": { \"Decrypted\": \"something to hide\" }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This can be handy in development environemnt, when sensitive data is\r\nsensitive only in production and you have some other not sensitive value in\r\ndevelopment."}]}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are three ways to load a certificate, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509Store"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromP12File"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromPem"}]},{"type":"text","value":". There is also a\r\nfourth, and the default, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AutoResolve"}]},{"type":"text","value":" option which uses configuration file to\r\ndecide which one to use."}]},{"type":"element","tag":"h3","props":{"id":"x509store"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509Store"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This option uses certificate store of operating system to load a certificate.\r\nIf you use this option you will have to install your certificate to every OS\r\nthat will run your back-end system."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":x:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Currently this option is "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"only"}]},{"type":"text","value":" supported in "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Windows"}]},{"type":"text","value":" operating systems."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can choose this option as follows;"}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.X509Store()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"crypto: c => c.X509Store()\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509Store"}]},{"type":"text","value":" requires "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"storeName"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"storeLocation"}]},{"type":"text","value":" information to know in\r\nwhich store to look for a certificate. It also requires an extra search\r\nparameter to locate certificate in the specified store. By default this option\r\nlooks for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"StoreName"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"StoreLocation"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SubjectName"}]},{"type":"text","value":" in configuration file\r\nunder "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Certificate"}]},{"type":"text","value":" section like the following;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"StoreName\": \"TrustedPublisher\",\r\n            \"StoreLocation\": \"LocalComputer\",\r\n            \"SubjectName\": \"Gazel\"\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"StoreName\": \"TrustedPublisher\",\r\n            \"StoreLocation\": \"LocalComputer\",\r\n            \"SubjectName\": \"Gazel\"\r\n        }\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If no configuration was given, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"storeName"}]},{"type":"text","value":" defaults to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TrustedPublisher"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"storeLocation"}]},{"type":"text","value":" defaults to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LocalComputer"}]},{"type":"text","value":". Possible values to these\r\nparameters can be found at "},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/dotnet/api/system.security.cryptography.x509certificates.storename","rel":["nofollow"]},"children":[{"type":"text","value":"StoreName"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/dotnet/api/system.security.cryptography.x509certificates.storelocation","rel":["nofollow"]},"children":[{"type":"text","value":"StoreLocation"}]},{"type":"text","value":" pages."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can override this configuration directly from configurer as well;"}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.X509Store(\r\n    storeName: StoreName.TrustedPublisher,\r\n    storeLocation: StoreLocation.LocalMachine\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"crypto: c => c.X509Store(\r\n    storeName: StoreName.TrustedPublisher,\r\n    storeLocation: StoreLocation.LocalMachine\r\n)\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the extra search parameter, you may give any of search criteria defined in\r\n"},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/dotnet/api/system.security.cryptography.x509certificates.x509findtype","rel":["nofollow"]},"children":[{"type":"text","value":"X509FindType"}]},{"type":"text","value":". All values of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509FindType"}]},{"type":"text","value":" enum starts with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FindBy"}]},{"type":"text","value":"\r\nprefix, which is removed in configuration keys. For example if you use\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FindByIssuerName"}]},{"type":"text","value":" and use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv"}]},{"type":"text","value":" as its value, you should change\r\nconfiguration as follows;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"StoreName\": \"TrustedPublisher\",\r\n            \"StoreLocation\": \"LocalComputer\",\r\n            \"IssuerName\": \"Inventiv\"\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"StoreName\": \"TrustedPublisher\",\r\n            \"StoreLocation\": \"LocalComputer\",\r\n            \"IssuerName\": \"Inventiv\"\r\n        }\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You cannot override this extra search parameter from configurer like you do\r\nit with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"storeName"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"storeLocation"}]},{"type":"text","value":" parameters. It has to be specified\r\nfrom configuration file."}]}]},{"type":"element","tag":"h3","props":{"id":"x509certificatefromp12file"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromP12File"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This option enables you to load a "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/PKCS_12","rel":["nofollow"]},"children":[{"type":"text","value":"PKCS #12"}]},{"type":"text","value":" certificate from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".p12"}]},{"type":"text","value":" file\r\nusing configured "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IFileSystem"}]},{"type":"text","value":" instance (see "},{"type":"element","tag":"a","props":{"href":"/features#file-system"},"children":[{"type":"text","value":"File System"}]},{"type":"text","value":") and\r\nsuitable in non-Windows operating systems. Below code enables this option;"}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.X509CertificateFromP12File()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"crypto: c => c.X509CertificateFromP12File()\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It requires "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"passwordFile"}]},{"type":"text","value":" information to load a certificate from\r\ngiven path and use private key with the password specified in given password\r\nfile. By default it looks for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Path"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PasswordFile"}]},{"type":"text","value":" keys in configuration\r\nunder "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Certificate"}]},{"type":"text","value":" section as follows;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"Path\": \"Gazel.p12\",\r\n            \"PasswordFile\": \".CERTPASS\"\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"Path\": \"Gazel.p12\",\r\n            \"PasswordFile\": \".CERTPASS\"\r\n        }\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When configuration does not contain these keys, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]},{"type":"text","value":" defaults to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.p12"}]},{"type":"text","value":"\r\nand "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"passwordFile"}]},{"type":"text","value":" defaults to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".CERTPASS"}]},{"type":"text","value":"."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Private key password is asked to be in a separate file so that you can\r\ninclude a certificate, such as a development certificate in your code\r\nrepository, but put "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".CERTPASS"}]},{"type":"text","value":" file in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".gitignore"}]},{"type":"text","value":". This will protect your\r\ncertificate even if you include it in your repository."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may override these configurations to be set directly from configurer;"}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.X509CertificateFromP12File(\r\n    path: \"Inventiv.p12\",\r\n    passwordFile: \".Inventiv.p12.pass\"\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"crypto: c => c.X509CertificateFromP12File(\r\n    path: \"Inventiv.p12\",\r\n    passwordFile: \".Inventiv.p12.pass\"\r\n)\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We suggest you to use a hidden file for password files. In a unix-like\r\noperating systems when a file starts with a dot, it means it is a hidden file\r\n(see "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/Dot_file","rel":["nofollow"]},"children":[{"type":"text","value":"Dot file"}]},{"type":"text","value":"). In Windows operating systems you explicitly need to set a\r\nfile as hidden."}]}]},{"type":"element","tag":"h3","props":{"id":"x509certificatefrompem"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromPem"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This option enables you to give certificate information directly from\r\nconfiguration file or configurer. Gazel uses this option to register a stub\r\ncertificate during unit test runs. Below code enables this option;"}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.X509CertificateFromPem()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"crypto: c => c.X509CertificateFromPem()\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This option requires "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"certPem"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"keyPem"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"passwordFile"}]},{"type":"text","value":" information to be\r\nused. By default it looks for these information configuration file using\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CertPem"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"KeyPem"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PasswordFile"}]},{"type":"text","value":" keys, respectively, under\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Certificate"}]},{"type":"text","value":" section. Certificate contents usually start with\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"-----BEGIN CERTIFICATE-----"}]},{"type":"text","value":" and has new lines in them. To handle this you\r\nneed to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\\n"}]},{"type":"text","value":" character in json string, an example is as follows;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"CertPem\": \"-----BEGIN CERTIFICATE-----\\nMIIC7zCCAdegAwIBAgIQhaAixfnuiK5HBHMC+kz4zTANBgkqhkiG9w0BAQsFADAQ\\nMQ4wDAYDVQQDEwVHYXplbDAeFw0xODAxMTcxMDMxMDFaFw0zOTEyMzEyMzU5NTla...\",\r\n            \"KeyPem\": \"-----BEGIN ENCRYPTED PRIVATE KEY-----\\nMIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIG7xEAxkSK6gCAggA\\nMAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECEmeebmmTgQsBIIEyJGTsjMc2869...\",\r\n            \"PasswordFile\": \".CERTPASS\"\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"CertPem\": \"-----BEGIN CERTIFICATE-----\\nMIIC7zCCAdegAwIBAgIQhaAixfnuiK5HBHMC+kz4zTANBgkqhkiG9w0BAQsFADAQ\\nMQ4wDAYDVQQDEwVHYXplbDAeFw0xODAxMTcxMDMxMDFaFw0zOTEyMzEyMzU5NTla...\",\r\n            \"KeyPem\": \"-----BEGIN ENCRYPTED PRIVATE KEY-----\\nMIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIG7xEAxkSK6gCAggA\\nMAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECEmeebmmTgQsBIIEyJGTsjMc2869...\",\r\n            \"PasswordFile\": \".CERTPASS\"\r\n        }\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel does not have a default certificate so "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"certPem"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"keyPem"}]},{"type":"text","value":" do not have\r\na default. Just like previous option, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"passwordFile"}]},{"type":"text","value":" defaults to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".CERTPASS"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.X509CertificateFromPem(\r\n    certPem: @\"\r\n-----BEGIN CERTIFICATE-----\r\nMIIC7zCCAdegAwIBAgIQhaAixfnuiK5HBHMC+kz4zTANBgkqhkiG9w0BAQsFADAQ\r\nMQ4wDAYDVQQDEwVHYXplbDAeFw0xODAxMTcxMDMxMDFaFw0zOTEyMzEyMzU5NTla\r\n...\r\n-----END CERTIFICATE-----\r\n\",\r\n    keyPem: @\"\r\n-----BEGIN ENCRYPTED PRIVATE KEY-----\r\nMIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIG7xEAxkSK6gCAggA\r\nMAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECEmeebmmTgQsBIIEyJGTsjMc2869\r\n...\r\n-----END ENCRYPTED PRIVATE KEY-----\r\n\",\r\n    passwordFile: \".CERTIFICATE_PASSWORD\"\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"crypto: c => c.X509CertificateFromPem(\r\n    certPem: @\"\r\n-----BEGIN CERTIFICATE-----\r\nMIIC7zCCAdegAwIBAgIQhaAixfnuiK5HBHMC+kz4zTANBgkqhkiG9w0BAQsFADAQ\r\nMQ4wDAYDVQQDEwVHYXplbDAeFw0xODAxMTcxMDMxMDFaFw0zOTEyMzEyMzU5NTla\r\n...\r\n-----END CERTIFICATE-----\r\n\",\r\n    keyPem: @\"\r\n-----BEGIN ENCRYPTED PRIVATE KEY-----\r\nMIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIG7xEAxkSK6gCAggA\r\nMAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECEmeebmmTgQsBIIEyJGTsjMc2869\r\n...\r\n-----END ENCRYPTED PRIVATE KEY-----\r\n\",\r\n    passwordFile: \".CERTIFICATE_PASSWORD\"\r\n)\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above example illustrates how you can override default configuratiion directly\r\nfrom configurer."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Configuring certificate directly from configurer is "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" recommended for\r\nproduction code, because it may lead you to include production certificate\r\ndirectly in source code. Production certificates are strongly recommended\r\n"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" to be in your repository. If you choose "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromPem"}]},{"type":"text","value":"\r\noption, make sure you load certificate from configuration file and you don't\r\ninclude "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Certificate"}]},{"type":"text","value":" section of your production environment\r\nconfiguration in your repository."}]}]},{"type":"element","tag":"h3","props":{"id":"autoresolve"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AutoResolve"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This option is the default option for crypto feature and enables you to\r\nconfigure crypto feature completely through configuration file. You don't have\r\nto select this option explicitly but you can still choose to do it as shown\r\nbelow;"}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.AutoResolve()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"crypto: c => c.AutoResolve()\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It does not accept any parameters. Default behaviour is to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509Store"}]},{"type":"text","value":" on\r\nWindows and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromP12File"}]},{"type":"text","value":" on unix-like operating systems. To\r\nexplicitly specify which option to use, you can add "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Type"}]},{"type":"text","value":" key under\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Certificate"}]},{"type":"text","value":" section;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"Type\": \"X509Store\"\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"Type\": \"X509Store\"\r\n        }\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Option names are the same as previous sections; "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509Store"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromP12File"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromPem"}]},{"type":"text","value":". Each option expects\r\nits own keys as explained in previous sections. Below example uses store option\r\nand specifies certificate information under same conffiguration section;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"Type\": \"X509Store\",\r\n            \"SubjectName\": \"Inventiv\"\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"Type\": \"X509Store\",\r\n            \"SubjectName\": \"Inventiv\"\r\n        }\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Combining options is also possible. Assume some people use Windows for\r\ndevelopment and some use unix-like systems. Below example will be sufficient\r\nto configure both at one place;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"SubjectName\": \"Inventiv\",\r\n            \"Path\": \"Inventiv.p12\",\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"SubjectName\": \"Inventiv\",\r\n            \"Path\": \"Inventiv.p12\",\r\n        }\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This configuration will look for a certificate with subject name "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv"}]},{"type":"text","value":"\r\nin trusted publisher and local machine for Windows operating systems, and\r\nwill look for a certificate "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv.p12"}]},{"type":"text","value":" in file system for unix-like\r\noperating systems."}]}]},{"type":"element","tag":"h4","props":{"id":"configuring-certificates-for-a-gazel-cli-process"},"children":[{"type":"text","value":"Configuring certificates for a Gazel CLI process"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel CLI allows you to generate a schema from a bin directory. When you use\r\nthis option Gazel CLI will render given bin directory including your\r\nconfiguration files and configurers in your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Program.cs"}]},{"type":"text","value":". This means that if\r\nyou use crypto feature, especially in configuration files, it might require a\r\ncorrect configuration for crypto feature as well."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel CLI uses "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Development"}]},{"type":"text","value":" for environment by default. However if you face a\r\nproblem while generating schema, code or dll because of encryption problems,\r\nyou can make use of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"--environment"}]},{"type":"text","value":" option to set environment during Gazel CLI\r\nprocess."}]},{"type":"element","tag":"code","props":{"code":"g schemagen bin/net6.0/Debug --environment GazelCLI\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"g schemagen bin/net6.0/Debug --environment GazelCLI\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This, for example, sets environment to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GazelCLI"}]},{"type":"text","value":" so that you can create a\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"appsettings.GazelCLI.json"}]},{"type":"text","value":" file and specify your certificate option in this\r\nconfiguration under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Certificate"}]},{"type":"text","value":" section."}]}]},"position":5,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"crypto"},"children":[{"type":"text","value":"Crypto"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Crypto feature provides a basic encryption/decryption capability to store\r\nsensitive data in configuration file or database. It also provides an API to be\r\nused in accepting an input in a more secure way. Let's dive in to see how you\r\ncan use this feature to make your back-end functionality more secure."}]},{"type":"element","tag":"h2","props":{"id":"crypto-api"},"children":[{"type":"text","value":"Crypto API"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This API consists of two main types "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ICryptographer"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":"\r\nproviding ways to encrypt/decrypt data and represent encrypted data,\r\nrespectively."}]},{"type":"element","tag":"h3","props":{"id":"icryptographer-interface"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ICryptographer"}]},{"type":"text","value":" interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This interface is a gateway facade to an underlying security mechanism provided\r\nby .NET. Behind the scenes, this interface uses a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X.509"}]},{"type":"text","value":" certificate with a an\r\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"public / private key pair"}]},{"type":"text","value":" (for more information see "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/X.509","rel":["nofollow"]},"children":[{"type":"text","value":"X.509"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/RSA_(cryptosystem)","rel":["nofollow"]},"children":[{"type":"text","value":"RSA"}]},{"type":"text","value":").\r\nThis way you can make use of asymmetric encryption where needed. There are two\r\ntypes of usage; "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Encrypt / Decrypt"}]},{"type":"text","value":" and "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Sign / Verify"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h4","props":{"id":"encrypt-decrypt"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Encrypt"}]},{"type":"text","value":" & "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Decrypt"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First and most basic type of usage is to encrypt data using the public key, and\r\ndecrypt it using the private key. For example, you can use this to encrypt\r\nsensitive data to save it in somewhere unsafe so that you can retrieve and\r\ndecrypt it later."}]},{"type":"element","tag":"code","props":{"code":"public class CryptoManager\r\n{\r\n    private readonly ICryptographer _crypto;\r\n    public FileManager(ICryptographer crypto) => _crypto = crypto;\r\n\r\n    public Binary GetSensitiveData()\r\n    {\r\n        var sensitive = \"something to hide\".ToUtf8Binary();\r\n\r\n        return _crypto.Encrypt(sensitive);\r\n    }\r\n\r\n    public bool CheckSensitiveData(Binary binary)\r\n    {\r\n        var sensitive = _crypto.Decrypt(binary).ToUtf8String();\r\n\r\n        return sensitive == \"something to hide\";\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"CryptoManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"ICryptographer"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"_crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"FileManager"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"ICryptographer"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"_crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"Binary"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"GetSensitiveData"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"something to hide\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"ToUtf8Binary"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-c08d6c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"_crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Encrypt"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"CheckSensitiveData"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"Binary"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"binary"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"_crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Decrypt"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"binary"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"ToUtf8String"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-c08d6c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"something to hide\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may share your public key with the outside world so that anyone with this\r\nkey can encrypt and send a sensitive information which can only be decrypted\r\nby your back-end system."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ICryptographer"}]},{"type":"text","value":" also has helper methods to make string conversions easier."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic string GetSensitiveData()\r\n{\r\n    // returns base64 representation of encrypted binary\r\n    return _crypto.Encrypt(\"something to hide\");\r\n}\r\n\r\npublic bool CheckSensitiveData(string encryptedSensitive)\r\n{\r\n    return _crypto.DecryptUnsecure(encryptedSensitive) == \"something to hide\";\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"GetSensitiveData"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-01a8ef"},"children":[{"type":"text","value":"// returns base64 representation of encrypted binary"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c08d6c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"_crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Encrypt"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"something to hide\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"CheckSensitiveData"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"encryptedSensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c08d6c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"_crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"DecryptUnsecure"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"encryptedSensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":") == "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"something to hide\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above code uses "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"DecryptUnsecure"}]},{"type":"text","value":" method, which returns a regular string\r\nobject. There is also a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Decrypt"}]},{"type":"text","value":" method which returns a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":".\r\n"},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/dotnet/api/system.security.securestring","rel":["nofollow"]},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":" is a class that encrypts given string with a symmetric key and\r\nstores in memory so that a it is safely kept in memory."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic bool CheckSensitiveData(string encryptedSensitive)\r\n{\r\n    var sensitive = _crypto.Decrypt(encryptedSensitive);\r\n\r\n    return sensitive.Decrypt() == \"something to hide\";\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"CheckSensitiveData"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"encryptedSensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"_crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Decrypt"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"encryptedSensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c08d6c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Decrypt"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"() == "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"something to hide\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that data is decrypted twice; first time it is done by using your X.509\r\ncertificate, second time it is done on "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":" object by using a\r\nsymmetric key that .NET generates."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This code is for demonstration purposes only. In a real life case you might\r\nkeep your sensitive data in a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":" object, and pass it to a method\r\nas a parameter or store in a property. This way it will be less likely to be\r\nexposed. Decrypt a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":" right before you use it in your code."}]}]},{"type":"element","tag":"h4","props":{"id":"sign-verify"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Sign"}]},{"type":"text","value":" & "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Verify"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Sign & verify"}]},{"type":"text","value":" is like the opposite usage of "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"encrypt & decrypt"}]},{"type":"text","value":". Decryption\r\ncan only happen on the side that has the private key, which is back-end side in\r\nthis case. So encryption is made with a public key, decryption is made with the\r\ncorresponding private key."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"On the contrary, here, signing is done using a private key, and verifying is\r\ndone using its corresponding public key. So in this usage it's not about hiding\r\ninformation from outside, rather it's about signing data to make it possible\r\nfor retrievers to verify that data is signed by, thus coming from, the trusted\r\nsource."}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic string[] GetSignedData()\r\n{\r\n    var sensitive = \"something to be signed\";\r\n\r\n    var hasher = HashAlgorithm.Create(\"SHA256\");\r\n    hasher.ComputeHash(sensitive.ToUtf8Binary());\r\n\r\n    // Signing is done using the private key\r\n    var signature = _crypto.Sign(hasher.Hash, \"SHA256\");\r\n\r\n    return new[] { sensitive, signature };\r\n}\r\n\r\npublic bool Verify(string[] signedData)\r\n{\r\n    var sensitive = signedData[0];\r\n    var signature = signedData[1];\r\n\r\n    var hasher = HashAlgorithm.Create(\"SHA256\");\r\n    hasher.ComputeHash(sensitive.ToUtf8Binary());\r\n\r\n    // Verification is done with the public key\r\n    return _crypto.Verify(hasher.Hash, \"SHA256\", signature);\r\n}\r\n...\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"[] "}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"GetSignedData"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"something to be signed\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"hasher"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"HashAlgorithm"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Create"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"SHA256\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"hasher"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"ComputeHash"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"ToUtf8Binary"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"());"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-01a8ef"},"children":[{"type":"text","value":"// Signing is done using the private key"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"signature"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"_crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Sign"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"hasher"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"Hash"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"SHA256\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c08d6c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"[] { "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"signature"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" };"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Verify"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"[] "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"signedData"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"signedData"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"class":"ct-15babd"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"signature"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"signedData"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"class":"ct-15babd"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"hasher"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"HashAlgorithm"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Create"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"SHA256\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"hasher"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"ComputeHash"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"ToUtf8Binary"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"());"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-01a8ef"},"children":[{"type":"text","value":"// Verification is done with the public key"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c08d6c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"_crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Verify"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"hasher"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"Hash"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"SHA256\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"signature"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sign and verify is used in "},{"type":"element","tag":"a","props":{"href":"/features#secure-call"},"children":[{"type":"text","value":"Secure Call"}]},{"type":"text","value":" feature, where\r\nresponse values are used to compute a hash to be signed so that client can\r\nverify and trust response."}]}]},{"type":"element","tag":"h3","props":{"id":"encryptedstring-struct"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" struct"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This struct acts like a wrapper type for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":" class from .NET, (see\r\n"},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/dotnet/api/system.security.securestring","rel":["nofollow"]},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":"). It conforms to the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"parseable value type"}]},{"type":"text","value":" convention just\r\nlike rest of the value types from "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Gazel.Primitives"}]},{"type":"text","value":" package. There are three ways to\r\ncreate an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" instance."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Parse"}]},{"type":"text","value":" method, when you have a plain string object;"},{"type":"element","tag":"code","props":{"code":"var encrypted = EncryptedString.Parse(\"something sensitive\");\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"encrypted"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Parse"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"something sensitive\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":");"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FromEncrypted"}]},{"type":"text","value":" method, when you have an encrypted value;"},{"type":"element","tag":"code","props":{"code":"var encrypted = EncryptedString.FromEncrypted(encryptedBinary, b => _crypto.DecryptUnsecure(b));\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"encrypted"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"FromEncrypted"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"encryptedBinary"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"b"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"_crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"DecryptUnsecure"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"b"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"));"}]}]}]}]}]},{"type":"text","value":"Second parameter is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"decryptDelegate"}]},{"type":"text","value":" in case "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString.Decrypt"}]},{"type":"text","value":" or\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Encrypted.ToString()"}]},{"type":"text","value":" method are called on this instance. Without a decrypt\r\ndelegate it would not be able to decrpyt its value."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Use a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SecureString"}]},{"type":"text","value":" instance. You can cast it to an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":";"},{"type":"element","tag":"code","props":{"code":"var encrypted = (EncryptedString)secureString;\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"encrypted"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = ("}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"secureString"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":";"}]}]}]}]}]},{"type":"text","value":"or use constructor;"},{"type":"element","tag":"code","props":{"code":"var encrypted = new EncryptedString(secureString);\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"encrypted"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"secureString"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":");"}]}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This struct either stores given encrypted binary value, or a secure string\r\ninstance so that sensitive information is securly kept in memory. You may read\r\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/dotnet/api/system.security.securestring#HowSecure","rel":["nofollow"]},"children":[{"type":"text","value":"How secure is SecureString"}]}]},{"type":"text","value":" section from .NET documentation to learn more."}]},{"type":"element","tag":"h4","props":{"id":"mapping-to-a-table-column"},"children":[{"type":"text","value":"Mapping to a Table Column"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can map "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" just like any other value type."}]},{"type":"element","tag":"code","props":{"code":"public class Secret\r\n{\r\n    ...\r\n    public virtual int Id { get; protected set; }\r\n    public virtual string Name { get; protected set; }\r\n    public virtual EncryptedString Value { get; protected set; }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"Secret"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"Value"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you intend to use an encrypted string property, "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"please read"}]},{"type":"text","value":" below\r\ninformation carefully;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Only encrypted binary value is stored in database so that nobody can see the\r\nvalue without a proper certificate. So it is "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"highly recommended"}]},{"type":"text","value":" for you\r\nto use a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"different"}]},{"type":"text","value":" certificate for each environment ("},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Development"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Production"}]},{"type":"text","value":" etc.), and "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"never"}]},{"type":"text","value":" expose private key of your "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Production"}]},{"type":"text","value":"\r\ncertificate to the people that have access to your production database."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Value is not decrypted until you explicitly call "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Decrypt"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ToString"}]},{"type":"text","value":".\r\nThis is because decryption is costly and retrieving a list of persistent\r\nobjects should not decrypt automatically. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"DataAccessLayer"}]},{"type":"text","value":" uses\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FromEncrypted"}]},{"type":"text","value":" method to create "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" instances when data is\r\nretrieved from database."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Since "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" is expected to store sensitive data, it will never\r\nappear in a response directly. So you don't need to make it "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protected internal"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[Internal]"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice how Gazel does "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" decrypt an EncryptedString in any case. So if\r\nyour business logic somehow requires an encrypted string to be decrypted,\r\nremember that you will need to either call "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ToString()"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Decrypt()"}]},{"type":"text","value":" at\r\nsome point."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below is an example of how you can generate and store a sensitive information;"}]},{"type":"element","tag":"code","props":{"code":"public class Secret\r\n{\r\n    ...\r\n    protected internal SecretToken With(string name)\r\n    {\r\n        Name = name;\r\n        Value = EncryptedString.Parse($\"{system.NewGuid()}\");\r\n\r\n        _repository.Insert(this);\r\n\r\n        return this;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"Secret"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"SecretToken"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"With"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"Value"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Parse"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"$\"{"}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"system"}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"NewGuid"}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"()}\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Insert"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-c08d6c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"as-a-service-parameter"},"children":[{"type":"text","value":"As a Service Parameter"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" as a service parameter just like any other value\r\ntype. Below you can see a simple example;"}]},{"type":"element","tag":"code","props":{"code":"public class Secret\r\n{\r\n    ...\r\n    public virtual void UpdateValue(EncryptedString value)\r\n    {\r\n        Value = value;\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"Secret"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"UpdateValue"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"Value"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Beware that this does "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" encrypt the sensitive data when transferring\r\nfrom client to your back-end. You can already achieve this through an HTTPS\r\nconnection. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" only helps you to secure this data using a\r\nsymmetric encryption when stored in memory and an asymmetric encryption when\r\nstored in database."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Although "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" is accepted as a service parameter, a method that\r\nreturns "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" cannot be registered as a business service (a.k.a.\r\noperation), and cannot be called from outside. And also, a property with its\r\ntype as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":" cannot be registered in service layer as a business\r\ndata as well."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When a service one of the parameters of a service is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":", that\r\nservice is marked as sensitive and does "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" log its parameter and\r\nresponse data."}]}]},{"type":"element","tag":"h4","props":{"id":"reading-from-settings"},"children":[{"type":"text","value":"Reading from Settings"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This feature allows you to read an encrypted string from settings using\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetEncryptedString"}]},{"type":"text","value":" method of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ICryptographer"}]},{"type":"text","value":" interface. Let's revisit the\r\nprevious example from "},{"type":"element","tag":"a","props":{"href":"/features#crypto-icryptographer-interface"},"children":[{"type":"text","value":"ICryptographer Interface"}]},{"type":"text","value":"\r\nsection."}]},{"type":"element","tag":"code","props":{"code":"public Binary GetSensitiveData()\r\n{\r\n    var sensitive = \"something to hide\".ToUtf8Binary();\r\n\r\n    return _crypto.Encrypt(sensitive);\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"Binary"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"GetSensitiveData"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"something to hide\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"ToUtf8Binary"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c08d6c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"_crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"Encrypt"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can see that sensitive information is exposed as a constant string,\r\nwhich makes this sensitive information available to anyone who has access to\r\nthis code. To prevent this we can read it from settings."}]},{"type":"element","tag":"code","props":{"code":"public Binary GetSensitiveData()\r\n{\r\n    var sensitive = _crypto.GetEncryptedString(\"Sensitive\");\r\n\r\n    return sensitive.EncryptedValue;\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-853398"},"children":[{"type":"text","value":"Binary"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"GetSensitiveData"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4e02a3"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"_crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"GetEncryptedString"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"Sensitive\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c08d6c"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"sensitive"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"EncryptedValue"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Encrypt a sensitive data using your certificate and put its encrypted value to\r\nconfiguration file in base64 format. This way only someone with private key\r\nwill be able to know actual value of sensitive data."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This method first looks for a value with given key. If value does not exist,\r\nit will look for its decrypted version under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"Sensitive.Decrypted\""}]},{"type":"text","value":" key, so\r\nbelow file also works;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n  \"Sensitive\": { \"Decrypted\": \"something to hide\" }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Sensitive\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": { "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Decrypted\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"something to hide\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This can be handy in development environemnt, when sensitive data is\r\nsensitive only in production and you have some other not sensitive value in\r\ndevelopment."}]}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are three ways to load a certificate, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509Store"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromP12File"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromPem"}]},{"type":"text","value":". There is also a\r\nfourth, and the default, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AutoResolve"}]},{"type":"text","value":" option which uses configuration file to\r\ndecide which one to use."}]},{"type":"element","tag":"h3","props":{"id":"x509store"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509Store"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This option uses certificate store of operating system to load a certificate.\r\nIf you use this option you will have to install your certificate to every OS\r\nthat will run your back-end system."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":x:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Currently this option is "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"only"}]},{"type":"text","value":" supported in "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Windows"}]},{"type":"text","value":" operating systems."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can choose this option as follows;"}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.X509Store()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-af226d"},"children":[{"type":"text","value":"crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"X509Store"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509Store"}]},{"type":"text","value":" requires "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"storeName"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"storeLocation"}]},{"type":"text","value":" information to know in\r\nwhich store to look for a certificate. It also requires an extra search\r\nparameter to locate certificate in the specified store. By default this option\r\nlooks for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"StoreName"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"StoreLocation"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SubjectName"}]},{"type":"text","value":" in configuration file\r\nunder "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Certificate"}]},{"type":"text","value":" section like the following;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"StoreName\": \"TrustedPublisher\",\r\n            \"StoreLocation\": \"LocalComputer\",\r\n            \"SubjectName\": \"Gazel\"\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Gazel\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Certificate\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"StoreName\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"TrustedPublisher\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"StoreLocation\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"LocalComputer\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"SubjectName\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"Gazel\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If no configuration was given, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"storeName"}]},{"type":"text","value":" defaults to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TrustedPublisher"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"storeLocation"}]},{"type":"text","value":" defaults to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LocalComputer"}]},{"type":"text","value":". Possible values to these\r\nparameters can be found at "},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/dotnet/api/system.security.cryptography.x509certificates.storename","rel":["nofollow"]},"children":[{"type":"text","value":"StoreName"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/dotnet/api/system.security.cryptography.x509certificates.storelocation","rel":["nofollow"]},"children":[{"type":"text","value":"StoreLocation"}]},{"type":"text","value":" pages."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can override this configuration directly from configurer as well;"}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.X509Store(\r\n    storeName: StoreName.TrustedPublisher,\r\n    storeLocation: StoreLocation.LocalMachine\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-af226d"},"children":[{"type":"text","value":"crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"X509Store"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"storeName"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"StoreName"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"TrustedPublisher"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"storeLocation"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"StoreLocation"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"LocalMachine"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the extra search parameter, you may give any of search criteria defined in\r\n"},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/dotnet/api/system.security.cryptography.x509certificates.x509findtype","rel":["nofollow"]},"children":[{"type":"text","value":"X509FindType"}]},{"type":"text","value":". All values of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509FindType"}]},{"type":"text","value":" enum starts with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FindBy"}]},{"type":"text","value":"\r\nprefix, which is removed in configuration keys. For example if you use\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FindByIssuerName"}]},{"type":"text","value":" and use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv"}]},{"type":"text","value":" as its value, you should change\r\nconfiguration as follows;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"StoreName\": \"TrustedPublisher\",\r\n            \"StoreLocation\": \"LocalComputer\",\r\n            \"IssuerName\": \"Inventiv\"\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Gazel\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Certificate\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"StoreName\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"TrustedPublisher\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"StoreLocation\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"LocalComputer\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"IssuerName\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"Inventiv\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You cannot override this extra search parameter from configurer like you do\r\nit with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"storeName"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"storeLocation"}]},{"type":"text","value":" parameters. It has to be specified\r\nfrom configuration file."}]}]},{"type":"element","tag":"h3","props":{"id":"x509certificatefromp12file"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromP12File"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This option enables you to load a "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/PKCS_12","rel":["nofollow"]},"children":[{"type":"text","value":"PKCS #12"}]},{"type":"text","value":" certificate from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".p12"}]},{"type":"text","value":" file\r\nusing configured "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IFileSystem"}]},{"type":"text","value":" instance (see "},{"type":"element","tag":"a","props":{"href":"/features#file-system"},"children":[{"type":"text","value":"File System"}]},{"type":"text","value":") and\r\nsuitable in non-Windows operating systems. Below code enables this option;"}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.X509CertificateFromP12File()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-af226d"},"children":[{"type":"text","value":"crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"X509CertificateFromP12File"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It requires "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"passwordFile"}]},{"type":"text","value":" information to load a certificate from\r\ngiven path and use private key with the password specified in given password\r\nfile. By default it looks for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Path"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PasswordFile"}]},{"type":"text","value":" keys in configuration\r\nunder "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Certificate"}]},{"type":"text","value":" section as follows;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"Path\": \"Gazel.p12\",\r\n            \"PasswordFile\": \".CERTPASS\"\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Gazel\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Certificate\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Path\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"Gazel.p12\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"PasswordFile\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\".CERTPASS\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When configuration does not contain these keys, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]},{"type":"text","value":" defaults to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.p12"}]},{"type":"text","value":"\r\nand "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"passwordFile"}]},{"type":"text","value":" defaults to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".CERTPASS"}]},{"type":"text","value":"."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Private key password is asked to be in a separate file so that you can\r\ninclude a certificate, such as a development certificate in your code\r\nrepository, but put "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".CERTPASS"}]},{"type":"text","value":" file in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".gitignore"}]},{"type":"text","value":". This will protect your\r\ncertificate even if you include it in your repository."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may override these configurations to be set directly from configurer;"}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.X509CertificateFromP12File(\r\n    path: \"Inventiv.p12\",\r\n    passwordFile: \".Inventiv.p12.pass\"\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-af226d"},"children":[{"type":"text","value":"crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"X509CertificateFromP12File"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"Inventiv.p12\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"passwordFile"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\".Inventiv.p12.pass\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We suggest you to use a hidden file for password files. In a unix-like\r\noperating systems when a file starts with a dot, it means it is a hidden file\r\n(see "},{"type":"element","tag":"a","props":{"href":"https://en.wikipedia.org/wiki/Dot_file","rel":["nofollow"]},"children":[{"type":"text","value":"Dot file"}]},{"type":"text","value":"). In Windows operating systems you explicitly need to set a\r\nfile as hidden."}]}]},{"type":"element","tag":"h3","props":{"id":"x509certificatefrompem"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromPem"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This option enables you to give certificate information directly from\r\nconfiguration file or configurer. Gazel uses this option to register a stub\r\ncertificate during unit test runs. Below code enables this option;"}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.X509CertificateFromPem()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-af226d"},"children":[{"type":"text","value":"crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"X509CertificateFromPem"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This option requires "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"certPem"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"keyPem"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"passwordFile"}]},{"type":"text","value":" information to be\r\nused. By default it looks for these information configuration file using\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CertPem"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"KeyPem"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PasswordFile"}]},{"type":"text","value":" keys, respectively, under\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Certificate"}]},{"type":"text","value":" section. Certificate contents usually start with\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"-----BEGIN CERTIFICATE-----"}]},{"type":"text","value":" and has new lines in them. To handle this you\r\nneed to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\\n"}]},{"type":"text","value":" character in json string, an example is as follows;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"CertPem\": \"-----BEGIN CERTIFICATE-----\\nMIIC7zCCAdegAwIBAgIQhaAixfnuiK5HBHMC+kz4zTANBgkqhkiG9w0BAQsFADAQ\\nMQ4wDAYDVQQDEwVHYXplbDAeFw0xODAxMTcxMDMxMDFaFw0zOTEyMzEyMzU5NTla...\",\r\n            \"KeyPem\": \"-----BEGIN ENCRYPTED PRIVATE KEY-----\\nMIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIG7xEAxkSK6gCAggA\\nMAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECEmeebmmTgQsBIIEyJGTsjMc2869...\",\r\n            \"PasswordFile\": \".CERTPASS\"\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Gazel\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Certificate\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"CertPem\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"-----BEGIN CERTIFICATE-----"}]},{"type":"element","tag":"span","props":{"class":"ct-243aa5"},"children":[{"type":"text","value":"\\n"}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"MIIC7zCCAdegAwIBAgIQhaAixfnuiK5HBHMC+kz4zTANBgkqhkiG9w0BAQsFADAQ"}]},{"type":"element","tag":"span","props":{"class":"ct-243aa5"},"children":[{"type":"text","value":"\\n"}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"MQ4wDAYDVQQDEwVHYXplbDAeFw0xODAxMTcxMDMxMDFaFw0zOTEyMzEyMzU5NTla...\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"KeyPem\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"-----BEGIN ENCRYPTED PRIVATE KEY-----"}]},{"type":"element","tag":"span","props":{"class":"ct-243aa5"},"children":[{"type":"text","value":"\\n"}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"MIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIG7xEAxkSK6gCAggA"}]},{"type":"element","tag":"span","props":{"class":"ct-243aa5"},"children":[{"type":"text","value":"\\n"}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"MAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECEmeebmmTgQsBIIEyJGTsjMc2869...\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"PasswordFile\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\".CERTPASS\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel does not have a default certificate so "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"certPem"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"keyPem"}]},{"type":"text","value":" do not have\r\na default. Just like previous option, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"passwordFile"}]},{"type":"text","value":" defaults to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".CERTPASS"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.X509CertificateFromPem(\r\n    certPem: @\"\r\n-----BEGIN CERTIFICATE-----\r\nMIIC7zCCAdegAwIBAgIQhaAixfnuiK5HBHMC+kz4zTANBgkqhkiG9w0BAQsFADAQ\r\nMQ4wDAYDVQQDEwVHYXplbDAeFw0xODAxMTcxMDMxMDFaFw0zOTEyMzEyMzU5NTla\r\n...\r\n-----END CERTIFICATE-----\r\n\",\r\n    keyPem: @\"\r\n-----BEGIN ENCRYPTED PRIVATE KEY-----\r\nMIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIG7xEAxkSK6gCAggA\r\nMAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECEmeebmmTgQsBIIEyJGTsjMc2869\r\n...\r\n-----END ENCRYPTED PRIVATE KEY-----\r\n\",\r\n    passwordFile: \".CERTIFICATE_PASSWORD\"\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-af226d"},"children":[{"type":"text","value":"crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"X509CertificateFromPem"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"certPem"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"@\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"-----BEGIN CERTIFICATE-----"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"MIIC7zCCAdegAwIBAgIQhaAixfnuiK5HBHMC+kz4zTANBgkqhkiG9w0BAQsFADAQ"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"MQ4wDAYDVQQDEwVHYXplbDAeFw0xODAxMTcxMDMxMDFaFw0zOTEyMzEyMzU5NTla"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"-----END CERTIFICATE-----"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"keyPem"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"@\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"-----BEGIN ENCRYPTED PRIVATE KEY-----"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"MIIFHDBOBgkqhkiG9w0BBQ0wQTApBgkqhkiG9w0BBQwwHAQIG7xEAxkSK6gCAggA"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"MAwGCCqGSIb3DQIJBQAwFAYIKoZIhvcNAwcECEmeebmmTgQsBIIEyJGTsjMc2869"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"-----END ENCRYPTED PRIVATE KEY-----"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"passwordFile"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\".CERTIFICATE_PASSWORD\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Above example illustrates how you can override default configuratiion directly\r\nfrom configurer."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Configuring certificate directly from configurer is "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" recommended for\r\nproduction code, because it may lead you to include production certificate\r\ndirectly in source code. Production certificates are strongly recommended\r\n"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" to be in your repository. If you choose "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromPem"}]},{"type":"text","value":"\r\noption, make sure you load certificate from configuration file and you don't\r\ninclude "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Certificate"}]},{"type":"text","value":" section of your production environment\r\nconfiguration in your repository."}]}]},{"type":"element","tag":"h3","props":{"id":"autoresolve"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AutoResolve"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This option is the default option for crypto feature and enables you to\r\nconfigure crypto feature completely through configuration file. You don't have\r\nto select this option explicitly but you can still choose to do it as shown\r\nbelow;"}]},{"type":"element","tag":"code","props":{"code":"crypto: c => c.AutoResolve()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-af226d"},"children":[{"type":"text","value":"crypto"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-db8228"},"children":[{"type":"text","value":"AutoResolve"}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It does not accept any parameters. Default behaviour is to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509Store"}]},{"type":"text","value":" on\r\nWindows and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromP12File"}]},{"type":"text","value":" on unix-like operating systems. To\r\nexplicitly specify which option to use, you can add "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Type"}]},{"type":"text","value":" key under\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Certificate"}]},{"type":"text","value":" section;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"Type\": \"X509Store\"\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Gazel\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Certificate\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Type\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"X509Store\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Option names are the same as previous sections; "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509Store"}]},{"type":"text","value":",\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromP12File"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X509CertificateFromPem"}]},{"type":"text","value":". Each option expects\r\nits own keys as explained in previous sections. Below example uses store option\r\nand specifies certificate information under same conffiguration section;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"Type\": \"X509Store\",\r\n            \"SubjectName\": \"Inventiv\"\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Gazel\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Certificate\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Type\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"X509Store\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"SubjectName\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"Inventiv\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Combining options is also possible. Assume some people use Windows for\r\ndevelopment and some use unix-like systems. Below example will be sufficient\r\nto configure both at one place;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"Gazel\": {\r\n        \"Certificate\": {\r\n            \"SubjectName\": \"Inventiv\",\r\n            \"Path\": \"Inventiv.p12\",\r\n        }\r\n    }\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Gazel\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Certificate\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"SubjectName\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"Inventiv\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-3a398c"},"children":[{"type":"text","value":"\"Path\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-18751d"},"children":[{"type":"text","value":"\"Inventiv.p12\""}]},{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This configuration will look for a certificate with subject name "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv"}]},{"type":"text","value":"\r\nin trusted publisher and local machine for Windows operating systems, and\r\nwill look for a certificate "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv.p12"}]},{"type":"text","value":" in file system for unix-like\r\noperating systems."}]}]},{"type":"element","tag":"h4","props":{"id":"configuring-certificates-for-a-gazel-cli-process"},"children":[{"type":"text","value":"Configuring certificates for a Gazel CLI process"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel CLI allows you to generate a schema from a bin directory. When you use\r\nthis option Gazel CLI will render given bin directory including your\r\nconfiguration files and configurers in your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Program.cs"}]},{"type":"text","value":". This means that if\r\nyou use crypto feature, especially in configuration files, it might require a\r\ncorrect configuration for crypto feature as well."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel CLI uses "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Development"}]},{"type":"text","value":" for environment by default. However if you face a\r\nproblem while generating schema, code or dll because of encryption problems,\r\nyou can make use of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"--environment"}]},{"type":"text","value":" option to set environment during Gazel CLI\r\nprocess."}]},{"type":"element","tag":"code","props":{"code":"g schemagen bin/net6.0/Debug --environment GazelCLI\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da3fee"},"children":[{"type":"text","value":"g schemagen bin/net6.0/Debug --environment GazelCLI"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This, for example, sets environment to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GazelCLI"}]},{"type":"text","value":" so that you can create a\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"appsettings.GazelCLI.json"}]},{"type":"text","value":" file and specify your certificate option in this\r\nconfiguration under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Certificate"}]},{"type":"text","value":" section."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-243aa5{color:#D7BA7D}\n.ct-af226d{color:#C8C8C8}\n.ct-15babd{color:#B5CEA8}\n.ct-01a8ef{color:#6A9955}\n.ct-c08d6c{color:#C586C0}\n.ct-18751d{color:#CE9178}\n.ct-db8228{color:#DCDCAA}\n.ct-3a398c{color:#9CDCFE}\n.ct-853398{color:#4EC9B0}\n.ct-da3fee{color:#D4D4D4}\n.ct-4e02a3{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"crypto-api","depth":2,"text":"Crypto API","children":[{"id":"icryptographer-interface","depth":3,"text":"ICryptographer interface"},{"id":"encryptedstring-struct","depth":3,"text":"EncryptedString struct"}]},{"id":"configuration","depth":2,"text":"Configuration","children":[{"id":"x509store","depth":3,"text":"X509Store"},{"id":"x509certificatefromp12file","depth":3,"text":"X509CertificateFromP12File"},{"id":"x509certificatefrompem","depth":3,"text":"X509CertificateFromPem"},{"id":"autoresolve","depth":3,"text":"AutoResolve"}]}]}},"_type":"markdown","_id":"content:features:crypto.md","_source":"content","_file":"features/crypto.md","_extension":"md"},{"_path":"/features/exception-handling","_dir":"features","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Exception Handling","description":"Exception handling feature provides a way for your services to respond with a\r\ncode and a message for every request. To set an error code and message in your\r\nresponse you simply implement an exception class that extends\r\nServiceException and throw an instance of that exception class in your\r\nbusiness code.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"exception-handling"},"children":[{"type":"text","value":"Exception Handling"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exception handling feature provides a way for your services to respond with a\r\ncode and a message for every request. To set an error code and message in your\r\nresponse you simply implement an exception class that extends\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" and throw an instance of that exception class in your\r\nbusiness code."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"But before you start writing exception classes and use them right away, we want\r\nto describe result code system in Gazel."}]},{"type":"element","tag":"h2","props":{"id":"result-codes"},"children":[{"type":"text","value":"Result Codes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Result codes are reserved numbers starting from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"99999"}]},{"type":"text","value":" that will\r\nrepresent a response status of a service in your system. There are 5 types of\r\nresult codes;"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Abbr."}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Code Range"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Success"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Info"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"INF"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1 - 10000"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Warning"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WAR"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"10001 - 20000"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Error"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ERR"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20001 - 90000"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Fatal"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"99999"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These types are represented by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ResultCodeType"}]},{"type":"text","value":" enum in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Service"}]},{"type":"text","value":"\r\nnamespace."}]}]},{"type":"element","tag":"h3","props":{"id":"result-code-blocks"},"children":[{"type":"text","value":"Result Code Blocks"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are two main concerns about result codes that need to be addressed;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To be unique and static so that they can be documented"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To be organized so that they are easily used"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"10K"}]},{"type":"text","value":" info, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"10K"}]},{"type":"text","value":" warning codes and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"70K"}]},{"type":"text","value":" error codes. To organize\r\nthese numbers without breaking uniqueness you may split those codes into\r\nblocks, so that for every result code block there are "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"100"}]},{"type":"text","value":" info, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"100"}]},{"type":"text","value":" warning\r\nand "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"700"}]},{"type":"text","value":" error codes. Here is the table for result codes organized using\r\nresult code blocks;"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Block Index"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Info"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Warning"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Error"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"#0 (Reserved)"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1 - 100"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"10001 - 10100"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20001 - 20700"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"#1"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"101 - 200"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"10101 - 10200"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20701 - 21400"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"#2"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"201 - 300"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"10201 - 10300"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"21401 - 22100"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"td","props":{"align":null},"children":[]},{"type":"element","tag":"td","props":{"align":null},"children":[]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"#99"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"9901 - 10000"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"19901 - 20000"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"89301 - 90000"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Block "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0"}]},{"type":"text","value":" is reserved for built-in result codes such as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20001 - Authentication Required"}]},{"type":"text","value":" etc. See "},{"type":"element","tag":"a","props":{"href":"/features#exception-handling-built-in-errors"},"children":[{"type":"text","value":"below section"}]},{"type":"text","value":" for all\r\nbuilt-in result codes of Gazel"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a result code block extend "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ResultCodeBlocks"}]},{"type":"text","value":" class like this;"}]},{"type":"element","tag":"code","props":{"code":"public class ResultCodes : ResultCodeBlocks\r\n{\r\n    public static readonly ResultCodeBlock MyBlock = CreateBlock(1, \"MyBlock\");\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class ResultCodes : ResultCodeBlocks\r\n{\r\n    public static readonly ResultCodeBlock MyBlock = CreateBlock(1, \"MyBlock\");\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You will use this class potentially from every business module, so it's\r\nbetter for this to be included in the most base business module."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that we've created a block called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MyBlock"}]},{"type":"text","value":" at index "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1"}]},{"type":"text","value":", let's use this\r\nblock to create a unique result code within its code ranges;"}]},{"type":"element","tag":"code","props":{"code":"using static MyProduct.ResultCodes;\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"using static MyProduct.ResultCodes;\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"MyBlock.Info(0); // 101\r\nMyBlock.Info(10); // 111\r\n\r\nMyBlock.Warn(0); // 10101\r\nMyBlock.Warn(10); // 10111\r\n\r\nMyBlock.Err(0); // 20701\r\nMyBlock.Err(10); // 20711\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"MyBlock.Info(0); // 101\r\nMyBlock.Info(10); // 111\r\n\r\nMyBlock.Warn(0); // 10101\r\nMyBlock.Warn(10); // 10111\r\n\r\nMyBlock.Err(0); // 20701\r\nMyBlock.Err(10); // 20711\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may use one block per business module in your project. This way, errors\r\nwill be organized by the domain they belong to."}]},{"type":"element","tag":"h2","props":{"id":"response-status"},"children":[{"type":"text","value":"Response Status"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Response status is managed by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Status"}]},{"type":"text","value":" property of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IResponse"}]},{"type":"text","value":" to which you can\r\naccess through "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"_context.Response.Status\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"_context.Response.Status\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Type of this property is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IResponseStatus"}]},{"type":"text","value":", which is the interface to represent\r\nall response statuses. There are 3 base classes that implements this interface;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceInformation"}]},{"type":"text","value":" for information"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceWarning"}]},{"type":"text","value":" for warnings"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" for errors"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In service applications, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceInformation"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceWarning"}]},{"type":"text","value":" are\r\nincluded in response headers along with the successful response body.\r\nHowever, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" is returned directly in the response body."}]}]},{"type":"element","tag":"h3","props":{"id":"implementing-a-response-status"},"children":[{"type":"text","value":"Implementing a response status"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For every message and status extend one of the response status base classes\r\nwith a proper result code."}]},{"type":"element","tag":"code","props":{"code":"using static MyProduct.ResultCodes;\r\n\r\n...\r\n\r\npublic static class MyExceptions\r\n{\r\n    public class ThisIsWrong : ServiceException\r\n    {\r\n        public ThisIsWrong() : base(MyBlock.Err(0)) { }\r\n    }\r\n}\r\n\r\npublic static class MyWarnings\r\n{\r\n    public class YouAreWarned : ServiceWarning\r\n    {\r\n        public YouAreWarned() : base(MyBlock.Warn(0)) { }\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"using static MyProduct.ResultCodes;\r\n\r\n...\r\n\r\npublic static class MyExceptions\r\n{\r\n    public class ThisIsWrong : ServiceException\r\n    {\r\n        public ThisIsWrong() : base(MyBlock.Err(0)) { }\r\n    }\r\n}\r\n\r\npublic static class MyWarnings\r\n{\r\n    public class YouAreWarned : ServiceWarning\r\n    {\r\n        public YouAreWarned() : base(MyBlock.Warn(0)) { }\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can see that we've used a result code block "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MyBlock"}]},{"type":"text","value":" to give a\r\nproper warning code."}]}]},{"type":"element","tag":"h3","props":{"id":"throwing-exceptions"},"children":[{"type":"text","value":"Throwing exceptions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you implement an exception class that extends "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" you may\r\nthrow it just like any .NET exception;"}]},{"type":"element","tag":"code","props":{"code":"using static MyProduct.MyExceptions;\r\n\r\n...\r\n\r\npublic class MyManager\r\n{\r\n    public void GiveMeError()\r\n    {\r\n         throw new ThisIsWrong();\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"using static MyProduct.MyExceptions;\r\n\r\n...\r\n\r\npublic class MyManager\r\n{\r\n    public void GiveMeError()\r\n    {\r\n         throw new ThisIsWrong();\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exception handling mechanism catches this exception and automatically sets it\r\nas a response status."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you throw an exception that is not a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":", then it will be\r\ntreated as a fatal error with result code "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"99999"}]},{"type":"text","value":". To handle other exceptions\r\nthan "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" you need to implement a custom exception handler as\r\nmentioned in "},{"type":"element","tag":"a","props":{"href":"/features#exception-handling-customization"},"children":[{"type":"text","value":"below section"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may still catch this exception from your business code so that exception\r\nhandling mechanism is not triggered."}]}]},{"type":"element","tag":"h3","props":{"id":"setting-response-status"},"children":[{"type":"text","value":"Setting response status"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may also directly set "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.Response.Status"}]},{"type":"text","value":" property with an\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IResponseStatus"}]},{"type":"text","value":" instance. Below is an example of setting status to a warning;"}]},{"type":"element","tag":"code","props":{"code":"using static MyProduct.MyWarnings;\r\n\r\n...\r\n\r\npublic class MyManager\r\n{\r\n    private readonly IModuleContext _context;\r\n    public MyManager(IModuleContext context) => _context = context;\r\n\r\n    public void GiveMeStatus()\r\n    {\r\n        _context.Response.Status = new YouAreWarned();\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"using static MyProduct.MyWarnings;\r\n\r\n...\r\n\r\npublic class MyManager\r\n{\r\n    private readonly IModuleContext _context;\r\n    public MyManager(IModuleContext context) => _context = context;\r\n\r\n    public void GiveMeStatus()\r\n    {\r\n        _context.Response.Status = new YouAreWarned();\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"log-levels"},"children":[{"type":"text","value":"Log Levels"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Handled exceptions, responses with error codes, are logged in "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Warning"}]},{"type":"text","value":"\r\nlevel."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Unhandled exceptions, responses with fatal code , are logged in "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Error"}]},{"type":"text","value":"\r\nlevel."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Other statuses are not logged separately."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may configure logging to only include error logs in production, so that\r\nyou can monitor unhandled errors in the production code."}]}]},{"type":"element","tag":"h3","props":{"id":"localizing-messages"},"children":[{"type":"text","value":"Localizing messages"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every result code should have a corresponding message in localization.\r\nException handling uses "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ILocalizer"}]},{"type":"text","value":" to retrieve message format using a key\r\nwith type and code such as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ERR-20001"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WAR-10001"}]},{"type":"text","value":". Once message format is\r\nretrieved, it is formatted using message parameters in response status object."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's say you defined another exception in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MyBlock"}]},{"type":"text","value":";"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class RequiredParameter : ServiceException\r\n{\r\n    public RequiredParameter(string parameterName) : base(MyBlock.Err(1), parameterName) { }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\r\npublic class RequiredParameter : ServiceException\r\n{\r\n    public RequiredParameter(string parameterName) : base(MyBlock.Err(1), parameterName) { }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This would have a localization key "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ERR-20702"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Assume your localization has a message like this;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"ERR-20702\": \"Parameter is required: '{0}'\"\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\r\n    \"ERR-20702\": \"Parameter is required: '{0}'\"\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you throw this exception;"}]},{"type":"element","tag":"code","props":{"code":"public void CreateEmployee(string ssid)\r\n{\r\n    if(string.IsNullOrWhitespace(ssid))\r\n    {\r\n        throw new RequiredParameter(nameof(ssid));\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public void CreateEmployee(string ssid)\r\n{\r\n    if(string.IsNullOrWhitespace(ssid))\r\n    {\r\n        throw new RequiredParameter(nameof(ssid));\r\n    }\r\n    ...\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You will send a response with code "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20702"}]},{"type":"text","value":" and message;"}]},{"type":"element","tag":"code","props":{"code":"Parameter is required: 'ssid'\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Parameter is required: 'ssid'\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"including-extra-data"},"children":[{"type":"text","value":"Including extra data"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" class has a special property called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ExtraData"}]},{"type":"text","value":" to enable you\r\nto include extra data along with code and message so that client applications can\r\nuse this information to handle some business logic in exception case."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Assume you have a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Withdraw"}]},{"type":"text","value":" service that withdraws money from an account. You\r\nmay return current balance in extra data, when withdraw operation throws\r\ninsufficient balance exception so that client application can use it to provide\r\nsome further functionality."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Service applications include this informations in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X-Extra-Data"}]},{"type":"text","value":" response\r\nheader. Other applications, e.g. api application, may not return this\r\ninformation."}]}]},{"type":"element","tag":"h2","props":{"id":"built-in-errors"},"children":[{"type":"text","value":"Built-in Errors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below you can see built-in exceptions and their defined error codes;"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Error Code"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Error Type"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"HTTP Status Code"},{"type":"element","tag":"sup","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#user-content-fn-2","ariaDescribedBy":"footnote-label","dataFootnoteRef":true,"id":"user-content-fnref-2"},"children":[{"type":"text","value":"1"}]}]}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20001"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"AuthenticationRequiredException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401","rel":["nofollow"]},"children":[{"type":"text","value":"401"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20002"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20003"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"PermissionDeniedException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403","rel":["nofollow"]},"children":[{"type":"text","value":"403"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20004"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"CreditCardNumber"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20005"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"UriFormatException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20006"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"ObjectNotFoundException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404","rel":["nofollow"]},"children":[{"type":"text","value":"404"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20007"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"AppToken"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20008"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"CardNumber"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20009"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"CurrencyCode"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20010"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"DateRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20011"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Date"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20012"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Email"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20013"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"MoneyRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20014"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Money"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20015"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Tckn"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20016"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"TimeRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20017"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Time"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20018"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Vkn"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20019"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"InvalidEnumArgumentException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20020"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"RangeException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"DateRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20021"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"RangeException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"MoneyRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20022"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"RangeException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"TimeRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20023"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"TriState"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20024"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"InvalidCurrencyException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20025"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Rate"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20026"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Timestamp"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20027"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"DateTime"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20028"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"DateTimeRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20029"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"RangeException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"DateTimeRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20030"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Guid"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20031"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"RequestIdRequiredException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20032"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Binary"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20033"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"MaxDailyRequestCountExceededException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20034"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Iban"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20035"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Geoloc"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20036"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"TimeSpan"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20037"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"VknOrTckn"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20038"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"MimeType"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20039"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"CountryCode"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20040"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"NotImplementedException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/501","rel":["nofollow"]},"children":[{"type":"text","value":"501"}]},{"type":"element","tag":"sup","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#user-content-fn-1","ariaDescribedBy":"footnote-label","dataFootnoteRef":true,"id":"user-content-fnref-1"},"children":[{"type":"text","value":"2"}]}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20041"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Password"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20042"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20201"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FrameworkExceptions.Remote"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20202"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FrameworkExceptions.InvalidSign"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]}]}]},{"type":"element","tag":"h3","props":{"id":"information-and-warnings"},"children":[{"type":"text","value":"Information and Warnings"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Result Code"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Response Status"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FrameworkInformations.Remote"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"10001"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FrameworkWarnings.ObsoleteServiceCalled"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"10002"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FrameworkWarnings.Remote"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"10003"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FrameworkWarnings.GivenLanguageCodeIsNotSupported"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"customization"},"children":[{"type":"text","value":"Customization"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exception handling mechanism is a core feature of Gazel framework. You cannot\r\nchange the underlying mechanism nor you cannot disable it. However, you can\r\nextend it to provide additional exception handlers."}]},{"type":"element","tag":"h3","props":{"id":"creating-a-custom-handler"},"children":[{"type":"text","value":"Creating a custom handler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exception handling is done through "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IExceptionHandler"}]},{"type":"text","value":" interface. If you want\r\nto provide a custom mechanism to handle errors, you must implement this\r\ninterface and register it to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IKernel"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When an exception is thrown, exception handling feature loops through all\r\nexception handlers to find a way to convert the exception into\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":". If it can, then it means exception is handled with an error\r\ncode, if it cannot, then it means it is an unhandled exception with the fatal\r\ncode."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below is an example of a custom exception handler for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ArgumentException"}]},{"type":"text","value":";"}]},{"type":"element","tag":"code","props":{"code":"public class MyHandler : IExceptionHandler\r\n{\r\n    public bool Handles(Exception ex) => ex is ArgumentException;\r\n    public ServiceException Handle(Exception ex) => new ServiceException(90001)\r\n    ExceptionInfo GetExceptionInfo(int resultCode) =>\r\n        resultCode == 90001\r\n            ? new ExceptionInfo(typeof(ArgumentException))\r\n            : null;\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class MyHandler : IExceptionHandler\r\n{\r\n    public bool Handles(Exception ex) => ex is ArgumentException;\r\n    public ServiceException Handle(Exception ex) => new ServiceException(90001)\r\n    ExceptionInfo GetExceptionInfo(int resultCode) =>\r\n        resultCode == 90001\r\n            ? new ExceptionInfo(typeof(ArgumentException))\r\n            : null;\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you implement a handler inside a module project, it will be automatically\r\nregistered to kernel so that exception handling can use your custom handler."}]}]},{"type":"element","tag":"section","props":{"className":["footnotes"],"dataFootnotes":true},"children":[{"type":"element","tag":"h2","props":{"id":"footnote-label","className":["sr-only"]},"children":[{"type":"text","value":"Footnotes"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{"id":"user-content-fn-2"},"children":[{"type":"text","value":"All handled errors are "},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400","rel":["nofollow"]},"children":[{"type":"text","value":"400"}]},{"type":"text","value":" unless indicated otherwise. "},{"type":"element","tag":"a","props":{"href":"#user-content-fnref-2","ariaLabel":"Back to content","className":["data-footnote-backref"],"dataFootnoteBackref":true},"children":[{"type":"text","value":"↩"}]}]},{"type":"element","tag":"li","props":{"id":"user-content-fn-1"},"children":[{"type":"text","value":"This mapping violates "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"4xx"}]},{"type":"text","value":" rule for handled exceptions. This is intentional to provide you to throw a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NotImplementedException"}]},{"type":"text","value":" anywhere without causing an error log. "},{"type":"element","tag":"a","props":{"href":"#user-content-fnref-1","ariaLabel":"Back to content","className":["data-footnote-backref"],"dataFootnoteBackref":true},"children":[{"type":"text","value":"↩"}]}]}]}]}]},"position":6,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"exception-handling"},"children":[{"type":"text","value":"Exception Handling"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exception handling feature provides a way for your services to respond with a\r\ncode and a message for every request. To set an error code and message in your\r\nresponse you simply implement an exception class that extends\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" and throw an instance of that exception class in your\r\nbusiness code."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"But before you start writing exception classes and use them right away, we want\r\nto describe result code system in Gazel."}]},{"type":"element","tag":"h2","props":{"id":"result-codes"},"children":[{"type":"text","value":"Result Codes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Result codes are reserved numbers starting from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"99999"}]},{"type":"text","value":" that will\r\nrepresent a response status of a service in your system. There are 5 types of\r\nresult codes;"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Abbr."}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Code Range"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Success"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Info"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"INF"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1 - 10000"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Warning"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WAR"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"10001 - 20000"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Error"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ERR"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20001 - 90000"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Fatal"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"99999"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These types are represented by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ResultCodeType"}]},{"type":"text","value":" enum in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Gazel.Service"}]},{"type":"text","value":"\r\nnamespace."}]}]},{"type":"element","tag":"h3","props":{"id":"result-code-blocks"},"children":[{"type":"text","value":"Result Code Blocks"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are two main concerns about result codes that need to be addressed;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To be unique and static so that they can be documented"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To be organized so that they are easily used"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"10K"}]},{"type":"text","value":" info, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"10K"}]},{"type":"text","value":" warning codes and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"70K"}]},{"type":"text","value":" error codes. To organize\r\nthese numbers without breaking uniqueness you may split those codes into\r\nblocks, so that for every result code block there are "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"100"}]},{"type":"text","value":" info, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"100"}]},{"type":"text","value":" warning\r\nand "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"700"}]},{"type":"text","value":" error codes. Here is the table for result codes organized using\r\nresult code blocks;"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Block Index"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Info"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Warning"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Error"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"#0 (Reserved)"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1 - 100"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"10001 - 10100"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20001 - 20700"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"#1"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"101 - 200"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"10101 - 10200"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20701 - 21400"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"#2"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"201 - 300"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"10201 - 10300"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"21401 - 22100"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"td","props":{"align":null},"children":[]},{"type":"element","tag":"td","props":{"align":null},"children":[]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"#99"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"9901 - 10000"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"19901 - 20000"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"89301 - 90000"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Block "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0"}]},{"type":"text","value":" is reserved for built-in result codes such as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20001 - Authentication Required"}]},{"type":"text","value":" etc. See "},{"type":"element","tag":"a","props":{"href":"/features#exception-handling-built-in-errors"},"children":[{"type":"text","value":"below section"}]},{"type":"text","value":" for all\r\nbuilt-in result codes of Gazel"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a result code block extend "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ResultCodeBlocks"}]},{"type":"text","value":" class like this;"}]},{"type":"element","tag":"code","props":{"code":"public class ResultCodes : ResultCodeBlocks\r\n{\r\n    public static readonly ResultCodeBlock MyBlock = CreateBlock(1, \"MyBlock\");\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ResultCodes"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ResultCodeBlocks"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ResultCodeBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"MyBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"CreateBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ad7543"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-fa6436"},"children":[{"type":"text","value":"\"MyBlock\""}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You will use this class potentially from every business module, so it's\r\nbetter for this to be included in the most base business module."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that we've created a block called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MyBlock"}]},{"type":"text","value":" at index "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1"}]},{"type":"text","value":", let's use this\r\nblock to create a unique result code within its code ranges;"}]},{"type":"element","tag":"code","props":{"code":"using static MyProduct.ResultCodes;\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-676c4c"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"MyProduct"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ResultCodes"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":";"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"MyBlock.Info(0); // 101\r\nMyBlock.Info(10); // 111\r\n\r\nMyBlock.Warn(0); // 10101\r\nMyBlock.Warn(10); // 10111\r\n\r\nMyBlock.Err(0); // 20701\r\nMyBlock.Err(10); // 20711\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"MyBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"Info"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ad7543"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"); "}]},{"type":"element","tag":"span","props":{"class":"ct-e985f8"},"children":[{"type":"text","value":"// 101"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"MyBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"Info"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ad7543"},"children":[{"type":"text","value":"10"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"); "}]},{"type":"element","tag":"span","props":{"class":"ct-e985f8"},"children":[{"type":"text","value":"// 111"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"MyBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"Warn"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ad7543"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"); "}]},{"type":"element","tag":"span","props":{"class":"ct-e985f8"},"children":[{"type":"text","value":"// 10101"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"MyBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"Warn"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ad7543"},"children":[{"type":"text","value":"10"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"); "}]},{"type":"element","tag":"span","props":{"class":"ct-e985f8"},"children":[{"type":"text","value":"// 10111"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"MyBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"Err"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ad7543"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"); "}]},{"type":"element","tag":"span","props":{"class":"ct-e985f8"},"children":[{"type":"text","value":"// 20701"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"MyBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"Err"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ad7543"},"children":[{"type":"text","value":"10"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"); "}]},{"type":"element","tag":"span","props":{"class":"ct-e985f8"},"children":[{"type":"text","value":"// 20711"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may use one block per business module in your project. This way, errors\r\nwill be organized by the domain they belong to."}]},{"type":"element","tag":"h2","props":{"id":"response-status"},"children":[{"type":"text","value":"Response Status"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Response status is managed by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Status"}]},{"type":"text","value":" property of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IResponse"}]},{"type":"text","value":" to which you can\r\naccess through "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"_context.Response.Status\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"Status"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Type of this property is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IResponseStatus"}]},{"type":"text","value":", which is the interface to represent\r\nall response statuses. There are 3 base classes that implements this interface;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceInformation"}]},{"type":"text","value":" for information"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceWarning"}]},{"type":"text","value":" for warnings"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" for errors"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In service applications, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceInformation"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceWarning"}]},{"type":"text","value":" are\r\nincluded in response headers along with the successful response body.\r\nHowever, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" is returned directly in the response body."}]}]},{"type":"element","tag":"h3","props":{"id":"implementing-a-response-status"},"children":[{"type":"text","value":"Implementing a response status"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For every message and status extend one of the response status base classes\r\nwith a proper result code."}]},{"type":"element","tag":"code","props":{"code":"using static MyProduct.ResultCodes;\r\n\r\n...\r\n\r\npublic static class MyExceptions\r\n{\r\n    public class ThisIsWrong : ServiceException\r\n    {\r\n        public ThisIsWrong() : base(MyBlock.Err(0)) { }\r\n    }\r\n}\r\n\r\npublic static class MyWarnings\r\n{\r\n    public class YouAreWarned : ServiceWarning\r\n    {\r\n        public YouAreWarned() : base(MyBlock.Warn(0)) { }\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-676c4c"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"MyProduct"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ResultCodes"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"MyExceptions"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ThisIsWrong"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ServiceException"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"ThisIsWrong"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"() : "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"MyBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"Err"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ad7543"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":")) { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"MyWarnings"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"YouAreWarned"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ServiceWarning"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"YouAreWarned"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"() : "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"MyBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"Warn"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ad7543"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":")) { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can see that we've used a result code block "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MyBlock"}]},{"type":"text","value":" to give a\r\nproper warning code."}]}]},{"type":"element","tag":"h3","props":{"id":"throwing-exceptions"},"children":[{"type":"text","value":"Throwing exceptions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you implement an exception class that extends "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" you may\r\nthrow it just like any .NET exception;"}]},{"type":"element","tag":"code","props":{"code":"using static MyProduct.MyExceptions;\r\n\r\n...\r\n\r\npublic class MyManager\r\n{\r\n    public void GiveMeError()\r\n    {\r\n         throw new ThisIsWrong();\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-676c4c"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"MyProduct"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"MyExceptions"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"MyManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"GiveMeError"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"         "}]},{"type":"element","tag":"span","props":{"class":"ct-676c4c"},"children":[{"type":"text","value":"throw"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ThisIsWrong"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exception handling mechanism catches this exception and automatically sets it\r\nas a response status."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you throw an exception that is not a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":", then it will be\r\ntreated as a fatal error with result code "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"99999"}]},{"type":"text","value":". To handle other exceptions\r\nthan "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" you need to implement a custom exception handler as\r\nmentioned in "},{"type":"element","tag":"a","props":{"href":"/features#exception-handling-customization"},"children":[{"type":"text","value":"below section"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may still catch this exception from your business code so that exception\r\nhandling mechanism is not triggered."}]}]},{"type":"element","tag":"h3","props":{"id":"setting-response-status"},"children":[{"type":"text","value":"Setting response status"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may also directly set "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_context.Response.Status"}]},{"type":"text","value":" property with an\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IResponseStatus"}]},{"type":"text","value":" instance. Below is an example of setting status to a warning;"}]},{"type":"element","tag":"code","props":{"code":"using static MyProduct.MyWarnings;\r\n\r\n...\r\n\r\npublic class MyManager\r\n{\r\n    private readonly IModuleContext _context;\r\n    public MyManager(IModuleContext context) => _context = context;\r\n\r\n    public void GiveMeStatus()\r\n    {\r\n        _context.Response.Status = new YouAreWarned();\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-676c4c"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"MyProduct"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"MyWarnings"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"MyManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"MyManager"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"GiveMeStatus"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"Status"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"YouAreWarned"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"log-levels"},"children":[{"type":"text","value":"Log Levels"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Handled exceptions, responses with error codes, are logged in "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Warning"}]},{"type":"text","value":"\r\nlevel."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Unhandled exceptions, responses with fatal code , are logged in "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Error"}]},{"type":"text","value":"\r\nlevel."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Other statuses are not logged separately."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may configure logging to only include error logs in production, so that\r\nyou can monitor unhandled errors in the production code."}]}]},{"type":"element","tag":"h3","props":{"id":"localizing-messages"},"children":[{"type":"text","value":"Localizing messages"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every result code should have a corresponding message in localization.\r\nException handling uses "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ILocalizer"}]},{"type":"text","value":" to retrieve message format using a key\r\nwith type and code such as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ERR-20001"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WAR-10001"}]},{"type":"text","value":". Once message format is\r\nretrieved, it is formatted using message parameters in response status object."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's say you defined another exception in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MyBlock"}]},{"type":"text","value":";"}]},{"type":"element","tag":"code","props":{"code":"...\r\npublic class RequiredParameter : ServiceException\r\n{\r\n    public RequiredParameter(string parameterName) : base(MyBlock.Err(1), parameterName) { }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"RequiredParameter"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ServiceException"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"RequiredParameter"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"parameterName"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":") : "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"MyBlock"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"Err"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ad7543"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"), "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"parameterName"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":") { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This would have a localization key "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ERR-20702"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Assume your localization has a message like this;"}]},{"type":"element","tag":"code","props":{"code":"{\r\n    \"ERR-20702\": \"Parameter is required: '{0}'\"\r\n}\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"\"ERR-20702\""}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-fa6436"},"children":[{"type":"text","value":"\"Parameter is required: '{0}'\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you throw this exception;"}]},{"type":"element","tag":"code","props":{"code":"public void CreateEmployee(string ssid)\r\n{\r\n    if(string.IsNullOrWhitespace(ssid))\r\n    {\r\n        throw new RequiredParameter(nameof(ssid));\r\n    }\r\n    ...\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"CreateEmployee"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"ssid"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-676c4c"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"IsNullOrWhitespace"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"ssid"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"))"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-676c4c"},"children":[{"type":"text","value":"throw"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"RequiredParameter"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"nameof"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"ssid"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"));"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You will send a response with code "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"20702"}]},{"type":"text","value":" and message;"}]},{"type":"element","tag":"code","props":{"code":"Parameter is required: 'ssid'\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"Parameter is required: 'ssid'"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"including-extra-data"},"children":[{"type":"text","value":"Including extra data"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":" class has a special property called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ExtraData"}]},{"type":"text","value":" to enable you\r\nto include extra data along with code and message so that client applications can\r\nuse this information to handle some business logic in exception case."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Assume you have a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Withdraw"}]},{"type":"text","value":" service that withdraws money from an account. You\r\nmay return current balance in extra data, when withdraw operation throws\r\ninsufficient balance exception so that client application can use it to provide\r\nsome further functionality."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Service applications include this informations in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X-Extra-Data"}]},{"type":"text","value":" response\r\nheader. Other applications, e.g. api application, may not return this\r\ninformation."}]}]},{"type":"element","tag":"h2","props":{"id":"built-in-errors"},"children":[{"type":"text","value":"Built-in Errors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below you can see built-in exceptions and their defined error codes;"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Error Code"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Error Type"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"HTTP Status Code"},{"type":"element","tag":"sup","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#user-content-fn-2","ariaDescribedBy":"footnote-label","dataFootnoteRef":true,"id":"user-content-fnref-2"},"children":[{"type":"text","value":"1"}]}]}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20001"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"AuthenticationRequiredException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401","rel":["nofollow"]},"children":[{"type":"text","value":"401"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20002"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20003"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"PermissionDeniedException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403","rel":["nofollow"]},"children":[{"type":"text","value":"403"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20004"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"CreditCardNumber"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20005"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"UriFormatException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20006"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"ObjectNotFoundException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404","rel":["nofollow"]},"children":[{"type":"text","value":"404"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20007"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"AppToken"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20008"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"CardNumber"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20009"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"CurrencyCode"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20010"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"DateRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20011"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Date"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20012"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Email"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20013"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"MoneyRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20014"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Money"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20015"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Tckn"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20016"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"TimeRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20017"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Time"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20018"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Vkn"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20019"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"InvalidEnumArgumentException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20020"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"RangeException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"DateRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20021"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"RangeException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"MoneyRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20022"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"RangeException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"TimeRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20023"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"TriState"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20024"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"InvalidCurrencyException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20025"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Rate"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20026"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Timestamp"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20027"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"DateTime"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20028"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"DateTimeRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20029"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"RangeException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"DateTimeRange"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20030"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Guid"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20031"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"RequestIdRequiredException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20032"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Binary"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20033"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"MaxDailyRequestCountExceededException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20034"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Iban"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20035"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Geoloc"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20036"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"TimeSpan"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20037"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"VknOrTckn"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20038"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"MimeType"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20039"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"CountryCode"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20040"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"NotImplementedException"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/501","rel":["nofollow"]},"children":[{"type":"text","value":"501"}]},{"type":"element","tag":"sup","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#user-content-fn-1","ariaDescribedBy":"footnote-label","dataFootnoteRef":true,"id":"user-content-fnref-1"},"children":[{"type":"text","value":"2"}]}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20041"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Password"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20042"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FormatException<"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"EncryptedString"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20201"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FrameworkExceptions.Remote"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"20202"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FrameworkExceptions.InvalidSign"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]}]}]},{"type":"element","tag":"h3","props":{"id":"information-and-warnings"},"children":[{"type":"text","value":"Information and Warnings"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Result Code"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Response Status"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FrameworkInformations.Remote"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"10001"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FrameworkWarnings.ObsoleteServiceCalled"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"10002"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FrameworkWarnings.Remote"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"10003"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"FrameworkWarnings.GivenLanguageCodeIsNotSupported"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"customization"},"children":[{"type":"text","value":"Customization"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exception handling mechanism is a core feature of Gazel framework. You cannot\r\nchange the underlying mechanism nor you cannot disable it. However, you can\r\nextend it to provide additional exception handlers."}]},{"type":"element","tag":"h3","props":{"id":"creating-a-custom-handler"},"children":[{"type":"text","value":"Creating a custom handler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exception handling is done through "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IExceptionHandler"}]},{"type":"text","value":" interface. If you want\r\nto provide a custom mechanism to handle errors, you must implement this\r\ninterface and register it to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IKernel"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When an exception is thrown, exception handling feature loops through all\r\nexception handlers to find a way to convert the exception into\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceException"}]},{"type":"text","value":". If it can, then it means exception is handled with an error\r\ncode, if it cannot, then it means it is an unhandled exception with the fatal\r\ncode."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below is an example of a custom exception handler for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ArgumentException"}]},{"type":"text","value":";"}]},{"type":"element","tag":"code","props":{"code":"public class MyHandler : IExceptionHandler\r\n{\r\n    public bool Handles(Exception ex) => ex is ArgumentException;\r\n    public ServiceException Handle(Exception ex) => new ServiceException(90001)\r\n    ExceptionInfo GetExceptionInfo(int resultCode) =>\r\n        resultCode == 90001\r\n            ? new ExceptionInfo(typeof(ArgumentException))\r\n            : null;\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"MyHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"IExceptionHandler"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"Handles"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"Exception"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"ex"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"ex"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"is"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ArgumentException"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ServiceException"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"Handle"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"Exception"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"ex"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ServiceException"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ad7543"},"children":[{"type":"text","value":"90001"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"ExceptionInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7eae60"},"children":[{"type":"text","value":"GetExceptionInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"resultCode"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":") =>"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-704f24"},"children":[{"type":"text","value":"resultCode"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-ad7543"},"children":[{"type":"text","value":"90001"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"            ? "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ExceptionInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"typeof"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2be8cf"},"children":[{"type":"text","value":"ArgumentException"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"))"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"            : "}]},{"type":"element","tag":"span","props":{"class":"ct-b6cd38"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6e8fb0"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you implement a handler inside a module project, it will be automatically\r\nregistered to kernel so that exception handling can use your custom handler."}]}]},{"type":"element","tag":"section","props":{"className":["footnotes"],"dataFootnotes":true},"children":[{"type":"element","tag":"h2","props":{"id":"footnote-label","className":["sr-only"]},"children":[{"type":"text","value":"Footnotes"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{"id":"user-content-fn-2"},"children":[{"type":"text","value":"All handled errors are "},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400","rel":["nofollow"]},"children":[{"type":"text","value":"400"}]},{"type":"text","value":" unless indicated otherwise. "},{"type":"element","tag":"a","props":{"href":"#user-content-fnref-2","ariaLabel":"Back to content","className":["data-footnote-backref"],"dataFootnoteBackref":true},"children":[{"type":"text","value":"↩"}]}]},{"type":"element","tag":"li","props":{"id":"user-content-fn-1"},"children":[{"type":"text","value":"This mapping violates "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"4xx"}]},{"type":"text","value":" rule for handled exceptions. This is intentional to provide you to throw a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NotImplementedException"}]},{"type":"text","value":" anywhere without causing an error log. "},{"type":"element","tag":"a","props":{"href":"#user-content-fnref-1","ariaLabel":"Back to content","className":["data-footnote-backref"],"dataFootnoteBackref":true},"children":[{"type":"text","value":"↩"}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-e985f8{color:#6A9955}\n.ct-676c4c{color:#C586C0}\n.ct-fa6436{color:#CE9178}\n.ct-ad7543{color:#B5CEA8}\n.ct-7eae60{color:#DCDCAA}\n.ct-704f24{color:#9CDCFE}\n.ct-2be8cf{color:#4EC9B0}\n.ct-6e8fb0{color:#D4D4D4}\n.ct-b6cd38{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"result-codes","depth":2,"text":"Result Codes","children":[{"id":"result-code-blocks","depth":3,"text":"Result Code Blocks"}]},{"id":"response-status","depth":2,"text":"Response Status","children":[{"id":"implementing-a-response-status","depth":3,"text":"Implementing a response status"},{"id":"throwing-exceptions","depth":3,"text":"Throwing exceptions"},{"id":"setting-response-status","depth":3,"text":"Setting response status"},{"id":"log-levels","depth":3,"text":"Log Levels"},{"id":"localizing-messages","depth":3,"text":"Localizing messages"},{"id":"including-extra-data","depth":3,"text":"Including extra data"}]},{"id":"built-in-errors","depth":2,"text":"Built-in Errors","children":[{"id":"information-and-warnings","depth":3,"text":"Information and Warnings"}]},{"id":"customization","depth":2,"text":"Customization","children":[{"id":"creating-a-custom-handler","depth":3,"text":"Creating a custom handler"}]},{"id":"footnote-label","depth":2,"text":"Footnotes"}]}},"_type":"markdown","_id":"content:features:exception-handling.md","_source":"content","_file":"features/exception-handling.md","_extension":"md"},{"_path":"/features/file-system","_dir":"features","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"File System","description":"File system feature basically enables you to read/write file content from/to a\r\nfile storage.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"file-system"},"children":[{"type":"text","value":"File System"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"File system feature basically enables you to read/write file content from/to a\r\nfile storage."}]},{"type":"element","tag":"h2","props":{"id":"ifilesystem-interface"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IFileSystem"}]},{"type":"text","value":" interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When an application has this feature, you can directly inject "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IFileSystem"}]},{"type":"text","value":" interface\r\ninto your business objects. Below is a simple example;"}]},{"type":"element","tag":"code","props":{"code":"public class FileManager\r\n{\r\n    private readonly IFileSystem _file;\r\n    public FileManager(IFileSystem file) => _file = file;\r\n\r\n    public await Task<Binary> FetchContent(string path)\r\n    {\r\n        return await _file.ReadAsync(path);\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class FileManager\r\n{\r\n    private readonly IFileSystem _file;\r\n    public FileManager(IFileSystem file) => _file = file;\r\n\r\n    public await Task<Binary> FetchContent(string path)\r\n    {\r\n        return await _file.ReadAsync(path);\r\n    }\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel has a built-in implementation that uses local storage."}]},{"type":"element","tag":"code","props":{"code":"builder.Services.AddGazelServiceApplication(\r\n    ...\r\n    fileSystem: c => c.Local(rootPath: \"files\"),\r\n    ...\r\n);\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"builder.Services.AddGazelServiceApplication(\r\n    ...\r\n    fileSystem: c => c.Local(rootPath: \"files\"),\r\n    ...\r\n);\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"rootPath"}]},{"type":"text","value":" is given, all files will be stored under this folder. You might\r\npass an absolute path as well."}]},{"type":"element","tag":"code","props":{"code":"c => c.Local(rootPath: \"/absolute-path\"),\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"c => c.Local(rootPath: \"/absolute-path\"),\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Local storage makes sense for development environment. You may use a network\r\npath by giving an absolute path as well."}]}]},{"type":"element","tag":"h2","props":{"id":"customization"},"children":[{"type":"text","value":"Customization"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you want to store files in a different type of storage, you can implement\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IFileSystem"}]},{"type":"text","value":" interface and register it using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Custom"}]},{"type":"text","value":" configurer in\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FileSystemConfigurer"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Assume you've made an S3 implementation of file system interface, you can\r\nregister it as below;"}]},{"type":"element","tag":"code","props":{"code":"c => c.Custom<S3FileSystem>()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"c => c.Custom<S3FileSystem>()\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If your implementation depends on some configuration, write a settings class,\r\nregister it to the IoC and inject it to the file system implementation."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For above example, write a class named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"S3Settings"}]},{"type":"text","value":" and inject it into\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"S3FileSystem"}]},{"type":"text","value":" class, and then register "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"S3Settings"}]},{"type":"text","value":" to the kernel."}]}]}]},"position":7,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"file-system"},"children":[{"type":"text","value":"File System"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"File system feature basically enables you to read/write file content from/to a\r\nfile storage."}]},{"type":"element","tag":"h2","props":{"id":"ifilesystem-interface"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IFileSystem"}]},{"type":"text","value":" interface"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When an application has this feature, you can directly inject "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IFileSystem"}]},{"type":"text","value":" interface\r\ninto your business objects. Below is a simple example;"}]},{"type":"element","tag":"code","props":{"code":"public class FileManager\r\n{\r\n    private readonly IFileSystem _file;\r\n    public FileManager(IFileSystem file) => _file = file;\r\n\r\n    public await Task<Binary> FetchContent(string path)\r\n    {\r\n        return await _file.ReadAsync(path);\r\n    }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-81c914"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-81c914"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-24419b"},"children":[{"type":"text","value":"FileManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-81c914"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-81c914"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-24419b"},"children":[{"type":"text","value":"IFileSystem"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"_file"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-81c914"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-253da6"},"children":[{"type":"text","value":"FileManager"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-24419b"},"children":[{"type":"text","value":"IFileSystem"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"_file"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-81c914"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" await "}]},{"type":"element","tag":"span","props":{"class":"ct-24419b"},"children":[{"type":"text","value":"Task"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-24419b"},"children":[{"type":"text","value":"Binary"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-253da6"},"children":[{"type":"text","value":"FetchContent"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-81c914"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-85300f"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-81c914"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"_file"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-253da6"},"children":[{"type":"text","value":"ReadAsync"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gazel has a built-in implementation that uses local storage."}]},{"type":"element","tag":"code","props":{"code":"builder.Services.AddGazelServiceApplication(\r\n    ...\r\n    fileSystem: c => c.Local(rootPath: \"files\"),\r\n    ...\r\n);\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"builder"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"Services"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-253da6"},"children":[{"type":"text","value":"AddGazelServiceApplication"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"fileSystem"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-253da6"},"children":[{"type":"text","value":"Local"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"rootPath"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-6b9df5"},"children":[{"type":"text","value":"\"files\""}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"),"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":");"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"rootPath"}]},{"type":"text","value":" is given, all files will be stored under this folder. You might\r\npass an absolute path as well."}]},{"type":"element","tag":"code","props":{"code":"c => c.Local(rootPath: \"/absolute-path\"),\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-253da6"},"children":[{"type":"text","value":"Local"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"rootPath"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-6b9df5"},"children":[{"type":"text","value":"\"/absolute-path\""}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"),"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Local storage makes sense for development environment. You may use a network\r\npath by giving an absolute path as well."}]}]},{"type":"element","tag":"h2","props":{"id":"customization"},"children":[{"type":"text","value":"Customization"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you want to store files in a different type of storage, you can implement\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IFileSystem"}]},{"type":"text","value":" interface and register it using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Custom"}]},{"type":"text","value":" configurer in\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"FileSystemConfigurer"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Assume you've made an S3 implementation of file system interface, you can\r\nregister it as below;"}]},{"type":"element","tag":"code","props":{"code":"c => c.Custom<S3FileSystem>()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-01101a"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-253da6"},"children":[{"type":"text","value":"Custom"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-24419b"},"children":[{"type":"text","value":"S3FileSystem"}]},{"type":"element","tag":"span","props":{"class":"ct-7876e6"},"children":[{"type":"text","value":">()"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If your implementation depends on some configuration, write a settings class,\r\nregister it to the IoC and inject it to the file system implementation."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For above example, write a class named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"S3Settings"}]},{"type":"text","value":" and inject it into\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"S3FileSystem"}]},{"type":"text","value":" class, and then register "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"S3Settings"}]},{"type":"text","value":" to the kernel."}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-6b9df5{color:#CE9178}\n.ct-85300f{color:#C586C0}\n.ct-253da6{color:#DCDCAA}\n.ct-01101a{color:#9CDCFE}\n.ct-24419b{color:#4EC9B0}\n.ct-7876e6{color:#D4D4D4}\n.ct-81c914{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"ifilesystem-interface","depth":2,"text":"IFileSystem interface"},{"id":"configuration","depth":2,"text":"Configuration"},{"id":"customization","depth":2,"text":"Customization"}]}},"_type":"markdown","_id":"content:features:file-system.md","_source":"content","_file":"features/file-system.md","_extension":"md"},{"_path":"/features/configurations","_dir":"features","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Configurations","description":"Here you can find how to configure small features, Configurations. When\r\nconfiguring an application you can always check which ones are available from\r\nthe optional parameters.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"configurations"},"children":[{"type":"text","value":"Configurations"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can find how to configure small features, "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Configurations"}]},{"type":"text","value":". When\r\nconfiguring an application you can always check which ones are available from\r\nthe optional parameters."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every sample code in this section is in the same format as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"service"}]},{"type":"text","value":" feature\r\nconfiguration shown below;"}]},{"type":"element","tag":"code","props":{"code":"service: c => c.Routine(\r\n  serviceUrlBase: ServiceUrl.Localhost(7028)\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"service: c => c.Routine(\r\n  serviceUrlBase: ServiceUrl.Localhost(7028)\r\n)\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Examples will only include configuration line to avoid repetitive samples like\r\nbelow;"}]},{"type":"element","tag":"code","props":{"code":"builder.Services.AddGazelServiceApplication(cfg,\r\n    ...\r\n    service: c => c.Routine(\r\n      serviceUrlBase: ServiceUrl.Localhost(7028)\r\n    )\r\n    ...\r\n);\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"builder.Services.AddGazelServiceApplication(cfg,\r\n    ...\r\n    service: c => c.Routine(\r\n      serviceUrlBase: ServiceUrl.Localhost(7028)\r\n    )\r\n    ...\r\n);\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"application-assemblies"},"children":[{"type":"text","value":"Application Assemblies"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may change which assemblies are used for an application via this\r\nconfiguration. By default Gazel loads all assemblies starting with the root\r\nnamespace of your entry assembly. Assume your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Program.cs"}]},{"type":"text","value":" is in a project\r\nnamed "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MyCompany.MyComponent.App.Service"}]},{"type":"text","value":", then the root namespace is\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MyCompany"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each application configurer has a configuration named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"applicationAssemblies"}]},{"type":"text","value":"\r\nwhich provides "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Assemblies"}]},{"type":"text","value":" instance as a parameter and expects\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"List<Assembly>"}]},{"type":"text","value":" as a result. Below you can find default configuration;"}]},{"type":"element","tag":"code","props":{"code":"applicationAssemblies: c => c.All\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"applicationAssemblies: c => c.All\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are several ways to determine which assemblies to use;"}]},{"type":"element","tag":"h3","props":{"id":"filtering-all"},"children":[{"type":"text","value":"Filtering "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"All"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can directly filter out unwanted assemblies returned by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"All"}]},{"type":"text","value":" property."}]},{"type":"element","tag":"code","props":{"code":"applicationAssemblies: c => c.All.Where(predicate: a => !a.FullName.Contains(value: \"Exclude\")).ToList()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"applicationAssemblies: c => c.All.Where(predicate: a => !a.FullName.Contains(value: \"Exclude\")).ToList()\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"find-by-namespace"},"children":[{"type":"text","value":"Find By Namespace"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There is a method on "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Assemblies"}]},{"type":"text","value":" class called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Find"}]},{"type":"text","value":" that takes a namespace\r\npredicate as a parameter;"}]},{"type":"element","tag":"code","props":{"code":"applicationAssemblies: c => c.Find(namespaceFilter: ns => ns.StartsWith(value: \"MyCompany\"))\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"applicationAssemblies: c => c.Find(namespaceFilter: ns => ns.StartsWith(value: \"MyCompany\"))\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"find-by-regex"},"children":[{"type":"text","value":"Find By Regex"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also provide a namespace regex;"}]},{"type":"element","tag":"code","props":{"code":"applicationAssemblies: c => c.Find(namespaceRegex: \"^MyCompany.*$\")\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"applicationAssemblies: c => c.Find(namespaceRegex: \"^MyCompany.*$\")\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"find-by-assemblytype"},"children":[{"type":"text","value":"Find By "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AssemblyType"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can make use of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AssemblyType"}]},{"type":"text","value":" class."}]},{"type":"element","tag":"code","props":{"code":"applicationAssemblies: c => c.Find(type: AssemblyType.Module)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"applicationAssemblies: c => c.Find(type: AssemblyType.Module)\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"c => c.Find(type: AssemblyType.All)"}]},{"type":"text","value":" is equivalent to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"c => c.All"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AssemblyType"}]},{"type":"text","value":" uses root namespace of your project that is resolved\r\nautomatically. You can access your root namespace programmatically via\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AssemblyType.Root"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Config.RootNamespace"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"application-session"},"children":[{"type":"text","value":"Application Session"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ApplicationSessionConfiguration"}]},{"type":"text","value":" allows you to provide a token for a middle\r\napplication (such as "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Gateway Application"}]},{"type":"text","value":") to be used when sending requests to\r\nits backing application (such as "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Service Application"}]},{"type":"text","value":"). When there is a need\r\nfor your application to authenticate its requests to the other application\r\nbefore a user session is established you can use this configuration."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can find this configuration under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"applicationSession:"}]},{"type":"text","value":" parameter and\r\nprovide an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AppToken"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"applicationSession: c => c.Use(token: cfg.Setting<AppToken>(\"ApplicationSession.Token\"))\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"applicationSession: c => c.Use(token: cfg.Setting<AppToken>(\"ApplicationSession.Token\"))\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Or you can leave your application session token empty by using\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UseEmptyToken()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"applicationSession: c => c.UseEmptyToken()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"applicationSession: c => c.UseEmptyToken()\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Default configuration uses "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UseEmptyToken()"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"business-logic"},"children":[{"type":"text","value":"Business Logic"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"BusinessLogicConfiguration"}]},{"type":"text","value":" you can configure Routine's\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"developmentMode"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"maxFetchDepth"}]},{"type":"text","value":" options."}]},{"type":"element","tag":"code","props":{"code":"businessLogic: c => c.Routine(\r\n  developmentMode: builder.Environment.IsDevelopment(), // defaults to false\r\n  maxFetchDepth: 10 // defaults to 10\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"businessLogic: c => c.Routine(\r\n  developmentMode: builder.Environment.IsDevelopment(), // defaults to false\r\n  maxFetchDepth: 10 // defaults to 10\r\n)\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MaxFetchDepth"}]},{"type":"text","value":" is a parameter that limits service layer during json\r\nserialization from going through all the relations to prevent a stack\r\noverflow in case of a circular relation. This does "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"NOT"}]},{"type":"text","value":" configure\r\nNHibernate's eager fetch / lazy load mechanism."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There is also an extra "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"includeComponentNameInModuleName:"}]},{"type":"text","value":" option which enables\r\nyour application to use the component part of your module project as well as\r\nits module name. To use this option your module projects must be named in\r\nthis convention: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<Company>.<Component>.Module.<ModuleName>"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"businessLogic: c => c.Routine(\r\n  includeComponentNameInModuleName: true // defaults to false\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"businessLogic: c => c.Routine(\r\n  includeComponentNameInModuleName: true // defaults to false\r\n)\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To give an example, if you have a module project named\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv.Sample.Module.Todo"}]},{"type":"text","value":", name of this module in service layer is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Todo"}]},{"type":"text","value":"\r\nby default. If you set this option to true, module name in service layer\r\nwill be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Sample.Todo"}]},{"type":"text","value":". It is useful when you have a large enough project with\r\nmore than one component."}]},{"type":"element","tag":"h2","props":{"id":"command-line"},"children":[{"type":"text","value":"Command Line"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Allows you to configure which assembly to use when searching for command\r\nclasses. You can use AssemblyType (similar to "},{"type":"element","tag":"a","props":{"href":"/features#configurations-application-assemblies"},"children":[{"type":"text","value":"Application\r\nAssemblies"}]},{"type":"text","value":") for this configuration."}]},{"type":"element","tag":"code","props":{"code":"commandLine: c => c.CommandLineParser(commandAssembly: AssemblyType.All),\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"commandLine: c => c.CommandLineParser(commandAssembly: AssemblyType.All),\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Default configurations uses "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AssemblyType.App"}]},{"type":"text","value":", so it expects command classes\r\nto be directly in the app project. App project names follow this convention:\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<Company>.<Component>.App.<AppName>"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For more information visit "},{"type":"element","tag":"a","props":{"href":"/architecture#layers-command-line-layer"},"children":[{"type":"text","value":"Command Line\r\nLayer"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"database"},"children":[{"type":"text","value":"Database"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TBD"}]}]},{"type":"element","tag":"h2","props":{"id":"gateway"},"children":[{"type":"text","value":"Gateway"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Configures "},{"type":"element","tag":"a","props":{"href":"/architecture#layers-gateway-layer"},"children":[{"type":"text","value":"Gateway Layer"}]},{"type":"text","value":". Serves\r\ninternal business services under given "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"rootPath"}]},{"type":"text","value":". You can also restrict access\r\nto business services by using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"allow"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"deny"}]},{"type":"text","value":" regex patterns."}]},{"type":"element","tag":"code","props":{"code":"// This sample configuration allows all services and denies nothing.\r\n// Example url: http://localhost:5000/gw/{module}.{entity/query}/{business}\r\ngateway: c => c.Routine(\r\n    rootPath: \"gw\",\r\n    allow: \".*\",\r\n    deny: \"^!$\"\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// This sample configuration allows all services and denies nothing.\r\n// Example url: http://localhost:5000/gw/{module}.{entity/query}/{business}\r\ngateway: c => c.Routine(\r\n    rootPath: \"gw\",\r\n    allow: \".*\",\r\n    deny: \"^!$\"\r\n)\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Default configuration serves under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/"}]},{"type":"text","value":", the root url of your application,\r\nand allows every business service with no restriction."}]},{"type":"element","tag":"h2","props":{"id":"http-header"},"children":[{"type":"text","value":"Http Header"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"HttpHeader configuration lets you expose custom headers in your public\r\napplication and map them to the headers of your internal business services.\r\nExposed headers are called "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" headers. Once mapped for every request they\r\nwill be forwarded to the business services using their "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"internal"}]},{"type":"text","value":" header name.\r\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Internal"}]},{"type":"text","value":" response headers will be mapped back to their corresponding "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":"\r\nheader as well."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This configuration is an example for creating a custom request and response\r\nheaders;"}]},{"type":"element","tag":"code","props":{"code":"httpHeader: c => c.Custom(h => h\r\n    .RequestHeader(\r\n        publicHeaderName: \"X-Public-Req\",\r\n        internalHeader: \"X-Internal-Req\"\r\n    )\r\n    .ResponseHeader(\r\n        publicHeaderName: \"X-Public-Res\",\r\n        internalHeader: \"X-Internal-Res\"\r\n    )\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"httpHeader: c => c.Custom(h => h\r\n    .RequestHeader(\r\n        publicHeaderName: \"X-Public-Req\",\r\n        internalHeader: \"X-Internal-Req\"\r\n    )\r\n    .ResponseHeader(\r\n        publicHeaderName: \"X-Public-Res\",\r\n        internalHeader: \"X-Internal-Res\"\r\n    )\r\n)\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below diagram illustrates mapping flow of this example;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"/images/features/configurations-1.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may also manipulate header value via a conversion function. Adding\r\nconversion functions to configuration from previous example;"}]},{"type":"element","tag":"code","props":{"code":"httpHeader: c => c.Custom(h => h\r\n    .RequestHeader(\r\n        publicHeaderName: \"X-Public-Req\",\r\n        internalHeader: \"X-Internal-Req\",\r\n        conversionFunc: public => public.ToUpperInvariant()\r\n    )s\r\n    .ResponseHeader(\r\n        publicHeaderName: \"X-Public-Res\",\r\n        internalHeader: \"X-Internal-Res\",\r\n        conversionFunc: internal => internal.ToLowerInvariant()\r\n    )\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"httpHeader: c => c.Custom(h => h\r\n    .RequestHeader(\r\n        publicHeaderName: \"X-Public-Req\",\r\n        internalHeader: \"X-Internal-Req\",\r\n        conversionFunc: public => public.ToUpperInvariant()\r\n    )s\r\n    .ResponseHeader(\r\n        publicHeaderName: \"X-Public-Res\",\r\n        internalHeader: \"X-Internal-Res\",\r\n        conversionFunc: internal => internal.ToLowerInvariant()\r\n    )\r\n)\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that conversion function in request accepts public header value as its\r\nparameter and returns internal header value, whereas in response it accepts\r\nthe internal response header value."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below is another example to illustrate what you can achieve using this\r\nconfiguration;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/features/-images/custom-request-header-postman.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Configuration of this is as follows;"}]},{"type":"element","tag":"code","props":{"code":"httpHeader: c => c.Custom(h => h\r\n    .RequestHeader(\r\n      publicHeaderName: \"Accept-Language\",\r\n      internalHeader: Header.LanguageCode,\r\n      conversionFunc: header => header.Before(\",\")\r\n    )\r\n\r\n    // Result code and result message headers are added by default.\r\n    // To override existing configuration, you need to clear response headers.\r\n    .ClearResponseHeaders()\r\n\r\n    .ResponseHeader(\r\n      publicHeaderName: \"X-Code\",\r\n      internalHeader: Header.ResultCode\r\n    )\r\n    .ResponseHeader(\r\n      publicHeaderName: \"X-Description\",\r\n      internalHeader: Header.ResultMessage\r\n    )\r\n    .ResponseHeader(\r\n      publicHeaderName: \"X-Link\",\r\n      internalHeader: Header.ResultCode,\r\n      conversionFunc: header => header == \"0\" ? null : $\"https://your-doc-site.com/result-codes/{header}\"\r\n    )\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"httpHeader: c => c.Custom(h => h\r\n    .RequestHeader(\r\n      publicHeaderName: \"Accept-Language\",\r\n      internalHeader: Header.LanguageCode,\r\n      conversionFunc: header => header.Before(\",\")\r\n    )\r\n\r\n    // Result code and result message headers are added by default.\r\n    // To override existing configuration, you need to clear response headers.\r\n    .ClearResponseHeaders()\r\n\r\n    .ResponseHeader(\r\n      publicHeaderName: \"X-Code\",\r\n      internalHeader: Header.ResultCode\r\n    )\r\n    .ResponseHeader(\r\n      publicHeaderName: \"X-Description\",\r\n      internalHeader: Header.ResultMessage\r\n    )\r\n    .ResponseHeader(\r\n      publicHeaderName: \"X-Link\",\r\n      internalHeader: Header.ResultCode,\r\n      conversionFunc: header => header == \"0\" ? null : $\"https://your-doc-site.com/result-codes/{header}\"\r\n    )\r\n)\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When header value is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":", it will not be included in the response."}]}]},{"type":"element","tag":"h2","props":{"id":"rest-api"},"children":[{"type":"text","value":"Rest Api"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TBD"}]}]},{"type":"element","tag":"h2","props":{"id":"service"},"children":[{"type":"text","value":"Service"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can configure service url base and request timeout values for a service\r\napplication to let it consume its own services as follows;"}]},{"type":"element","tag":"code","props":{"code":"service: c => c.Routine(\r\n    serviceUrlBase: \"http://localhost:5000/service\",\r\n    requestTimeout: TimeSpan.FromSeconds(5.0)\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"service: c => c.Routine(\r\n    serviceUrlBase: \"http://localhost:5000/service\",\r\n    requestTimeout: TimeSpan.FromSeconds(5.0)\r\n)\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceUrl"}]},{"type":"text","value":" helper to build a service url base;"}]},{"type":"element","tag":"code","props":{"code":"// http://localhost:5000/service\r\nServiceUrl.Localhost(5000)\r\n\r\n// http://sample.inventiv.com.tr/service\r\nServiceUrl.Build(\"http://sample.inventiv.com.tr\")\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// http://localhost:5000/service\r\nServiceUrl.Localhost(5000)\r\n\r\n// http://sample.inventiv.com.tr/service\r\nServiceUrl.Build(\"http://sample.inventiv.com.tr\")\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"service-client"},"children":[{"type":"text","value":"Service Client"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Service client configuration allows you to configure a downstream service\r\napplication information;"}]},{"type":"element","tag":"code","props":{"code":"serviceClient: c => c.Routine(\r\n    serviceUrlBase: \"http://localhost:5000/service\"\r\n    requestTimeout: TimeSpan.FromSeconds(5.0)\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"serviceClient: c => c.Routine(\r\n    serviceUrlBase: \"http://localhost:5000/service\"\r\n    requestTimeout: TimeSpan.FromSeconds(5.0)\r\n)\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceUrl"}]},{"type":"text","value":" helper to build a service url base;"}]},{"type":"element","tag":"code","props":{"code":"// http://localhost:5000/service\r\nServiceUrl.Localhost(5000)\r\n\r\n// http://sample.inventiv.com.tr/service\r\nServiceUrl.Build(\"http://sample.inventiv.com.tr\")\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// http://localhost:5000/service\r\nServiceUrl.Localhost(5000)\r\n\r\n// http://sample.inventiv.com.tr/service\r\nServiceUrl.Build(\"http://sample.inventiv.com.tr\")\n"}]}]}]}]}]},"position":100,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"configurations"},"children":[{"type":"text","value":"Configurations"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can find how to configure small features, "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Configurations"}]},{"type":"text","value":". When\r\nconfiguring an application you can always check which ones are available from\r\nthe optional parameters."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every sample code in this section is in the same format as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"service"}]},{"type":"text","value":" feature\r\nconfiguration shown below;"}]},{"type":"element","tag":"code","props":{"code":"service: c => c.Routine(\r\n  serviceUrlBase: ServiceUrl.Localhost(7028)\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"service"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Routine"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"serviceUrlBase"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"ServiceUrl"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Localhost"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bff539"},"children":[{"type":"text","value":"7028"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Examples will only include configuration line to avoid repetitive samples like\r\nbelow;"}]},{"type":"element","tag":"code","props":{"code":"builder.Services.AddGazelServiceApplication(cfg,\r\n    ...\r\n    service: c => c.Routine(\r\n      serviceUrlBase: ServiceUrl.Localhost(7028)\r\n    )\r\n    ...\r\n);\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"builder"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"Services"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"AddGazelServiceApplication"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"cfg"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"service"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Routine"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"serviceUrlBase"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"ServiceUrl"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Localhost"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bff539"},"children":[{"type":"text","value":"7028"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    )"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":");"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"application-assemblies"},"children":[{"type":"text","value":"Application Assemblies"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may change which assemblies are used for an application via this\r\nconfiguration. By default Gazel loads all assemblies starting with the root\r\nnamespace of your entry assembly. Assume your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Program.cs"}]},{"type":"text","value":" is in a project\r\nnamed "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MyCompany.MyComponent.App.Service"}]},{"type":"text","value":", then the root namespace is\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MyCompany"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each application configurer has a configuration named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"applicationAssemblies"}]},{"type":"text","value":"\r\nwhich provides "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Assemblies"}]},{"type":"text","value":" instance as a parameter and expects\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"List<Assembly>"}]},{"type":"text","value":" as a result. Below you can find default configuration;"}]},{"type":"element","tag":"code","props":{"code":"applicationAssemblies: c => c.All\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"applicationAssemblies"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"All"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are several ways to determine which assemblies to use;"}]},{"type":"element","tag":"h3","props":{"id":"filtering-all"},"children":[{"type":"text","value":"Filtering "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"All"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can directly filter out unwanted assemblies returned by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"All"}]},{"type":"text","value":" property."}]},{"type":"element","tag":"code","props":{"code":"applicationAssemblies: c => c.All.Where(predicate: a => !a.FullName.Contains(value: \"Exclude\")).ToList()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"applicationAssemblies"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Where"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"predicate"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"a"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => !"}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"a"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"FullName"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"Exclude\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"))."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"ToList"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"find-by-namespace"},"children":[{"type":"text","value":"Find By Namespace"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There is a method on "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Assemblies"}]},{"type":"text","value":" class called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Find"}]},{"type":"text","value":" that takes a namespace\r\npredicate as a parameter;"}]},{"type":"element","tag":"code","props":{"code":"applicationAssemblies: c => c.Find(namespaceFilter: ns => ns.StartsWith(value: \"MyCompany\"))\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"applicationAssemblies"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Find"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"namespaceFilter"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"ns"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"ns"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"StartsWith"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"MyCompany\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"))"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"find-by-regex"},"children":[{"type":"text","value":"Find By Regex"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also provide a namespace regex;"}]},{"type":"element","tag":"code","props":{"code":"applicationAssemblies: c => c.Find(namespaceRegex: \"^MyCompany.*$\")\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"applicationAssemblies"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Find"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"namespaceRegex"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"^MyCompany.*$\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"find-by-assemblytype"},"children":[{"type":"text","value":"Find By "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AssemblyType"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can make use of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AssemblyType"}]},{"type":"text","value":" class."}]},{"type":"element","tag":"code","props":{"code":"applicationAssemblies: c => c.Find(type: AssemblyType.Module)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"applicationAssemblies"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Find"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"type"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"AssemblyType"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"Module"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"c => c.Find(type: AssemblyType.All)"}]},{"type":"text","value":" is equivalent to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"c => c.All"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AssemblyType"}]},{"type":"text","value":" uses root namespace of your project that is resolved\r\nautomatically. You can access your root namespace programmatically via\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AssemblyType.Root"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Config.RootNamespace"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"application-session"},"children":[{"type":"text","value":"Application Session"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ApplicationSessionConfiguration"}]},{"type":"text","value":" allows you to provide a token for a middle\r\napplication (such as "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Gateway Application"}]},{"type":"text","value":") to be used when sending requests to\r\nits backing application (such as "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Service Application"}]},{"type":"text","value":"). When there is a need\r\nfor your application to authenticate its requests to the other application\r\nbefore a user session is established you can use this configuration."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can find this configuration under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"applicationSession:"}]},{"type":"text","value":" parameter and\r\nprovide an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AppToken"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"applicationSession: c => c.Use(token: cfg.Setting<AppToken>(\"ApplicationSession.Token\"))\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"applicationSession"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Use"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"token"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"cfg"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Setting"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-0a5eac"},"children":[{"type":"text","value":"AppToken"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":">("}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"ApplicationSession.Token\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"))"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Or you can leave your application session token empty by using\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UseEmptyToken()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"applicationSession: c => c.UseEmptyToken()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"applicationSession"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"UseEmptyToken"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Default configuration uses "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UseEmptyToken()"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"business-logic"},"children":[{"type":"text","value":"Business Logic"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"BusinessLogicConfiguration"}]},{"type":"text","value":" you can configure Routine's\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"developmentMode"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"maxFetchDepth"}]},{"type":"text","value":" options."}]},{"type":"element","tag":"code","props":{"code":"businessLogic: c => c.Routine(\r\n  developmentMode: builder.Environment.IsDevelopment(), // defaults to false\r\n  maxFetchDepth: 10 // defaults to 10\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"businessLogic"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Routine"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"developmentMode"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"builder"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"Environment"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"IsDevelopment"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"(), "}]},{"type":"element","tag":"span","props":{"class":"ct-c52cee"},"children":[{"type":"text","value":"// defaults to false"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"maxFetchDepth"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-bff539"},"children":[{"type":"text","value":"10"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c52cee"},"children":[{"type":"text","value":"// defaults to 10"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MaxFetchDepth"}]},{"type":"text","value":" is a parameter that limits service layer during json\r\nserialization from going through all the relations to prevent a stack\r\noverflow in case of a circular relation. This does "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"NOT"}]},{"type":"text","value":" configure\r\nNHibernate's eager fetch / lazy load mechanism."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There is also an extra "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"includeComponentNameInModuleName:"}]},{"type":"text","value":" option which enables\r\nyour application to use the component part of your module project as well as\r\nits module name. To use this option your module projects must be named in\r\nthis convention: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<Company>.<Component>.Module.<ModuleName>"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"businessLogic: c => c.Routine(\r\n  includeComponentNameInModuleName: true // defaults to false\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"businessLogic"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Routine"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"includeComponentNameInModuleName"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-db066a"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c52cee"},"children":[{"type":"text","value":"// defaults to false"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To give an example, if you have a module project named\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Inventiv.Sample.Module.Todo"}]},{"type":"text","value":", name of this module in service layer is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Todo"}]},{"type":"text","value":"\r\nby default. If you set this option to true, module name in service layer\r\nwill be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Sample.Todo"}]},{"type":"text","value":". It is useful when you have a large enough project with\r\nmore than one component."}]},{"type":"element","tag":"h2","props":{"id":"command-line"},"children":[{"type":"text","value":"Command Line"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Allows you to configure which assembly to use when searching for command\r\nclasses. You can use AssemblyType (similar to "},{"type":"element","tag":"a","props":{"href":"/features#configurations-application-assemblies"},"children":[{"type":"text","value":"Application\r\nAssemblies"}]},{"type":"text","value":") for this configuration."}]},{"type":"element","tag":"code","props":{"code":"commandLine: c => c.CommandLineParser(commandAssembly: AssemblyType.All),\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"commandLine"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"CommandLineParser"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"commandAssembly"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"AssemblyType"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"All"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"),"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Default configurations uses "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AssemblyType.App"}]},{"type":"text","value":", so it expects command classes\r\nto be directly in the app project. App project names follow this convention:\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<Company>.<Component>.App.<AppName>"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For more information visit "},{"type":"element","tag":"a","props":{"href":"/architecture#layers-command-line-layer"},"children":[{"type":"text","value":"Command Line\r\nLayer"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"database"},"children":[{"type":"text","value":"Database"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TBD"}]}]},{"type":"element","tag":"h2","props":{"id":"gateway"},"children":[{"type":"text","value":"Gateway"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Configures "},{"type":"element","tag":"a","props":{"href":"/architecture#layers-gateway-layer"},"children":[{"type":"text","value":"Gateway Layer"}]},{"type":"text","value":". Serves\r\ninternal business services under given "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"rootPath"}]},{"type":"text","value":". You can also restrict access\r\nto business services by using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"allow"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"deny"}]},{"type":"text","value":" regex patterns."}]},{"type":"element","tag":"code","props":{"code":"// This sample configuration allows all services and denies nothing.\r\n// Example url: http://localhost:5000/gw/{module}.{entity/query}/{business}\r\ngateway: c => c.Routine(\r\n    rootPath: \"gw\",\r\n    allow: \".*\",\r\n    deny: \"^!$\"\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c52cee"},"children":[{"type":"text","value":"// This sample configuration allows all services and denies nothing."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c52cee"},"children":[{"type":"text","value":"// Example url: http://localhost:5000/gw/{module}.{entity/query}/{business}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"gateway"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Routine"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"rootPath"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"gw\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"allow"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\".*\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"deny"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"^!$\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Default configuration serves under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/"}]},{"type":"text","value":", the root url of your application,\r\nand allows every business service with no restriction."}]},{"type":"element","tag":"h2","props":{"id":"http-header"},"children":[{"type":"text","value":"Http Header"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"HttpHeader configuration lets you expose custom headers in your public\r\napplication and map them to the headers of your internal business services.\r\nExposed headers are called "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" headers. Once mapped for every request they\r\nwill be forwarded to the business services using their "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"internal"}]},{"type":"text","value":" header name.\r\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Internal"}]},{"type":"text","value":" response headers will be mapped back to their corresponding "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":"\r\nheader as well."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This configuration is an example for creating a custom request and response\r\nheaders;"}]},{"type":"element","tag":"code","props":{"code":"httpHeader: c => c.Custom(h => h\r\n    .RequestHeader(\r\n        publicHeaderName: \"X-Public-Req\",\r\n        internalHeader: \"X-Internal-Req\"\r\n    )\r\n    .ResponseHeader(\r\n        publicHeaderName: \"X-Public-Res\",\r\n        internalHeader: \"X-Internal-Res\"\r\n    )\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"httpHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Custom"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"h"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"h"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"RequestHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"publicHeaderName"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"X-Public-Req\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"internalHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"X-Internal-Req\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    )"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"ResponseHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"publicHeaderName"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"X-Public-Res\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"internalHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"X-Internal-Res\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    )"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below diagram illustrates mapping flow of this example;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"/images/features/configurations-1.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may also manipulate header value via a conversion function. Adding\r\nconversion functions to configuration from previous example;"}]},{"type":"element","tag":"code","props":{"code":"httpHeader: c => c.Custom(h => h\r\n    .RequestHeader(\r\n        publicHeaderName: \"X-Public-Req\",\r\n        internalHeader: \"X-Internal-Req\",\r\n        conversionFunc: public => public.ToUpperInvariant()\r\n    )s\r\n    .ResponseHeader(\r\n        publicHeaderName: \"X-Public-Res\",\r\n        internalHeader: \"X-Internal-Res\",\r\n        conversionFunc: internal => internal.ToLowerInvariant()\r\n    )\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"httpHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Custom"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"h"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"h"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"RequestHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"publicHeaderName"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"X-Public-Req\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"internalHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"X-Internal-Req\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"conversionFunc"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"ToUpperInvariant"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    )"}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"s"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"ResponseHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"publicHeaderName"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"X-Public-Res\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"internalHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"X-Internal-Res\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"conversionFunc"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"ToLowerInvariant"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    )"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that conversion function in request accepts public header value as its\r\nparameter and returns internal header value, whereas in response it accepts\r\nthe internal response header value."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below is another example to illustrate what you can achieve using this\r\nconfiguration;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/features/-images/custom-request-header-postman.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Configuration of this is as follows;"}]},{"type":"element","tag":"code","props":{"code":"httpHeader: c => c.Custom(h => h\r\n    .RequestHeader(\r\n      publicHeaderName: \"Accept-Language\",\r\n      internalHeader: Header.LanguageCode,\r\n      conversionFunc: header => header.Before(\",\")\r\n    )\r\n\r\n    // Result code and result message headers are added by default.\r\n    // To override existing configuration, you need to clear response headers.\r\n    .ClearResponseHeaders()\r\n\r\n    .ResponseHeader(\r\n      publicHeaderName: \"X-Code\",\r\n      internalHeader: Header.ResultCode\r\n    )\r\n    .ResponseHeader(\r\n      publicHeaderName: \"X-Description\",\r\n      internalHeader: Header.ResultMessage\r\n    )\r\n    .ResponseHeader(\r\n      publicHeaderName: \"X-Link\",\r\n      internalHeader: Header.ResultCode,\r\n      conversionFunc: header => header == \"0\" ? null : $\"https://your-doc-site.com/result-codes/{header}\"\r\n    )\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"httpHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Custom"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"h"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"h"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"RequestHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"publicHeaderName"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"Accept-Language\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"internalHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"Header"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"LanguageCode"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"conversionFunc"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"header"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"header"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Before"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\",\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    )"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c52cee"},"children":[{"type":"text","value":"// Result code and result message headers are added by default."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c52cee"},"children":[{"type":"text","value":"// To override existing configuration, you need to clear response headers."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"ClearResponseHeaders"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"ResponseHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"publicHeaderName"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"X-Code\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"internalHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"Header"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"ResultCode"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    )"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"ResponseHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"publicHeaderName"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"X-Description\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"internalHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"Header"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"ResultMessage"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    )"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"ResponseHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"publicHeaderName"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"X-Link\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"internalHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"Header"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"ResultCode"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"conversionFunc"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"header"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"header"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" == "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"0\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" ? "}]},{"type":"element","tag":"span","props":{"class":"ct-db066a"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"$\"https://your-doc-site.com/result-codes/{"}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"header"}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"}\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    )"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When header value is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":", it will not be included in the response."}]}]},{"type":"element","tag":"h2","props":{"id":"rest-api"},"children":[{"type":"text","value":"Rest Api"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TBD"}]}]},{"type":"element","tag":"h2","props":{"id":"service"},"children":[{"type":"text","value":"Service"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can configure service url base and request timeout values for a service\r\napplication to let it consume its own services as follows;"}]},{"type":"element","tag":"code","props":{"code":"service: c => c.Routine(\r\n    serviceUrlBase: \"http://localhost:5000/service\",\r\n    requestTimeout: TimeSpan.FromSeconds(5.0)\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"service"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Routine"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"serviceUrlBase"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"http://localhost:5000/service\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"requestTimeout"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"TimeSpan"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"FromSeconds"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bff539"},"children":[{"type":"text","value":"5.0"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceUrl"}]},{"type":"text","value":" helper to build a service url base;"}]},{"type":"element","tag":"code","props":{"code":"// http://localhost:5000/service\r\nServiceUrl.Localhost(5000)\r\n\r\n// http://sample.inventiv.com.tr/service\r\nServiceUrl.Build(\"http://sample.inventiv.com.tr\")\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c52cee"},"children":[{"type":"text","value":"// http://localhost:5000/service"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"ServiceUrl"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Localhost"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bff539"},"children":[{"type":"text","value":"5000"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c52cee"},"children":[{"type":"text","value":"// http://sample.inventiv.com.tr/service"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"ServiceUrl"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Build"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"http://sample.inventiv.com.tr\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"service-client"},"children":[{"type":"text","value":"Service Client"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Service client configuration allows you to configure a downstream service\r\napplication information;"}]},{"type":"element","tag":"code","props":{"code":"serviceClient: c => c.Routine(\r\n    serviceUrlBase: \"http://localhost:5000/service\"\r\n    requestTimeout: TimeSpan.FromSeconds(5.0)\r\n)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f14272"},"children":[{"type":"text","value":"serviceClient"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Routine"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"serviceUrlBase"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"http://localhost:5000/service\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"requestTimeout"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"TimeSpan"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"FromSeconds"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bff539"},"children":[{"type":"text","value":"5.0"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ServiceUrl"}]},{"type":"text","value":" helper to build a service url base;"}]},{"type":"element","tag":"code","props":{"code":"// http://localhost:5000/service\r\nServiceUrl.Localhost(5000)\r\n\r\n// http://sample.inventiv.com.tr/service\r\nServiceUrl.Build(\"http://sample.inventiv.com.tr\")\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c52cee"},"children":[{"type":"text","value":"// http://localhost:5000/service"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"ServiceUrl"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Localhost"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bff539"},"children":[{"type":"text","value":"5000"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c52cee"},"children":[{"type":"text","value":"// http://sample.inventiv.com.tr/service"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-11ddcd"},"children":[{"type":"text","value":"ServiceUrl"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-0acf20"},"children":[{"type":"text","value":"Build"}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ee1152"},"children":[{"type":"text","value":"\"http://sample.inventiv.com.tr\""}]},{"type":"element","tag":"span","props":{"class":"ct-0b7139"},"children":[{"type":"text","value":")"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-db066a{color:#569CD6}\n.ct-c52cee{color:#6A9955}\n.ct-0a5eac{color:#4EC9B0}\n.ct-ee1152{color:#CE9178}\n.ct-bff539{color:#B5CEA8}\n.ct-0acf20{color:#DCDCAA}\n.ct-11ddcd{color:#9CDCFE}\n.ct-0b7139{color:#D4D4D4}\n.ct-f14272{color:#C8C8C8}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"application-assemblies","depth":2,"text":"Application Assemblies","children":[{"id":"filtering-all","depth":3,"text":"Filtering All"},{"id":"find-by-namespace","depth":3,"text":"Find By Namespace"},{"id":"find-by-regex","depth":3,"text":"Find By Regex"},{"id":"find-by-assemblytype","depth":3,"text":"Find By AssemblyType"}]},{"id":"application-session","depth":2,"text":"Application Session"},{"id":"business-logic","depth":2,"text":"Business Logic"},{"id":"command-line","depth":2,"text":"Command Line"},{"id":"database","depth":2,"text":"Database"},{"id":"gateway","depth":2,"text":"Gateway"},{"id":"http-header","depth":2,"text":"Http Header"},{"id":"rest-api","depth":2,"text":"Rest Api"},{"id":"service","depth":2,"text":"Service"},{"id":"service-client","depth":2,"text":"Service Client"}]}},"_type":"markdown","_id":"content:features:configurations.md","_source":"content","_file":"features/configurations.md","_extension":"md"},{"_path":"/features/options","_dir":"features","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Options","description":"Options are features that you can only enable or disable. Below is a sample\r\noption configuration;","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"options"},"children":[{"type":"text","value":"Options"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Options"}]},{"type":"text","value":" are features that you can only enable or disable. Below is a sample\r\noption configuration;"}]},{"type":"element","tag":"code","props":{"code":"// e.g. audit has built in Enabled or Disabled configuration options\r\naudit: c => c.Enabled()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// e.g. audit has built in Enabled or Disabled configuration options\r\naudit: c => c.Enabled()\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"audit"},"children":[{"type":"text","value":"Audit"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" feature allows you to audit your entity and service requests.\r\nYou can implement your entity from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditable"}]},{"type":"text","value":" to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AuditInfo"}]},{"type":"text","value":"\r\ntype property which will allow you to audit your entity. You can give\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" attribute to service methods to audit service requests."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To configure this feature you can use built in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Enabled()"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Disabled()"}]},{"type":"text","value":"\r\noptions. Default option is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Enabled()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"audit: c => c.Enabled()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"audit: c => c.Enabled()\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"audit: c => c.Disabled()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"audit: c => c.Disabled()\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"audit-attribute"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" Attribute"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" attribute to audit your service requests. When an audited\r\nservice method is called an interceptor will use the methods implemented in\r\nthe "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" to audit your service requests."}]},{"type":"element","tag":"code","props":{"code":"[Audit]\r\npublic async Task RequestWithAudit() => ...;\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[Audit]\r\npublic async Task RequestWithAudit() => ...;\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" implementation is required."}]}]},{"type":"element","tag":"h4","props":{"id":"implementing-audit-manager"},"children":[{"type":"text","value":"Implementing "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Manager"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For audit attribute to work, you need to implement "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditManager"}]},{"type":"text","value":". In this\r\nimplementation you can configure the behaviour of your "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" when\r\nyour requests are audited."}]},{"type":"element","tag":"code","props":{"code":"public class AuditManager : IAuditManager\r\n{\r\n    void IAuditManager.SaveRequest(Guid requestId, string serviceInstance, string serviceName, string serviceParameters) => ...;\r\n    void IAuditManager.SaveSuccessfulResponse(Guid requestId, string serviceResponse) => ...;\r\n    void IAuditManager.SaveFailedResponse(Guid requestId, Exception exception) => ...;\r\n    int IAuditManager.GetDailyRequestCount(string serviceInstance, string serviceName, Date date) => ...;\r\n    int IAuditManager.GetMaxDailyRequestCount(string serviceInstance, string serviceName) => 5;\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class AuditManager : IAuditManager\r\n{\r\n    void IAuditManager.SaveRequest(Guid requestId, string serviceInstance, string serviceName, string serviceParameters) => ...;\r\n    void IAuditManager.SaveSuccessfulResponse(Guid requestId, string serviceResponse) => ...;\r\n    void IAuditManager.SaveFailedResponse(Guid requestId, Exception exception) => ...;\r\n    int IAuditManager.GetDailyRequestCount(string serviceInstance, string serviceName, Date date) => ...;\r\n    int IAuditManager.GetMaxDailyRequestCount(string serviceInstance, string serviceName) => 5;\r\n}\n"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SaveRequest()"}]},{"type":"text","value":": During every request interceptor calls the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SaveRequest()"}]},{"type":"text","value":"\r\nmethod. You can use this method for keeping a request log."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SaveSuccessfulResponse()"}]},{"type":"text","value":": You can use this method to save the information\r\nof requests with successful response."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SaveFailedResponse()"}]},{"type":"text","value":": You can use this method to save the information\r\nof requests with failed response."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetDailyRequestCount()"}]},{"type":"text","value":": Using the request log edited in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SaveRequest()"}]},{"type":"text","value":"\r\nyou can find the request count for each service."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetMaxDailyRequestCount()"}]},{"type":"text","value":": You can configure the limit in the audit manager\r\nusing "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetMaxDailyRequestCount()"}]},{"type":"text","value":". Using this method you can set maximum daily\r\nrequest of each service. In this example maximum daily request is constant,\r\nyou can implement a logic to determine unique maximum daily request for each\r\nservice."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After implementing the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":", to audit your service requests you\r\nonly need to give audit attribute to your service methods."}]},{"type":"element","tag":"h4","props":{"id":"limiting-daily-request"},"children":[{"type":"text","value":"Limiting Daily Request"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" feature is enabled you can also limit daily service requests. When\r\nthere is a service request, interceptor uses "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetDailyRequestCount()"}]},{"type":"text","value":" of your\r\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" to get the daily request count and if it exceeds the maximum\r\ndaily request amount it will throw an exception."}]},{"type":"element","tag":"code","props":{"code":"audit: c => c.Enabled(limitDailyRequest: true)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"audit: c => c.Enabled(limitDailyRequest: true)\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"auditable-entity"},"children":[{"type":"text","value":"Auditable Entity"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can audit your entity class by implementing them from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditable"}]},{"type":"text","value":" and add\r\nthe "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AuditInfo"}]},{"type":"text","value":" type property to your entity. This property is used to add\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateDate"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateUserId"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ModifyDate"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ModifyUserId"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ModifyHost"}]},{"type":"text","value":" colums\r\nto your entity database table and keeps them updated. The information except\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateDate"}]},{"type":"text","value":" is taken from "},{"type":"element","tag":"a","props":{"href":"/features#authentication"},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Authentication"}]}]},{"type":"text","value":" feature."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/features/-images/audit-info.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can implement an entity class from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditable"}]},{"type":"text","value":" as seen in the example."}]},{"type":"element","tag":"code","props":{"code":"public class Entity : IAuditable\r\n{\r\n    private readonly IRepository<Entity> _repository;\r\n    private readonly IModuleContext _context;\r\n\r\n    protected Entity() { }\r\n    public Entity(IRepository<Entity> repository, IModuleContext context)\r\n    {\r\n        _repository = repository;\r\n        _context = context;\r\n    }\r\n\r\n    public virtual int Id { get; protected set; }\r\n    public virtual AuditInfo AuditInfo { get; protected set; }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public class Entity : IAuditable\r\n{\r\n    private readonly IRepository<Entity> _repository;\r\n    private readonly IModuleContext _context;\r\n\r\n    protected Entity() { }\r\n    public Entity(IRepository<Entity> repository, IModuleContext context)\r\n    {\r\n        _repository = repository;\r\n        _context = context;\r\n    }\r\n\r\n    public virtual int Id { get; protected set; }\r\n    public virtual AuditInfo AuditInfo { get; protected set; }\r\n}\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When audit is disabled, entities implemented from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditable"}]},{"type":"text","value":" will not cause\r\nerror."}]}]},{"type":"element","tag":"h2","props":{"id":"decimal-point"},"children":[{"type":"text","value":"Decimal Point"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Decimal point lets you change the way "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Money"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MoneyRange"}]},{"type":"text","value":" value types\r\nare serialized in service layer. It gives you two options "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Always"}]},{"type":"text","value":" and\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AfterTwoDigits"}]},{"type":"text","value":", default configuration is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Always()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Always"}]},{"type":"text","value":", when you always expect decimal point separator;"}]},{"type":"element","tag":"code","props":{"code":"// While parsing, this option expects decimal point\r\n// only when there are decimal digits.\r\n// 100USD -> $100\r\n// 1.00USD -> $1.00\r\n\r\ndecimalPoint: c => c.Always()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// While parsing, this option expects decimal point\r\n// only when there are decimal digits.\r\n// 100USD -> $100\r\n// 1.00USD -> $1.00\r\n\r\ndecimalPoint: c => c.Always()\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AfterTwoDigits"}]},{"type":"text","value":" when you want last two digits to be treated automatically\r\nas decimal digits;"}]},{"type":"element","tag":"code","props":{"code":"// While parsing, this option treats last two digits\r\n// as decimal digits even if there is no decimal point\r\n// separator and expect decimal point separator only\r\n// when there are more than two decimal digits\r\n// 100USD -> $1.00\r\n// 1.001USD -> $1.001\r\n\r\ndecimalPoint: c => c.AfterTwoDigits(),\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// While parsing, this option treats last two digits\r\n// as decimal digits even if there is no decimal point\r\n// separator and expect decimal point separator only\r\n// when there are more than two decimal digits\r\n// 100USD -> $1.00\r\n// 1.001USD -> $1.001\r\n\r\ndecimalPoint: c => c.AfterTwoDigits(),\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"utc"},"children":[{"type":"text","value":"UTC"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can choose if "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISystem.Now"}]},{"type":"text","value":" property will use UTC time or local time using\r\nthis option."}]},{"type":"element","tag":"code","props":{"code":"// Uses Utc time\r\nutc: c => c.UseUtcTime()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// Uses Utc time\r\nutc: c => c.UseUtcTime()\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"// Uses local time\r\nutc: c => c.UseLocalTime()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// Uses local time\r\nutc: c => c.UseLocalTime()\n"}]}]}]}]},"position":101,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"options"},"children":[{"type":"text","value":"Options"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Options"}]},{"type":"text","value":" are features that you can only enable or disable. Below is a sample\r\noption configuration;"}]},{"type":"element","tag":"code","props":{"code":"// e.g. audit has built in Enabled or Disabled configuration options\r\naudit: c => c.Enabled()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-38aa00"},"children":[{"type":"text","value":"// e.g. audit has built in Enabled or Disabled configuration options"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1c99c2"},"children":[{"type":"text","value":"audit"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"Enabled"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"audit"},"children":[{"type":"text","value":"Audit"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" feature allows you to audit your entity and service requests.\r\nYou can implement your entity from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditable"}]},{"type":"text","value":" to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AuditInfo"}]},{"type":"text","value":"\r\ntype property which will allow you to audit your entity. You can give\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" attribute to service methods to audit service requests."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To configure this feature you can use built in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Enabled()"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Disabled()"}]},{"type":"text","value":"\r\noptions. Default option is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Enabled()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"audit: c => c.Enabled()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1c99c2"},"children":[{"type":"text","value":"audit"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"Enabled"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"audit: c => c.Disabled()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1c99c2"},"children":[{"type":"text","value":"audit"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"Disabled"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"audit-attribute"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" Attribute"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" attribute to audit your service requests. When an audited\r\nservice method is called an interceptor will use the methods implemented in\r\nthe "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" to audit your service requests."}]},{"type":"element","tag":"code","props":{"code":"[Audit]\r\npublic async Task RequestWithAudit() => ...;\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"Audit"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"Task"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"RequestWithAudit"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"() => ...;"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" implementation is required."}]}]},{"type":"element","tag":"h4","props":{"id":"implementing-audit-manager"},"children":[{"type":"text","value":"Implementing "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Manager"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For audit attribute to work, you need to implement "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditManager"}]},{"type":"text","value":". In this\r\nimplementation you can configure the behaviour of your "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" when\r\nyour requests are audited."}]},{"type":"element","tag":"code","props":{"code":"public class AuditManager : IAuditManager\r\n{\r\n    void IAuditManager.SaveRequest(Guid requestId, string serviceInstance, string serviceName, string serviceParameters) => ...;\r\n    void IAuditManager.SaveSuccessfulResponse(Guid requestId, string serviceResponse) => ...;\r\n    void IAuditManager.SaveFailedResponse(Guid requestId, Exception exception) => ...;\r\n    int IAuditManager.GetDailyRequestCount(string serviceInstance, string serviceName, Date date) => ...;\r\n    int IAuditManager.GetMaxDailyRequestCount(string serviceInstance, string serviceName) => 5;\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"AuditManager"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"IAuditManager"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"IAuditManager"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"SaveRequest"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"Guid"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"requestId"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"serviceInstance"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"serviceName"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"serviceParameters"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":") => ...;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"IAuditManager"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"SaveSuccessfulResponse"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"Guid"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"requestId"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"serviceResponse"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":") => ...;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"IAuditManager"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"SaveFailedResponse"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"Guid"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"requestId"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"Exception"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"exception"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":") => ...;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"IAuditManager"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"GetDailyRequestCount"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"serviceInstance"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"serviceName"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"Date"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"date"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":") => ...;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"IAuditManager"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"GetMaxDailyRequestCount"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"serviceInstance"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"serviceName"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-afb8e3"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SaveRequest()"}]},{"type":"text","value":": During every request interceptor calls the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SaveRequest()"}]},{"type":"text","value":"\r\nmethod. You can use this method for keeping a request log."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SaveSuccessfulResponse()"}]},{"type":"text","value":": You can use this method to save the information\r\nof requests with successful response."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SaveFailedResponse()"}]},{"type":"text","value":": You can use this method to save the information\r\nof requests with failed response."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetDailyRequestCount()"}]},{"type":"text","value":": Using the request log edited in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SaveRequest()"}]},{"type":"text","value":"\r\nyou can find the request count for each service."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetMaxDailyRequestCount()"}]},{"type":"text","value":": You can configure the limit in the audit manager\r\nusing "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetMaxDailyRequestCount()"}]},{"type":"text","value":". Using this method you can set maximum daily\r\nrequest of each service. In this example maximum daily request is constant,\r\nyou can implement a logic to determine unique maximum daily request for each\r\nservice."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After implementing the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":", to audit your service requests you\r\nonly need to give audit attribute to your service methods."}]},{"type":"element","tag":"h4","props":{"id":"limiting-daily-request"},"children":[{"type":"text","value":"Limiting Daily Request"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" feature is enabled you can also limit daily service requests. When\r\nthere is a service request, interceptor uses "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetDailyRequestCount()"}]},{"type":"text","value":" of your\r\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Audit"}]},{"type":"text","value":" "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Manager"}]},{"type":"text","value":" to get the daily request count and if it exceeds the maximum\r\ndaily request amount it will throw an exception."}]},{"type":"element","tag":"code","props":{"code":"audit: c => c.Enabled(limitDailyRequest: true)\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1c99c2"},"children":[{"type":"text","value":"audit"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"Enabled"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"limitDailyRequest"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"auditable-entity"},"children":[{"type":"text","value":"Auditable Entity"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can audit your entity class by implementing them from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditable"}]},{"type":"text","value":" and add\r\nthe "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AuditInfo"}]},{"type":"text","value":" type property to your entity. This property is used to add\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateDate"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateUserId"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ModifyDate"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ModifyUserId"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ModifyHost"}]},{"type":"text","value":" colums\r\nto your entity database table and keeps them updated. The information except\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateDate"}]},{"type":"text","value":" is taken from "},{"type":"element","tag":"a","props":{"href":"/features#authentication"},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Authentication"}]}]},{"type":"text","value":" feature."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":" ","src":"/images/features/-images/audit-info.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can implement an entity class from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditable"}]},{"type":"text","value":" as seen in the example."}]},{"type":"element","tag":"code","props":{"code":"public class Entity : IAuditable\r\n{\r\n    private readonly IRepository<Entity> _repository;\r\n    private readonly IModuleContext _context;\r\n\r\n    protected Entity() { }\r\n    public Entity(IRepository<Entity> repository, IModuleContext context)\r\n    {\r\n        _repository = repository;\r\n        _context = context;\r\n    }\r\n\r\n    public virtual int Id { get; protected set; }\r\n    public virtual AuditInfo AuditInfo { get; protected set; }\r\n}\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"Entity"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"IAuditable"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"IRepository"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"Entity"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"readonly"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"Entity"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"() { }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"Entity"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"IRepository"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"Entity"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"IModuleContext"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"_repository"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"_context"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"Id"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"virtual"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-563f51"},"children":[{"type":"text","value":"AuditInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"AuditInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-71c04f"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"; }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When audit is disabled, entities implemented from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IAuditable"}]},{"type":"text","value":" will not cause\r\nerror."}]}]},{"type":"element","tag":"h2","props":{"id":"decimal-point"},"children":[{"type":"text","value":"Decimal Point"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Decimal point lets you change the way "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Money"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MoneyRange"}]},{"type":"text","value":" value types\r\nare serialized in service layer. It gives you two options "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Always"}]},{"type":"text","value":" and\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AfterTwoDigits"}]},{"type":"text","value":", default configuration is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Always()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Always"}]},{"type":"text","value":", when you always expect decimal point separator;"}]},{"type":"element","tag":"code","props":{"code":"// While parsing, this option expects decimal point\r\n// only when there are decimal digits.\r\n// 100USD -> $100\r\n// 1.00USD -> $1.00\r\n\r\ndecimalPoint: c => c.Always()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-38aa00"},"children":[{"type":"text","value":"// While parsing, this option expects decimal point"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-38aa00"},"children":[{"type":"text","value":"// only when there are decimal digits."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-38aa00"},"children":[{"type":"text","value":"// 100USD -> $100"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-38aa00"},"children":[{"type":"text","value":"// 1.00USD -> $1.00"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1c99c2"},"children":[{"type":"text","value":"decimalPoint"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"Always"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AfterTwoDigits"}]},{"type":"text","value":" when you want last two digits to be treated automatically\r\nas decimal digits;"}]},{"type":"element","tag":"code","props":{"code":"// While parsing, this option treats last two digits\r\n// as decimal digits even if there is no decimal point\r\n// separator and expect decimal point separator only\r\n// when there are more than two decimal digits\r\n// 100USD -> $1.00\r\n// 1.001USD -> $1.001\r\n\r\ndecimalPoint: c => c.AfterTwoDigits(),\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-38aa00"},"children":[{"type":"text","value":"// While parsing, this option treats last two digits"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-38aa00"},"children":[{"type":"text","value":"// as decimal digits even if there is no decimal point"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-38aa00"},"children":[{"type":"text","value":"// separator and expect decimal point separator only"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-38aa00"},"children":[{"type":"text","value":"// when there are more than two decimal digits"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-38aa00"},"children":[{"type":"text","value":"// 100USD -> $1.00"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-38aa00"},"children":[{"type":"text","value":"// 1.001USD -> $1.001"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1c99c2"},"children":[{"type":"text","value":"decimalPoint"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"AfterTwoDigits"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"(),"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"utc"},"children":[{"type":"text","value":"UTC"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can choose if "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ISystem.Now"}]},{"type":"text","value":" property will use UTC time or local time using\r\nthis option."}]},{"type":"element","tag":"code","props":{"code":"// Uses Utc time\r\nutc: c => c.UseUtcTime()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-38aa00"},"children":[{"type":"text","value":"// Uses Utc time"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1c99c2"},"children":[{"type":"text","value":"utc"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"UseUtcTime"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"// Uses local time\r\nutc: c => c.UseLocalTime()\n","language":"csharp"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-38aa00"},"children":[{"type":"text","value":"// Uses local time"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1c99c2"},"children":[{"type":"text","value":"utc"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-245b43"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e6c66e"},"children":[{"type":"text","value":"UseLocalTime"}]},{"type":"element","tag":"span","props":{"class":"ct-baf511"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-afb8e3{color:#B5CEA8}\n.ct-71c04f{color:#569CD6}\n.ct-563f51{color:#4EC9B0}\n.ct-e6c66e{color:#DCDCAA}\n.ct-245b43{color:#9CDCFE}\n.ct-baf511{color:#D4D4D4}\n.ct-1c99c2{color:#C8C8C8}\n.ct-38aa00{color:#6A9955}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"audit","depth":2,"text":"Audit","children":[{"id":"audit-attribute","depth":3,"text":"Audit Attribute"},{"id":"auditable-entity","depth":3,"text":"Auditable Entity"}]},{"id":"decimal-point","depth":2,"text":"Decimal Point"},{"id":"utc","depth":2,"text":"UTC"}]}},"_type":"markdown","_id":"content:features:options.md","_source":"content","_file":"features/options.md","_extension":"md"}]